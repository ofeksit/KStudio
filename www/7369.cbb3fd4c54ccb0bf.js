"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7369],{5666:(_t,K,_)=>{_.d(K,{T:()=>St});var n=_(467),C=_(8194),N=_(9969),L=_(7586),at=_(5558),J=_(5312),t=_(3953),k=_(791),j=_(4938),z=_(177);function G(u,v){if(1&u&&(t.j41(0,"div",9)(1,"h3",10),t.EFF(2),t.k0s(),t.j41(3,"p",11),t.EFF(4),t.k0s()()),2&u){const m=v.$implicit,r=t.XpG();t.R7$(2),t.JRh(r.getDayInHebrew(m.name)),t.R7$(2),t.JRh(m.date)}}function U(u,v){if(1&u&&(t.j41(0,"div")(1,"p",16),t.EFF(2),t.k0s(),t.j41(3,"p",17),t.EFF(4),t.k0s()()),2&u){const m=t.XpG().$implicit,r=t.XpG().$implicit;t.R7$(2),t.JRh(m.trainings[r].time),t.R7$(2),t.JRh(m.trainings[r].title)}}function H(u,v){1&u&&(t.j41(0,"div")(1,"p",18),t.EFF(2,"-"),t.k0s()())}function nt(u,v){if(1&u&&(t.j41(0,"div",14),t.DNE(1,U,5,2,"div",15)(2,H,3,0,"div",15),t.k0s()),2&u){const m=v.$implicit,r=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",m.trainings[r]),t.R7$(),t.Y8G("ngIf",!m.trainings[r])}}function lt(u,v){if(1&u&&(t.j41(0,"div",12),t.DNE(1,nt,3,2,"div",13),t.k0s()),2&u){const m=t.XpG();t.R7$(),t.Y8G("ngForOf",m.days)}}let gt=(()=>{var u;class v{constructor(r,c){this.modalCtrl=r,this.ameliaService=c,this.days=[],this.hebrewDaysMap={Sunday:"\u05e8\u05d0\u05e9\u05d5\u05df",Monday:"\u05e9\u05e0\u05d9",Tuesday:"\u05e9\u05dc\u05d9\u05e9\u05d9",Wednesday:"\u05e8\u05d1\u05d9\u05e2\u05d9",Thursday:"\u05d7\u05de\u05d9\u05e9\u05d9",Friday:"\u05e9\u05d9\u05e9\u05d9",Saturday:"\u05e9\u05d1\u05ea"}}ngOnInit(){this.loadWeeklyTrainings()}loadWeeklyTrainings(){this.ameliaService.loadTrainingsFromLocalStorage();const r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.days=[];for(let c=0;c<r.length;c++){const b=r[c],g=L().day(c+1).format("DD/MM/YYYY");this.days.push({name:b,date:g,trainings:this.ameliaService.trainingsByDay[b]||[]})}}getDayInHebrew(r){return this.hebrewDaysMap[r]||r}getMaxTrainingsLength(){return Math.max(...this.days.map(r=>r.trainings.length),0)}getRange(r){return Array.from({length:r},(c,b)=>b)}getDayName(r){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r%7]}getDateByOffset(r){const c=new Date;return new Date(c.setDate(c.getDate()+r)).toLocaleDateString("en-GB")}dismiss(){this.modalCtrl.dismiss()}}return(u=v).\u0275fac=function(r){return new(r||u)(t.rXU(k.W3),t.rXU(j.J))},u.\u0275cmp=t.VBU({type:u,selectors:[["app-calendar-popup"]],inputs:{weeklyData:"weeklyData"},decls:13,vars:2,consts:[[1,"modal-title"],["slot","end"],["fill","clear",3,"click"],[1,"modal-content"],[1,"calendar-table-wrapper"],[1,"calendar-table"],[1,"table-header"],["class","day-header",4,"ngFor","ngForOf"],["class","table-row",4,"ngFor","ngForOf"],[1,"day-header"],[1,"dayName"],[1,"dayDate"],[1,"table-row"],["class","table-cell training-cell",4,"ngFor","ngForOf"],[1,"table-cell","training-cell"],[4,"ngIf"],[1,"training-time"],[1,"training-title"],[1,"empty-slot"]],template:function(r,c){1&r&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),t.EFF(3,"\u05d4\u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd \u05d4\u05e7\u05e8\u05d5\u05d1\u05d9\u05dd"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return c.dismiss()}),t.EFF(6,"\u05e1\u05d2\u05d5\u05e8"),t.k0s()()()(),t.j41(7,"ion-content",3)(8,"div",4)(9,"div",5)(10,"div",6),t.DNE(11,G,5,2,"div",7),t.k0s(),t.DNE(12,lt,2,1,"div",8),t.k0s()()()),2&r&&(t.R7$(11),t.Y8G("ngForOf",c.days),t.R7$(),t.Y8G("ngForOf",c.getRange(c.getMaxTrainingsLength())))},dependencies:[z.Sq,z.bT,k.Jm,k.QW,k.W9,k.eU,k.BC,k.ai],styles:[".modal-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.modal-content[_ngcontent-%COMP%]{--background: #f8f9fa;padding:16px}.calendar-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;padding:8px}.calendar-table[_ngcontent-%COMP%]{display:grid;gap:1px;min-width:700px;background-color:#ddd}.table-header[_ngcontent-%COMP%]{display:contents}.day-header[_ngcontent-%COMP%]{background:#f60;color:#fff;text-align:center;padding:8px;border-radius:6px 6px 0 0;font-size:14px;font-weight:700}.table-row[_ngcontent-%COMP%]{display:contents}.table-cell[_ngcontent-%COMP%]{background:#fff;text-align:center;padding:8px;font-size:14px;min-height:60px}.training-time[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin:0;color:#333}.training-title[_ngcontent-%COMP%]{font-size:12px;margin:4px 0 0;color:#555}.empty-slot[_ngcontent-%COMP%]{color:#ccc;font-size:14px}@media (max-width: 768px){.calendar-table[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(120px,1fr))}.day-header[_ngcontent-%COMP%], .training-time[_ngcontent-%COMP%]{font-size:12px}}.dayName[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.dayDate[_ngcontent-%COMP%]{font-size:12px;margin-top:-20px;text-decoration:none;font-weight:200}"]}),v})();var dt=_(3656),Tt=_(1626),ot=_(4796),ft=_(3931),mt=_(4341);const pt=["popup"],rt=["tabElement"],it=()=>[1,2,3,4],Ct=u=>({"background-color":u}),Z=(u,v)=>({loading:u,success:v});function It(u,v){if(1&u){const m=t.RV6();t.j41(0,"span",15),t.bIt("click",function(){t.eBV(m);const c=t.XpG().$implicit,b=t.XpG();return t.Njj(b.toggleTabVisibility(c))}),t.EFF(1," \u2715 "),t.k0s()}}function At(u,v){if(1&u){const m=t.RV6();t.j41(0,"ion-segment-button",13,1),t.bIt("mousedown",function(c){const b=t.eBV(m).index,g=t.XpG();return t.Njj(g.onTabMouseDown(c,b))})("touchstart",function(c){const b=t.eBV(m).index,g=t.XpG();return t.Njj(g.onTabMouseDown(c,b))})("mouseup",function(){t.eBV(m);const c=t.XpG();return t.Njj(c.onTabMouseUp())})("touchend",function(){t.eBV(m);const c=t.XpG();return t.Njj(c.onTabMouseUp())}),t.j41(2,"ion-label"),t.EFF(3),t.DNE(4,It,2,0,"span",14),t.k0s()()}if(2&u){const m=v.$implicit,r=t.XpG();t.FS9("value",m.value),t.Y8G("cdkDragDisabled",!r.isDragging)("@tabVisibility",m.visible?"visible":"hidden"),t.R7$(3),t.SpI(" ",m.label," "),t.R7$(),t.Y8G("ngIf",r.isDragging)}}function Ot(u,v){1&u&&(t.j41(0,"ion-item",18)(1,"ion-thumbnail",19),t.nrm(2,"ion-skeleton-text",20),t.k0s(),t.j41(3,"ion-label")(4,"h3"),t.nrm(5,"ion-skeleton-text",21),t.k0s(),t.j41(6,"p"),t.nrm(7,"ion-skeleton-text",22),t.k0s(),t.j41(8,"p"),t.nrm(9,"ion-skeleton-text",23),t.k0s()()()),2&u&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0))}function ut(u,v){1&u&&(t.j41(0,"ion-list")(1,"ion-list-header"),t.nrm(2,"ion-skeleton-text",16),t.k0s(),t.DNE(3,Ot,10,4,"ion-item",17),t.k0s()),2&u&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(),t.Y8G("ngForOf",t.lJ4(2,it)))}function vt(u,v){if(1&u&&(t.j41(0,"ion-segment-button",31)(1,"ion-label"),t.EFF(2),t.k0s(),t.j41(3,"ion-note"),t.EFF(4),t.k0s()()),2&u){const m=v.$implicit,r=t.XpG(2);t.FS9("value",m.date),t.Y8G("ngClass","shalom"===r.selectedFilterAllFav?"custom-underline-shalom":"favorites"===r.selectedFilterAllFav?"custom-underline-favorites":"custom-underline-default"),t.R7$(2),t.JRh(m.day),t.R7$(2),t.JRh(m.formattedDate)}}function S(u,v){if(1&u&&(t.j41(0,"ion-select-option",40),t.EFF(1),t.k0s()),2&u){const m=v.$implicit;t.Y8G("value",m),t.R7$(),t.JRh(m)}}function R(u,v){if(1&u){const m=t.RV6();t.j41(0,"ion-button",41),t.bIt("click",function(){t.eBV(m);const c=t.XpG(3);return t.Njj(c.resetTypeFilter())}),t.nrm(1,"ion-icon",42),t.k0s()}}function x(u,v){if(1&u){const m=t.RV6();t.j41(0,"ion-list",32)(1,"ion-item")(2,"ion-label",33),t.EFF(3,"\u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df"),t.k0s(),t.j41(4,"ion-select",34),t.mxI("ngModelChange",function(c){t.eBV(m);const b=t.XpG(2);return t.DH7(b.selectedType,c)||(b.selectedType=c),t.Njj(c)}),t.bIt("ionChange",function(){t.eBV(m);const c=t.XpG(2);return t.Njj(c.onTypeChange())}),t.DNE(5,S,2,2,"ion-select-option",35),t.k0s(),t.DNE(6,R,2,0,"ion-button",36),t.k0s(),t.j41(7,"ion-item")(8,"ion-label",33),t.EFF(9,"\u05d6\u05de\u05d9\u05e0\u05d5\u05ea"),t.k0s(),t.j41(10,"ion-segment",37),t.mxI("ngModelChange",function(c){t.eBV(m);const b=t.XpG(2);return t.DH7(b.availabilityFilter,c)||(b.availabilityFilter=c),t.Njj(c)}),t.bIt("ionChange",function(){t.eBV(m);const c=t.XpG(2);return t.Njj(c.onFilterChange())}),t.j41(11,"ion-segment-button",38)(12,"ion-label"),t.EFF(13,"\u05d4\u05db\u05dc"),t.k0s()(),t.j41(14,"ion-segment-button",39)(15,"ion-label"),t.EFF(16,"\u05d6\u05de\u05d9\u05df \u05d1\u05dc\u05d1\u05d3"),t.k0s()()()()()}if(2&u){const m=t.XpG(2);t.R7$(4),t.R50("ngModel",m.selectedType),t.R7$(),t.Y8G("ngForOf",m.availableTypes),t.R7$(),t.Y8G("ngIf",m.selectedType),t.R7$(4),t.R50("ngModel",m.availabilityFilter),t.R7$(),t.Y8G("ngClass","shalom"===m.selectedFilterAllFav?"custom-underline-shalom":"favorites"===m.selectedFilterAllFav?"custom-underline-favorites":"custom-underline-default"),t.R7$(3),t.Y8G("ngClass","shalom"===m.selectedFilterAllFav?"custom-underline-shalom":"favorites"===m.selectedFilterAllFav?"custom-underline-favorites":"custom-underline-default")}}function f(u,v){if(1&u){const m=t.RV6();t.j41(0,"div")(1,"ion-segment",24),t.mxI("ngModelChange",function(c){t.eBV(m);const b=t.XpG();return t.DH7(b.selectedDay,c)||(b.selectedDay=c),t.Njj(c)}),t.bIt("ionChange",function(){t.eBV(m);const c=t.XpG();return t.Njj(c.onDayChange())}),t.DNE(2,vt,5,4,"ion-segment-button",25),t.k0s(),t.j41(3,"div",26)(4,"ion-button",27),t.bIt("click",function(){t.eBV(m);const c=t.XpG();return t.Njj(c.toggleFilterDropdown())}),t.nrm(5,"ion-icon",28),t.EFF(6," \u05e1\u05d9\u05e0\u05d5\u05df "),t.k0s(),t.j41(7,"ion-icon",29),t.bIt("click",function(){t.eBV(m);const c=t.XpG();return t.Njj(c.openCalendarPopup())}),t.k0s()(),t.DNE(8,x,17,6,"ion-list",30),t.k0s()}if(2&u){const m=t.XpG();t.R7$(),t.R50("ngModel",m.selectedDay),t.R7$(),t.Y8G("ngForOf",m.days),t.R7$(6),t.Y8G("ngIf",m.showDropdown)}}function D(u,v){if(1&u&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&u){const m=v.$implicit;t.R7$(),t.SpI(" ",m," ")}}function $(u,v){if(1&u&&(t.j41(0,"div",58)(1,"ul"),t.DNE(2,D,2,1,"li",59),t.k0s()()),2&u){const m=t.XpG().$implicit;t.R7$(2),t.Y8G("ngForOf",m.current_participants)}}function V(u,v){1&u&&(t.qex(0),t.j41(1,"button",60),t.nrm(2,"ion-icon",61),t.EFF(3," \u05e8\u05e9\u05d5\u05dd "),t.k0s(),t.bVm())}function tt(u,v){1&u&&(t.qex(0),t.EFF(1,"\u05d4\u05e8\u05e9\u05de\u05d4"),t.bVm())}function Et(u,v){1&u&&(t.qex(0),t.nrm(1,"ion-spinner",63),t.bVm())}function xt(u,v){1&u&&(t.qex(0),t.nrm(1,"ion-icon",61),t.bVm())}function bt(u,v){if(1&u){const m=t.RV6();t.j41(0,"button",62),t.bIt("click",function(){t.eBV(m);const c=t.XpG(2).$implicit,b=t.XpG();return t.Njj(b.enrollUser(c))}),t.DNE(1,tt,2,0,"ng-container",11)(2,Et,2,0,"ng-container",11)(3,xt,2,0,"ng-container",11),t.k0s()}if(2&u){const m=t.XpG(2).$implicit;t.Y8G("disabled",m.isLoading||m.isSuccess)("ngClass",t.l_i(5,Z,m.isLoading,m.isSuccess)),t.R7$(),t.Y8G("ngIf",!m.isLoading&&!m.isSuccess),t.R7$(),t.Y8G("ngIf",m.isLoading),t.R7$(),t.Y8G("ngIf",m.isSuccess)}}function yt(u,v){if(1&u&&t.DNE(0,bt,4,8,"button",57),2&u){const m=t.XpG().$implicit;t.Y8G("ngIf",m.booked<m.total_participants)}}function Mt(u,v){1&u&&(t.qex(0),t.EFF(1,"\u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05d4\u05de\u05ea\u05e0\u05d4"),t.bVm())}function kt(u,v){1&u&&(t.qex(0),t.nrm(1,"ion-spinner",63),t.bVm())}function wt(u,v){1&u&&(t.qex(0),t.nrm(1,"ion-icon",61),t.bVm())}function Ft(u,v){if(1&u){const m=t.RV6();t.j41(0,"button",62),t.bIt("click",function(){let c;t.eBV(m);const b=t.XpG().$implicit,g=t.XpG();return t.Njj(g.addToStandbyList(null!==(c=null==b?null:b.id)&&void 0!==c?c:0,g.userId,g.userEmail))}),t.DNE(1,Mt,2,0,"ng-container",11)(2,kt,2,0,"ng-container",11)(3,wt,2,0,"ng-container",11),t.k0s()}if(2&u){const m=t.XpG(2);t.Y8G("disabled",m.isStandbyLoading||m.isStandbySuccess)("ngClass",t.l_i(5,Z,m.isStandbyLoading,m.isStandbySuccess)),t.R7$(),t.Y8G("ngIf",!m.isStandbyLoading&&!m.isStandbySuccess),t.R7$(),t.Y8G("ngIf",m.isStandbyLoading),t.R7$(),t.Y8G("ngIf",m.isStandbySuccess)}}function Lt(u,v){if(1&u){const m=t.RV6();t.j41(0,"div",43)(1,"div",44)(2,"h3"),t.EFF(3),t.k0s(),t.j41(4,"ion-icon",45),t.bIt("click",function(){const c=t.eBV(m).$implicit,b=t.XpG();return t.Njj(b.toggleFavorite(c))}),t.k0s()(),t.j41(5,"div",46)(6,"div",47),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"div",48)(10,"div",49),t.nrm(11,"div",50),t.k0s(),t.j41(12,"div",51)(13,"div",52),t.bIt("mouseenter",function(){const c=t.eBV(m).$implicit,b=t.XpG();return t.Njj(b.showParticipantsPopup(c))})("mouseleave",function(){t.eBV(m);const c=t.XpG();return t.Njj(c.hideParticipantsPopup())}),t.EFF(14),t.nrm(15,"ion-icon",53),t.DNE(16,$,3,1,"div",54),t.k0s()()()(),t.j41(17,"div",55),t.DNE(18,V,4,0,"ng-container",56)(19,yt,1,1,"ng-template",null,2,t.C5r)(21,Ft,4,8,"button",57),t.k0s()()}if(2&u){const m=v.$implicit,r=t.sdS(20),c=t.XpG();t.R7$(3),t.JRh(m.title.name),t.R7$(),t.AVh("favorite",m.favorite),t.R7$(3),t.SpI(" ",t.i5U(8,13,m.start_time,"HH:mm")," "),t.R7$(4),t.xc7("width",c.calculateProgress(m)+"%"),t.Y8G("ngStyle",t.eq3(16,Ct,"shalom"===c.selectedFilterAllFav?"#ff8366":"#59c7cd")),t.R7$(3),t.Lme(" ",m.booked,"/",m.total_participants," "),t.R7$(2),t.Y8G("ngIf",c.isPopupVisible&&c.activeAppointment===m),t.R7$(2),t.Y8G("ngIf",m.isUserBooked)("ngIfElse",r),t.R7$(3),t.Y8G("ngIf",m.booked==m.total_participants)}}let St=(()=>{var u;class v{constructor(r,c,b,g,M,w,T,F,A,Y,P){this.renderer=r,this.platform=c,this.toastController=b,this.ameliaService=g,this.gestureCtrl1=M,this.gestureCtrl=w,this.modalCtrl=T,this.http=F,this.authService=A,this.httpA=Y,this.modalCalendar=P,this.selectedFilterAllFav="all",this.selectedType="",this.availabilityFilter="all",this.showDropdown=!1,this.availableTypes=[],this.availableTimeslots=[],this.bookedAppointments=[],this.combinedList=[],this.days=[],this.showingParticipants=!1,this.isPopupVisible=!1,this.activeAppointment=null,this.knownTrainingTypes=["\u05e4\u05d9\u05dc\u05d0\u05d8\u05d9\u05e1","\u05d9\u05d5\u05d2\u05d4","\u05d0\u05d9\u05de\u05d5\u05df \u05db\u05d5\u05d7","Parallel 15","Spinning","TRX","Booty&ABS","All In","HiiT","POWER",""],this.userEmail="",this.isLoading=!0,this.filteredAppointments=[],this.unfilteredList=[],this.showToast=!1,this.toastMessage="",this.toastColor="success",this.errorMessage="",this.isStandbyLoading=!1,this.isStandbySuccess=!1,this.isEnrollLoading=!1,this.isEnrollSuccess=!1,this.customerID="",this.userRole="",this.tabs=[{label:"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4",value:"ben",visible:!0},{label:"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd",value:"shalom",visible:!0},{label:"\u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd",value:"favorites",visible:!0}],this.isDragging=!1,this.userId=this.authService.getUserID(),this.userEmail=this.authService.getUserEmail(),this.customerID=this.authService.getCustomerID(),this.authService.fetchPackageCustomerId(this.customerID).subscribe({next:I=>{},error:I=>{console.error("Error fetching package id",I)}})}ngOnInit(){var r=this;return(0,n.A)(function*(){r.authService.fetchUserRole().subscribe(c=>{r.authService.storeUserRole(c.roles[0]),r.userRole=c.roles[0]}),"inactive"==r.authService.getUserRole()?(r.errorMessage="\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd,  \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc",r.presentToast(r.errorMessage,"danger")):"trial-users"==r.authService.getUserRole()&&(r.errorMessage="\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd, \u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05d9\u05e1\u05d9\u05d5\u05df",r.presentToast(r.errorMessage,"danger")),r.ameliaService.fetchTitleTrainings().catch(c=>{console.error("Error fetching initial trainings:",c)}),r.isLoading=!0,r.trainingsByDay=r.ameliaService.getTrainingsTitles(),(!r.trainingsByDay||Object.keys(r.trainingsByDay).every(c=>0===r.trainingsByDay[c].length))&&(yield r.ameliaService.fetchTitleTrainings(),r.trainingsByDay=r.ameliaService.getTrainingsTitles()),Promise.all([r.fetchAvailableTimeslots(),r.fetchBookedAppointments()]).then(()=>{r.combineTimeslotsAndAppointments(),r.unfilteredList=[...r.combinedList],r.selectedDay=r.days.length>0?r.days[0].date:"",r.updateFilteredAppointments();const c=r.getFavoriteTrainings();r.combinedList.forEach(b=>{b.id&&c.includes(b.id)&&(b.favorite=!0)}),r.isLoading=!1}).catch(()=>{r.isLoading=!1}),r.updateVisibleTabs()})()}updateVisibleTabs(){0===this.tabs.filter(c=>c.visible).length&&(this.tabs[0].visible=!0)}presentToast(r,c){var b=this;return(0,n.A)(function*(){yield(yield b.toastController.create({message:r,duration:3e3,color:c,position:"bottom"})).present()})()}ngAfterViewInit(){setTimeout(()=>{this.gestureCtrl.create({el:this.popup.nativeElement,gestureName:"swipe-to-close",onMove:c=>{c.deltaY>100&&this.modalCtrl.dismiss()}}).enable(!0)})}onTabMouseDown(r,c){this.dragStartTimeout&&clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(()=>{this.isDragging=!0,this.tabElements.forEach((b,g)=>{this.renderer.addClass(b.nativeElement,"dragging-mode")})},500)}onTabMouseUp(){this.dragStartTimeout&&clearTimeout(this.dragStartTimeout),this.isDragging=!1,this.tabElements.forEach(r=>{this.renderer.removeClass(r.nativeElement,"dragging-mode")})}drop(r){(0,C.HD)(this.tabs,r.previousIndex,r.currentIndex),this.isDragging=!1,this.tabElements.forEach(c=>{this.renderer.removeClass(c.nativeElement,"dragging-mode")})}toggleTabVisibility(r){if((this.tabs.filter(b=>b.visible).length>1||r.visible)&&(r.visible=!r.visible,this.updateVisibleTabs(),!r.visible&&this.selectedFilterAllFav===r.value)){const b=this.tabs.find(g=>g.visible);b&&(this.selectedFilterAllFav=b.value)}}getServicesByRole(){const c=localStorage.getItem("user_role")||"guest";return this.http.get(`https://k-studio.co.il/wp-json/angular/v1/get-services/${c}`)}formatDateTimeInIsraelTime(r,c){const b=new Date(`${r}T${c}`),M=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Jerusalem",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(b),[w,T]=M.replace(",","").split(" ");return`${w.replace(/\//g,"-")} ${T}`}fetchAvailableTimeslots(){var r=this;return(0,n.A)(function*(){const c=new Date,b=new Date(c);b.setDate(c.getDate()+20),new Date(c).setDate(c.getDate()+7);const M=w=>`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`;return new Promise((w,T)=>{r.getServicesByRole().subscribe(function(){var F=(0,n.A)(function*(A){if(0===A.length)return T("No service IDs found");const Y=A.map(P=>{const I=`${J.c.apiBaseUrl}/slots&serviceId=${P}&page=booking&startDateTime=${M(c)}&endDateTime=${M(b)}`;return r.platform.is("cordova")?r.httpA.get(I,{},{Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"}).then(O=>(console.log("Available Time Slots:",O),JSON.parse(O.data))).catch(O=>{T(`Error fetching timeslots for service ID ${P}: ${O}`)}):r.http.get(I,{headers:{Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"}}).toPromise().then(O=>(console.log("Available Time Slots:",O),O)).catch(O=>{T(`Error fetching timeslots for service ID ${P}: ${O}`)})});Promise.all(Y).then(function(){var P=(0,n.A)(function*(I){r.availableTimeslots=[];for(const O of I)if(O&&O.data&&O.data.slots){const B=O.data.slots;for(const E of Object.keys(B)){const st=M(new Date(E));for(const ht of Object.keys(B[E])){const Dt=r.formatDateTimeInIsraelTime(st,ht);let Q={name:yield r.getAppointmentTitleByDateTime(E,ht)};r.availableTimeslots.push({start_time:Dt,type:"timeslot",title:Q,favorite:!1,current_participants:[],serviceID:12,providerId:169,total_participants:8,booked:0})}}}w()});return function(I){return P.apply(this,arguments)}}()).catch(P=>T(P))});return function(A){return F.apply(this,arguments)}}(),F=>T(F))})})()}fetchBookedAppointments(){var r=this;const c=new Date,b=new Date;b.setDate(c.getDate()+30);const g=new Date;g.setDate(c.getDate()+7);const M=w=>`${w.getFullYear()}-${String(w.getMonth()+1).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`;return new Promise((w,T)=>{this.platform.ready().then(()=>{var F;this.getServicesByRole().pipe((0,at.n)(F=>{const A=`${J.c.apiBaseUrl}/appointments&dates=${M(c)},${M(b)}`,Y={Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"};return(this.platform.is("cordova")?this.httpA.get(A,{},Y).then(I=>JSON.parse(I.data)):this.http.get(A,{headers:Y}).toPromise()).then(I=>({appointmentData:I.data.appointments,serviceIDs:F}))})).subscribe({next:(F=(0,n.A)(function*({appointmentData:A,serviceIDs:Y}){const P=parseInt(r.authService.getCustomerID()||"0",10),O=Object.values(A).flatMap(B=>B.appointments).filter(B=>Y.includes(B.serviceId)&&new Date(B.bookingStart)>=c&&B.bookings.some(E=>"approved"===E.status)).map(function(){var B=(0,n.A)(function*(E){const st=new Date(E.bookingStart),ht=E.bookings.some(Q=>Q.customerId===P&&"approved"===Q.status),Dt=st<=g?yield r.getAppointmentTitleByAppointment(E):"\u05d0\u05d9\u05de\u05d5\u05df \u05e7\u05d1\u05d5\u05e6\u05ea\u05d9";return{id:E.id,start_time:E.bookingStart,end_time:E.bookingEnd,type:"appointment",title:{name:Dt},serviceID:E.serviceId,favorite:!1,current_participants:E.bookings.filter(Q=>"approved"===Q.status).map(Q=>`${Q.customer.firstName} ${Q.customer.lastName}`),total_participants:8,booked:E.bookings.filter(Q=>"approved"===Q.status).length,providerId:E.providerId,isUserBooked:ht}});return function(E){return B.apply(this,arguments)}}());r.bookedAppointments=yield Promise.all(O),w()}),function(Y){return F.apply(this,arguments)}),error:F=>T(`Error fetching appointments: ${F}`)})})})}combineTimeslotsAndAppointments(){this.combinedList=[...this.availableTimeslots,...this.bookedAppointments],this.unfilteredList=[...this.combinedList],this.extractAvailableDays(),this.combinedList.sort((r,c)=>new Date(r.start_time).getTime()-new Date(c.start_time).getTime())}extractAvailableDays(){const r=["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],c=(new Date).toISOString().split("T")[0],b=this.combinedList.filter(g=>!isNaN(new Date(g.start_time).getTime())).map(g=>new Date(g.start_time).toISOString().split("T")[0]);this.days=Array.from(new Set(b)).map(g=>{const M=new Date(g);return{date:g,day:r[M.getDay()],formattedDate:`${M.getDate()}.${M.getMonth()+1}`}}),this.days.sort((g,M)=>g.date===c?-1:M.date===c?1:new Date(g.date).getTime()-new Date(M.date).getTime()),this.selectedDay=this.days.length>0?this.days[0].date:""}extractAvailableTypes(){const r=new Set(this.filteredAppointments.map(c=>c.title.name));this.availableTypes=Array.from(r)}getAppointmentsForSelectedDay(){return this.combinedList.filter(r=>{const c=L(r.start_time);return c.isValid()&&c.format("YYYY-MM-DD")===this.selectedDay})}onDayChange(){this.updateFilteredAppointments()}filterFavAll(r){this.selectedFilterAllFav=r.detail.value,this.updateFilteredAppointments()}toggleAvailabilityFilter(){this.availabilityFilter="all"===this.availabilityFilter?"available":"all",this.updateFilteredAppointments()}updateFilteredAppointments(){let r=[...this.unfilteredList];this.selectedDay&&(r=r.filter(c=>L(c.start_time).format("YYYY-MM-DD")===this.selectedDay)),"available"===this.availabilityFilter&&(r=r.filter(c=>c.booked<c.total_participants)),this.selectedType&&(r=r.filter(c=>c.title.name===this.selectedType)),"favorites"===this.selectedFilterAllFav&&(r=r.filter(c=>c.favorite)),this.filteredAppointments=r,this.extractAvailableTypes()}onFilterChange(){this.updateFilteredAppointments()}onTypeChange(){console.log("Selected type:",this.selectedType),this.updateFilteredAppointments()}resetTypeFilter(){this.selectedType="",this.updateFilteredAppointments()}removePastFavorites(){const r=new Date,b=this.getFavoriteTrainings().filter(g=>{const M=this.combinedList.find(w=>w.id===g);return M&&new Date(M.start_time)>r});this.saveFavoriteTrainings(b)}closeModal(){document.body.classList.remove("no-scroll"),this.modalCtrl.dismiss()}toggleFavorite(r){r.favorite=!r.favorite;const c=this.getFavoriteTrainings();if(r.favorite)c.push(r.id);else{const b=c.indexOf(r.id);b>-1&&c.splice(b,1)}this.saveFavoriteTrainings(c)}getFavoriteTrainings(){const r=localStorage.getItem("favoriteTrainings");return r?JSON.parse(r):[]}saveFavoriteTrainings(r){localStorage.setItem("favoriteTrainings",JSON.stringify(r))}toggleFilterDropdown(){this.showDropdown=!this.showDropdown}calculateProgress(r){if(!r.current_participants||!r.total_participants)return 0;const c=r.current_participants.length/r.total_participants*100;return c>100?100:c}isFull(r){return r.current_participants>=r.total_participants}showParticipantsPopup(r){this.activeAppointment=r,this.isPopupVisible=!0}hideParticipantsPopup(){this.activeAppointment=null,this.isPopupVisible=!1}getAppointmentTitleByAppointment(r){var c=this;return(0,n.A)(function*(){const b=L(r.bookingStart,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY"),g=c.getDayFromDate(b.trim()),M=L(r.bookingStart,"YYYY-MM-DD HH:mm:ss").format("HH:mm");if(c.trainingsByDay[g]){const w=c.trainingsByDay[g].find(T=>T.time===M);if(w)return w.title}return"\u05db\u05dc\u05dc\u05d9"})()}getDayFromDate(r){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][L(r,"DD/MM/YYYY").toDate().getDay()]}getAppointmentTitleByDateTime(r,c){var b=this;return(0,n.A)(function*(){const g=L(r,"YYYY-MM-DD").format("DD/MM/YYYY"),M=b.getDayFromDate(g);if(b.trainingsByDay[M]){const w=b.trainingsByDay[M].find(T=>T.time===c);if(w)return w.title}return"\u05db\u05dc\u05dc\u05d9"})()}addToStandbyList(r,c,b){this.isStandbyLoading=!0,this.isStandbySuccess=!1,this.http.post("https://k-studio.co.il/wp-json/standby-list/v1/add",{appointment_id:r,customer_id:c,email:b}).subscribe(w=>{console.log("User added to standby list",w),this.isStandbyLoading=!1,this.isStandbySuccess=!0,setTimeout(()=>{this.isStandbySuccess=!1},2e3)},w=>{console.error("Error adding user to standby list",w),this.isStandbyLoading=!1,this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4","danger")})}enrollUser(r){r.isLoading=!0,r.isSuccess=!1;let c=r.serviceID;const g=r.start_time.slice(0,16);let M=r.providerId,w=this.authService.getCustomerID(),T=this.authService.getPackageCustomerId();const Y={type:"appointment",serviceId:c,providerId:M,locationId:null,notifyParticipants:0,bookings:[{customerId:w,status:"approved",duration:3600,persons:1,extras:[],customFields:{},utcOffset:-(new Date).getTimezoneOffset(),packageCustomerService:{packageCustomer:{id:T}}}],bookingStart:g,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone};this.platform.ready().then(()=>{const P=JSON.stringify(Y);this.http.post("https://k-studio.co.il/wp-json/wn/v1/bookTraining",P,{headers:{"Content-Type":"application/json"}}).subscribe(I=>{var O,B;if(null!==(O=I.data)&&void 0!==O&&O.timeSlotUnavailable)this.presentToast(I.message||"The time slot is unavailable","danger");else if(null!==(B=I.data)&&void 0!==B&&B.customerAlreadyBooked)this.presentToast(I.message||"You have already booked this training","success");else if(I.message){r.isSuccess=!0,r.current_participants||(r.current_participants=[]),r.booked+=1;const E=`${this.authService.getUserFullName()}`;r.current_participants.push(E),r.isUserBooked=!0}else r.isSuccess=!0;r.isLoading=!1,setTimeout(()=>{r.isSuccess=!1},2e3)},I=>{console.error("Enrollment failed",JSON.stringify(I)),r.isLoading=!1,I.error&&I.error.includes('"packageCustomerId" is required for booking')?this.presentToast("\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d7\u05d1\u05d9\u05dc\u05d4 \u05d6\u05de\u05d9\u05e0\u05d4","danger"):this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4","danger")})})}openCalendarPopup(){var r=this;return(0,n.A)(function*(){yield(yield r.modalCalendar.create({component:gt,componentProps:{weeklyData:r.getWeeklyTrainings()}})).present()})()}getWeeklyTrainings(){return[]}}return(u=v).\u0275fac=function(r){return new(r||u)(t.rXU(t.sFG),t.rXU(dt.OD),t.rXU(k.K_),t.rXU(j.J),t.rXU(k.wH),t.rXU(k.wH),t.rXU(k.W3),t.rXU(Tt.Qq),t.rXU(ot.u),t.rXU(ft.B),t.rXU(k.W3))},u.\u0275cmp=t.VBU({type:u,selectors:[["app-trainings"]],viewQuery:function(r,c){if(1&r&&(t.GBs(pt,5),t.GBs(rt,5)),2&r){let b;t.mGM(b=t.lsd())&&(c.popup=b.first),t.mGM(b=t.lsd())&&(c.tabElements=b)}},decls:12,vars:5,consts:[["popup",""],["tabElement",""],["showEnrollButton",""],[1,"popup-modal-trainings"],[1,"drag-handle"],[1,"content-container"],[1,"sticky-header"],[1,"header-tabs"],["mode","md",1,"segment-tab",3,"ngModelChange","ngModel"],["cdkDropList","",1,"tab-container",3,"cdkDropListDropped"],["cdkDrag","","class","header-tab",3,"cdkDragDisabled","value","mousedown","touchstart","mouseup","touchend",4,"ngFor","ngForOf"],[4,"ngIf"],["class","card",4,"ngFor","ngForOf"],["cdkDrag","",1,"header-tab",3,"mousedown","touchstart","mouseup","touchend","cdkDragDisabled","value"],["class","hide-tab-btn",3,"click",4,"ngIf"],[1,"hide-tab-btn",3,"click"],[2,"width","80px",3,"animated"],["lines","none","class","skeleton-item",4,"ngFor","ngForOf"],["lines","none",1,"skeleton-item"],["slot","start"],[3,"animated"],[2,"width","80%",3,"animated"],[2,"width","60%",3,"animated"],[2,"width","30%",3,"animated"],["scrollable","","mode","md",1,"days-tabs",3,"ngModelChange","ionChange","ngModel"],["class","custom-tabs",3,"value","ngClass",4,"ngFor","ngForOf"],[1,"filter-header"],["fill","outline",1,"filter-button",3,"click"],["name","options-outline","slot","start"],["name","calendar-outline",1,"calendar-icon",3,"click"],["class","filter-dropdown",4,"ngIf"],[1,"custom-tabs",3,"value","ngClass"],[1,"filter-dropdown"],[2,"text-indent","8px"],["interface","popover","placeholder","\u05d1\u05d7\u05e8 \u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["color","danger","fill","clear",3,"click",4,"ngIf"],[3,"ngModelChange","ionChange","ngModel"],["value","all",3,"ngClass"],["value","available",3,"ngClass"],[3,"value"],["color","danger","fill","clear",3,"click"],["name","close-circle"],[1,"card"],[1,"card-header"],["name","heart-outline",3,"click"],[1,"card-content"],[1,"time-date"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress",3,"ngStyle"],[1,"participants-container"],[1,"participants",3,"mouseenter","mouseleave"],["name","people-outline"],["class","participant-popup",4,"ngIf"],[1,"card-footer"],[4,"ngIf","ngIfElse"],["class","action-button",3,"disabled","ngClass","click",4,"ngIf"],[1,"participant-popup"],[4,"ngFor","ngForOf"],["disabled","",1,"action-button","enrolled-button"],["name","checkmark-circle",1,"success-icon"],[1,"action-button",3,"click","disabled","ngClass"],["name","crescent"]],template:function(r,c){if(1&r){const b=t.RV6();t.j41(0,"ion-content",3,0),t.nrm(2,"div",4),t.j41(3,"div",5)(4,"div",6)(5,"div",7)(6,"ion-segment",8),t.mxI("ngModelChange",function(M){return t.eBV(b),t.DH7(c.selectedFilterAllFav,M)||(c.selectedFilterAllFav=M),t.Njj(M)}),t.j41(7,"div",9),t.bIt("cdkDropListDropped",function(M){return t.eBV(b),t.Njj(c.drop(M))}),t.DNE(8,At,5,5,"ion-segment-button",10),t.k0s()()(),t.DNE(9,ut,4,3,"ion-list",11)(10,f,9,3,"div",11)(11,Lt,22,18,"div",12),t.k0s()()()}2&r&&(t.R7$(6),t.R50("ngModel",c.selectedFilterAllFav),t.R7$(2),t.Y8G("ngForOf",c.tabs),t.R7$(),t.Y8G("ngIf",c.isLoading),t.R7$(),t.Y8G("ngIf",!c.isLoading),t.R7$(),t.Y8G("ngForOf",c.filteredAppointments))},dependencies:[z.YU,z.Sq,z.bT,z.B3,mt.BC,mt.vS,k.Jm,k.W9,k.iq,k.uz,k.he,k.nf,k.AF,k.JI,k.Gp,k.eP,k.Nm,k.Ip,k.ds,k.w2,k.Zx,k.Je,C.O7,C.T1,z.vh],styles:['@charset "UTF-8";.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background-color:#fff}.scrollable-list[_ngcontent-%COMP%]{height:calc(100vh - 130px);overflow-y:auto}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.calendar-icon[_ngcontent-%COMP%]{position:absolute;left:16px;font-size:24px;top:50%;transform:translateY(-50%)}.filter-button[_ngcontent-%COMP%]{font-size:16px;padding:8px 16px}.training-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;margin-bottom:20px;width:100%;box-sizing:border-box}.training-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.favorite-icon[_ngcontent-%COMP%]{font-size:24px;color:#5a5a5a}.training-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-top:-30px;color:#333;font-family:Alef}.training-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin-top:-20px;font-family:Alef}.progress-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}ion-progress-bar[_ngcontent-%COMP%]{--progress-background: #E0E0E0;--background: #9B59B6;border-radius:10px;height:10px;flex-grow:1;margin-left:10px}ion-label[_ngcontent-%COMP%]{font-size:2em;color:#333}ion-button[_ngcontent-%COMP%]{font-weight:700;--border-radius: 25px}.segment-tab[_ngcontent-%COMP%]   .days-tabs[_ngcontent-%COMP%]{overflow-x:hidden;--background: #fff;--border-radius: 10px;margin-top:10px}.filter-segment[_ngcontent-%COMP%]{color:red}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #000}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1em;font-weight:700;font-family:Alef}ion-segment-button[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:1em;color:#666;font-weight:700;font-family:Alef}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0;--padding-start: 0;--padding-end: 0;padding:0}.header-tab[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none;padding:none;--indicator-color: transparent}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]{display:flex;width:100%}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]{transition:all .3s ease}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab.dragging-mode[_ngcontent-%COMP%]{cursor:move;opacity:.7;transform:scale(1.05)}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]   .hide-tab-btn[_ngcontent-%COMP%]{margin-left:10px;color:red;cursor:pointer;opacity:.7;transition:opacity .2s}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]   .hide-tab-btn[_ngcontent-%COMP%]:hover{opacity:1}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;background-color:#f0f0f0}.header-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none}.custom-tabs[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;background-color:#fff;box-shadow:0 4px 12px #0000000d;position:relative;--background-activated: transparent;--background-focused: transparent;--background: transparent;font-size:1em;--color-checked: #333;--color: #666;padding-bottom:10px;width:90%;margin-left:10px;--indicator-color: transparent}.segment-button-checked[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border-radius:12px;--indicator-color: transparent;color:#000}.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#59c7cd;border-radius:12px;transition:all .3s ease}.custom-underline-default.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#59c7cd;border-radius:12px;transition:all .3s ease}.custom-underline-shalom.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#ff8366;border-radius:12px;transition:all .3s ease}.custom-underline-favorites.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#373737;border-radius:12px;transition:all .3s ease}.segment-button-checked-shalom[_ngcontent-%COMP%]:after{background:#ff8366}.segment-button-checked-fav[_ngcontent-%COMP%]:after{background:#373737}.filter-button[_ngcontent-%COMP%]{--border-radius: 30px;--padding-start: 15px;--padding-end: 15px;--background: #fff;--box-shadow: 0px 4px 6px rgba(0, 0, 0, .1);--color: #000;--icon-size: 20px;--border-color: #E5E5E5;display:flex;justify-content:center;align-items:center;width:150px;margin:20px auto auto}.filter-button[_ngcontent-%COMP%]:hover{--background: #f5f5f5}.clear-filter-icon[_ngcontent-%COMP%]{font-size:24px;color:#e74c3c;margin-left:10px;cursor:pointer}.filter-dropdown[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px;background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;width:100%}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;--color: #333;--background: #fff;--border-radius: 10px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .1)}.popup-modal-trainings[_ngcontent-%COMP%]{height:80vh;border-top-left-radius:20px;border-top-right-radius:20px;background:#fff;padding:10px;box-shadow:0 -4px 12px #0000001a;overflow-y:auto;max-height:100vh}.drag-handle[_ngcontent-%COMP%]{width:10px;height:1px;background-color:transparent;border-radius:2.5px;margin:0 auto 10px}.content-container[_ngcontent-%COMP%]{padding:15px;justify-content:center}ion-content[_ngcontent-%COMP%]{--background: white}ion-tab-bar[_ngcontent-%COMP%]{--background: #fff;--color-selected: #3498db;--color: #666}ion-tab-button[_ngcontent-%COMP%]{--color-selected: #666;--color: #666}.card[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin:10px 0;border-radius:12px;box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;color:#333;font-family:Alef}.card-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.card-header[_ngcontent-%COMP%]   ion-icon.favorite[_ngcontent-%COMP%]{color:red}.time-date[_ngcontent-%COMP%]{font-size:14px;color:gray}.segment-button[_ngcontent-%COMP%]:not(.segment-button-checked):after{height:0}.progress-bar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.progress-bar[_ngcontent-%COMP%]{width:80%;background-color:#e0e0e0;border-radius:8px;height:6px}.progress-default[_ngcontent-%COMP%]{background-color:#59c7cd}.progress-shalom[_ngcontent-%COMP%]{background-color:#ff8366}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:6px;border-radius:8px;background-color:#59c7cd}.participants[_ngcontent-%COMP%]{font-size:12px;display:flex;align-items:center}.participants[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.card-footer[_ngcontent-%COMP%]{margin-top:10px}.action-button[_ngcontent-%COMP%]{width:100%;background-color:#454545;color:#fff;border:none;padding:10px;border-radius:8px;text-align:center;font-size:14px;cursor:pointer;transition:background-color .3s ease}.action-button.loading[_ngcontent-%COMP%]{background-color:#f0f0f0;cursor:not-allowed}.action-button.success[_ngcontent-%COMP%]{background-color:#4caf50}.success-icon[_ngcontent-%COMP%]{color:#fff;font-size:14px}ion-spinner[_ngcontent-%COMP%]{height:10px;width:10px}.action-button.full[_ngcontent-%COMP%]{background-color:#757575}.enrolled-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;cursor:not-allowed}.participants-container[_ngcontent-%COMP%]{background-color:#c5c5c563;position:relative;width:50px;border-radius:7px}.participant-popup[_ngcontent-%COMP%]{position:absolute;top:-10px;left:60px;background-color:#fff;border:none;padding:12px;box-shadow:0 8px 16px #00000026;width:180px;z-index:10;border-radius:12px;transition:opacity .3s ease,transform .3s ease;opacity:0;transform:translateY(-10px)}.participant-popup[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:14px}.participant-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.participant-popup[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;margin-bottom:5px}.participants[_ngcontent-%COMP%]{cursor:pointer;position:relative;justify-content:center}.participants[_ngcontent-%COMP%]:hover{text-decoration:underline}.participants[_ngcontent-%COMP%]:hover   .participant-popup[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}'],data:{animation:[(0,N.hZ)("tabVisibility",[(0,N.wk)("visible",(0,N.iF)({opacity:1,height:"*"})),(0,N.wk)("hidden",(0,N.iF)({opacity:0,height:"0px",overflow:"hidden"})),(0,N.kY)("visible <=> hidden",(0,N.i0)("300ms ease-in-out"))])]}}),v})()},5312:(_t,K,_)=>{_.d(K,{c:()=>n});const n={production:!0,apiBaseUrl:"https://k-studio.co.il/wp-admin/admin-ajax.php?action=wpamelia_api&call=/api/v1"}},8834:(_t,K,_)=>{_.d(K,{Hl:()=>vt});var n=_(3953),C=_(6600);let vt=(()=>{var S;class R{}return(S=R).\u0275fac=function(f){return new(f||S)},S.\u0275mod=n.$C({type:S}),S.\u0275inj=n.G2t({imports:[C.yE,C.pZ,C.yE]}),R})()},6600:(_t,K,_)=>{_.d(K,{$E:()=>P,yE:()=>it,O5:()=>E,pZ:()=>O,ug:()=>A});var n=_(3953),C=_(5262),N=_(8203),at=_(177),J=_(6860),t=_(4085);const rt=new n.nKC("mat-sanity-checks",{providedIn:"root",factory:function pt(){return!0}});let it=(()=>{var e;class i{constructor(o,p,h){this._sanityChecks=p,this._document=h,this._hasDoneGlobalChecks=!1,o._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(o){return!(0,J.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[o])}}return(e=i).\u0275fac=function(o){return new(o||e)(n.KVO(C.Q_),n.KVO(rt,8),n.KVO(at.qQ))},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[N.jI,N.jI]}),i})();var m=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(m||{});class r{constructor(i,a,o,p=!1){this._renderer=i,this.element=a,this.config=o,this._animationForciblyDisabledThroughCss=p,this.state=m.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const c=(0,J.BQ)({passive:!0,capture:!0});class b{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const a=(0,J.Fb)(i);var o;a&&(null===(o=this._events.get(i.type))||void 0===o||o.forEach((p,h)=>{(h===a||h.contains(a))&&p.forEach(y=>y.handleEvent(i))}))}}addHandler(i,a,o,p){const h=this._events.get(a);if(h){const y=h.get(o);y?y.add(p):h.set(o,new Set([p]))}else this._events.set(a,new Map([[o,new Set([p])]])),i.runOutsideAngular(()=>{document.addEventListener(a,this._delegateEventHandler,c)})}removeHandler(i,a,o){const p=this._events.get(i);if(!p)return;const h=p.get(a);h&&(h.delete(o),0===h.size&&p.delete(a),0===p.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,c)))}}const g={enterDuration:225,exitDuration:150},w=(0,J.BQ)({passive:!0,capture:!0}),T=["mousedown","touchstart"],F=["mouseup","mouseleave","touchend","touchcancel"];class A{constructor(i,a,o,p){this._target=i,this._ngZone=a,this._platform=p,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,p.isBrowser&&(this._containerElement=(0,t.i8)(o))}fadeInRipple(i,a,o={}){const p=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h={...g,...o.animation};o.centered&&(i=p.left+p.width/2,a=p.top+p.height/2);const y=o.radius||function Y(e,i,a){const o=Math.max(Math.abs(e-a.left),Math.abs(e-a.right)),p=Math.max(Math.abs(i-a.top),Math.abs(i-a.bottom));return Math.sqrt(o*o+p*p)}(i,a,p),X=i-p.left,et=a-p.top,q=h.enterDuration,W=document.createElement("div");W.classList.add("mat-ripple-element"),W.style.left=X-y+"px",W.style.top=et-y+"px",W.style.height=2*y+"px",W.style.width=2*y+"px",null!=o.color&&(W.style.backgroundColor=o.color),W.style.transitionDuration=`${q}ms`,this._containerElement.appendChild(W);const Ut=window.getComputedStyle(W),Yt=Ut.transitionDuration,Bt="none"===Ut.transitionProperty||"0s"===Yt||"0s, 0s"===Yt||0===p.width&&0===p.height,ct=new r(this,W,o,Bt);W.style.transform="scale3d(1, 1, 1)",ct.state=m.FADING_IN,o.persistent||(this._mostRecentTransientRipple=ct);let Rt=null;return!Bt&&(q||h.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Xt=()=>{Rt&&(Rt.fallbackTimer=null),clearTimeout(Ht),this._finishRippleTransition(ct)},Nt=()=>this._destroyRipple(ct),Ht=setTimeout(Nt,q+100);W.addEventListener("transitionend",Xt),W.addEventListener("transitioncancel",Nt),Rt={onTransitionEnd:Xt,onTransitionCancel:Nt,fallbackTimer:Ht}}),this._activeRipples.set(ct,Rt),(Bt||!q)&&this._finishRippleTransition(ct),ct}fadeOutRipple(i){if(i.state===m.FADING_OUT||i.state===m.HIDDEN)return;const a=i.element,o={...g,...i.config.animation};a.style.transitionDuration=`${o.exitDuration}ms`,a.style.opacity="0",i.state=m.FADING_OUT,(i._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const a=(0,t.i8)(i);!this._platform.isBrowser||!a||a===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=a,T.forEach(o=>{A._eventManager.addHandler(this._ngZone,o,a,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{F.forEach(a=>{this._triggerElement.addEventListener(a,this,w)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===m.FADING_IN?this._startFadeOutTransition(i):i.state===m.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){const a=i===this._mostRecentTransientRipple,{persistent:o}=i.config;i.state=m.VISIBLE,!o&&(!a||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){var a;const o=null!==(a=this._activeRipples.get(i))&&void 0!==a?a:null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=m.HIDDEN,null!==o&&(i.element.removeEventListener("transitionend",o.onTransitionEnd),i.element.removeEventListener("transitioncancel",o.onTransitionCancel),null!==o.fallbackTimer&&clearTimeout(o.fallbackTimer)),i.element.remove()}_onMousedown(i){const a=(0,C._G)(i),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!a&&!o&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!(0,C.w6)(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const a=i.changedTouches;if(a)for(let o=0;o<a.length;o++)this.fadeInRipple(a[o].clientX,a[o].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(i.state===m.VISIBLE||i.config.terminateOnPointerUp&&i.state===m.FADING_IN)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(T.forEach(a=>A._eventManager.removeHandler(a,i,this)),this._pointerUpEventsRegistered&&(F.forEach(a=>i.removeEventListener(a,this,w)),this._pointerUpEventsRegistered=!1))}}A._eventManager=new b;const P=new n.nKC("mat-ripple-global-options");let O=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[it,it]}),i})(),E=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[it]}),i})()},5705:(_t,K,_)=>{_.d(K,{Fg:()=>Gt});var n=_(3953),L=(_(4085),_(6860),_(6600));_(8359),_(7786),_(1413),_(1985),_(6354),_(5964),_(152);let H=(()=>{var s;class l{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return(s=l).\u0275fac=function(e){return new(e||s)},s.\u0275prov=n.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),l})(),gt=(()=>{var s;class l{}return(s=l).\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.$C({type:s}),s.\u0275inj=n.G2t({providers:[H]}),l})();var dt=_(177);let ot=(()=>{var s;class l{}return(s=l).\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.$C({type:s}),s.\u0275inj=n.G2t({imports:[L.yE,L.yE]}),l})();_(5262),_(4402),_(7673),_(7336),_(4341),_(6977);let Gt=(()=>{var s;class l{}return(s=l).\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.$C({type:s}),s.\u0275inj=n.G2t({imports:[gt,dt.MD,L.yE,L.pZ,L.O5,ot]}),l})()},5911:(_t,K,_)=>{_.d(K,{s5:()=>k});var n=_(3953),C=_(6600);let k=(()=>{var j;class z{}return(j=z).\u0275fac=function(U){return new(U||j)},j.\u0275mod=n.$C({type:j}),j.\u0275inj=n.G2t({imports:[C.yE,C.yE]}),z})()}}]);