"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5553],{689:(Et,bt,M)=>{M.d(bt,{p:()=>J});var s=M(1626),E=M(1985),X=M(6354),et=M(9437),ht=M(7673),dt=M(7468),t=M(8141),T=M(8810);var Z=M(3953),st=M(3656),Q=M(3931),at=M(4796);let J=(()=>{var F;class V{constructor(C,G,R,H){this.platform=C,this.httpA=G,this.http=R,this.authService=H,this.headers=new s.Lr({"Content-Type":"application/json",Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"}),this.apiUrl="https://k-studio.co.il/wp-json/custom-api/v1"}getLast60DaysAppointmentsForUser(){const C=new Date,G=this.formatDate(new Date(C.setDate(C.getDate()+30))),H=`https://k-studio.co.il/wp-admin/admin-ajax.php?action=wpamelia_api&call=/api/v1/appointments&dates=${this.formatDate(new Date(C.setDate(C.getDate()-60)))},${G}&skipServices=1&skipProviders=1`,Y=this.authService.getUserEmail(),k={Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"};return new E.c(L=>{this.platform.ready().then(()=>{this.platform.is("cordova")?this.httpA.get(H,{},k).then(q=>{var tt;const yt=(null===(tt=JSON.parse(q.data).data)||void 0===tt?void 0:tt.appointments)||{};let Mt=[];for(const ft in yt)yt.hasOwnProperty(ft)&&Array.isArray(yt[ft].appointments)&&yt[ft].appointments.forEach(lt=>{lt.bookings&&Array.isArray(lt.bookings)&&lt.bookings.forEach(ot=>{var pt;if((null===(pt=ot.customer)||void 0===pt?void 0:pt.email)===Y){ot.googleCalendarEventId=lt.googleCalendarEventId;const $={...lt,matchedBooking:ot,userBookingStatus:ot.status};Mt.push($)}})});L.next(Mt),L.complete()}).catch(q=>{L.error(`Error fetching appointments: ${q}`)}):this.http.get(H,{headers:this.headers}).subscribe(q=>{var tt;const xt=(null===(tt=q.data)||void 0===tt?void 0:tt.appointments)||{};let yt=[];for(const Mt in xt)xt.hasOwnProperty(Mt)&&Array.isArray(xt[Mt].appointments)&&xt[Mt].appointments.forEach(ft=>{ft.bookings&&Array.isArray(ft.bookings)&&ft.bookings.forEach(lt=>{var ot;if((null===(ot=lt.customer)||void 0===ot?void 0:ot.email)===Y){lt.googleCalendarEventId=ft.googleCalendarEventId;const pt={...ft,matchedBooking:lt,userBookingStatus:lt.status};yt.push(pt)}})});L.next(yt),L.complete()},q=>{L.error(`Error fetching appointments: ${q}`)})})})}fetchSubscriptionExpiryDate(C){return this.http.get(`https://k-studio.co.il/wp-json/custom-api/v1/subscription-dates/?user_id={${C}}`).pipe((0,X.T)(R=>{if(!R||0===R.length)return{expiryDate:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05de\u05e0\u05d5\u05d9 \u05d1\u05ea\u05d5\u05e7\u05e3"};const H=R[0],Y=H.status;let k,L=new Date;return"active"===Y?(L=0!=H.expiry_date?new Date(H.expiry_date):new Date(H.renewal_date),k=`${L.getDate().toString().padStart(2,"0")}/${(L.getMonth()+1).toString().padStart(2,"0")}/${L.getFullYear()}`,this.storeSubscriptionExpiryDate(k),k="\u05ea\u05d5\u05e7\u05e3 \u05d4\u05de\u05e0\u05d5\u05d9: "+k):k="on-hold"===Y?"\u05d4\u05de\u05e0\u05d5\u05d9 \u05de\u05d5\u05e9\u05d4\u05d4":"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05de\u05e0\u05d5\u05d9 \u05d1\u05ea\u05d5\u05e7\u05e3",{expiryDate:k}}))}fetchAvailablePackageSlots(C){return this.http.get(`https://k-studio.co.il/wp-json/wn/v1/package-purchases/${C}`,{}).pipe((0,X.T)(R=>{if(R&&R.data&&R.data.length>0){const H=R.data[0].packages;if(H&&H.length>0){const Y=H[0].purchases,k=H[0].purchases[0].packageCustomerId;if(this.authService.storePackageCustomerID(k),Y&&Y.length>0){const L=Y[0].purchase[0].available,tt=new Date(Y[0].purchased);return tt.setDate(tt.getDate()+30),{availableSlots:L,expiryDate:`${tt.getDate().toString().padStart(2,"0")}/${(tt.getMonth()+1).toString().padStart(2,"0")}/${tt.getFullYear()}`,customerPackageID:k}}}}return{availableSlots:0,expiryDate:""}}),(0,et.W)(R=>(console.error("API Error:",R),(0,ht.of)({availableSlots:0,expiryDate:""}))))}fetchSubscriptionData(C,G){const H=`https://k-studio.co.il/wp-json/wn/v1/package-purchases/${G}`;return(0,dt.p)({subscription:this.http.get(`https://k-studio.co.il/wp-json/custom-api/v1/subscription-dates/?user_id=${C}`).pipe((0,X.T)(Y=>{if(!Y||0===Y.length)return{subscriptionId:0,expiryDate:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05de\u05e0\u05d5\u05d9 \u05d1\u05ea\u05d5\u05e7\u05e3"};const k=Y[0],L=k.status;let q,tt=new Date;return"active"===L?(tt=0!=k.expiry_date?new Date(k.expiry_date):new Date(k.renewal_date),q=`${tt.getDate().toString().padStart(2,"0")}/${(tt.getMonth()+1).toString().padStart(2,"0")}/${tt.getFullYear()}`,this.storeSubscriptionExpiryDate(q),q="\u05ea\u05d5\u05e7\u05e3 \u05d4\u05de\u05e0\u05d5\u05d9: "+q):q="on-hold"===L?"\u05d4\u05de\u05e0\u05d5\u05d9 \u05de\u05d5\u05e9\u05d4\u05d4":"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05de\u05e0\u05d5\u05d9 \u05d1\u05ea\u05d5\u05e7\u05e3",{subscriptionId:k.subscription_id,expiryDate:q}})),packageSlots:this.http.get(H).pipe((0,X.T)(Y=>{if(Y&&Y.data&&Y.data.length>0){const k=Y.data[0].packages;if(k&&k.length>0){const L=k[0].purchases;if(this.authService.storePackageCustomerID(L[0].packageCustomerId),L&&L.length>0)return{availableSlots:L[0].purchase[0].available}}}return{availableSlots:0}}),(0,et.W)(Y=>(console.error("Package API Error:",Y),(0,ht.of)({availableSlots:0}))))}).pipe((0,X.T)(({subscription:Y,packageSlots:k})=>({subscriptionId:Y.subscriptionId,expiryDate:Y.expiryDate,availableSlots:k.availableSlots})))}getUserPackageCustomerID(){const G=`https://k-studio.co.il/wp-json/wn/v1/package-purchases/${this.authService.getPackageCustomerId()}`;return this.http.get(G,{}).pipe((0,X.T)(R=>{R&&R.data&&R.data[0]&&R.data[0].packages[0]&&R.data[0].packages[0].purchases[0]&&R.data[0].packages[0].purchases[0].packageCustomerId&&this.authService.storePackageCustomerID(R.data[0].packages[0].purchases[0].packageCustomerId)}),(0,et.W)(R=>(console.error("API Error:",R),(0,ht.of)({availableSlots:0,expiryDate:""}))))}fetchUserPurchases(C){return this.http.get(`https://k-studio.co.il/wp-json/wn/v1/user-purchases/${C}`,{}).pipe((0,X.T)(R=>(R.forEach(H=>{H.invoice_link||(H.invoice_link="")}),R||[])),(0,et.W)(R=>(console.error("Error fetching user purchases:",R),(0,ht.of)([]))))}updateFavoriteLocation(C){const R="https://k-studio.co.il/wp-json/custom-api/v1/set-favorite-location?user_id="+this.authService.getUserID();return this.http.post(R,{favorite_location:C}).pipe((0,t.M)(()=>console.log("HTTP request sent")),(0,X.T)(Y=>(this.authService.storeFavLocation(C),Y)),(0,et.W)(Y=>(console.error("HTTP Error:",Y),(0,T.$)(()=>new Error("Failed to update favorite location")))))}cancelBooking(C){return this.http.post(`https://k-studio.co.il/wp-json/wn/v1/cancel-booking/${C}`,{})}formatDate(C){return`${C.getFullYear()}-${(C.getMonth()+1).toString().padStart(2,"0")}-${C.getDate().toString().padStart(2,"0")}`}storeSubscriptionExpiryDate(C){localStorage.setItem("subscription_expiry_date",C)}getSubscriptionExpiryDate(){return localStorage.getItem("subscription_expiry_date")}addNote(C,G,R,H){return this.http.post(`${this.apiUrl}/add-note`,{userID:C,title:G,content:R,color:H})}removeNote(C){return this.http.post(`${this.apiUrl}/remove-note`,{note_id:C})}editNote(C,G,R,H){return this.http.post(`${this.apiUrl}/edit-note`,{note_id:C,title:G,content:R,color:H})}getNotesByUser(C){return this.http.get(`${this.apiUrl}/get-notes-by-user?user_id=${C}`)}}return(F=V).\u0275fac=function(C){return new(C||F)(Z.KVO(st.OD),Z.KVO(Q.B),Z.KVO(s.Qq),Z.KVO(at.u))},F.\u0275prov=Z.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),V})()},9003:(Et,bt,M)=>{M.d(bt,{T:()=>Pt});var s=M(467),E=M(1626),X=M(7586),et=M(9350),ht=M(7707);function dt(g,D){const h="object"==typeof D;return new Promise((i,o)=>{const p=new ht.Ms({next:x=>{i(x),p.unsubscribe()},error:o,complete:()=>{h?i(D.defaultValue):o(new et.G)}});g.subscribe(p)})}var t=M(3953),T=M(791),P=M(4938),Z=M(177);function st(g,D){if(1&g&&(t.j41(0,"div",9)(1,"h3",10),t.EFF(2),t.k0s(),t.j41(3,"p",11),t.EFF(4),t.k0s()()),2&g){const h=D.$implicit,i=t.XpG();t.R7$(2),t.JRh(i.getDayInHebrew(h.name)),t.R7$(2),t.JRh(h.date)}}function Q(g,D){if(1&g&&(t.j41(0,"div")(1,"p",16),t.EFF(2),t.k0s(),t.j41(3,"p",17),t.EFF(4),t.k0s()()),2&g){const h=t.XpG().$implicit,i=t.XpG().$implicit;t.R7$(2),t.JRh(h.trainings[i].time),t.R7$(2),t.JRh(h.trainings[i].title)}}function at(g,D){1&g&&(t.j41(0,"div")(1,"p",18),t.EFF(2,"-"),t.k0s()())}function J(g,D){if(1&g&&(t.j41(0,"div",14),t.DNE(1,Q,5,2,"div",15)(2,at,3,0,"div",15),t.k0s()),2&g){const h=D.$implicit,i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",h.trainings[i]),t.R7$(),t.Y8G("ngIf",!h.trainings[i])}}function F(g,D){if(1&g&&(t.j41(0,"div",12),t.DNE(1,J,3,2,"div",13),t.k0s()),2&g){const h=t.XpG();t.R7$(),t.Y8G("ngForOf",h.days)}}let V=(()=>{var g;class D{constructor(i,o){this.modalCtrl=i,this.ameliaService=o,this.branch="main",this.days=[],this.hebrewDaysMap={Sunday:"\u05e8\u05d0\u05e9\u05d5\u05df",Monday:"\u05e9\u05e0\u05d9",Tuesday:"\u05e9\u05dc\u05d9\u05e9\u05d9",Wednesday:"\u05e8\u05d1\u05d9\u05e2\u05d9",Thursday:"\u05d7\u05de\u05d9\u05e9\u05d9",Friday:"\u05e9\u05d9\u05e9\u05d9",Saturday:"\u05e9\u05d1\u05ea"},this.daysOfWeekEnglish=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}ngOnInit(){this.loadWeeklyTrainings()}loadWeeklyTrainings(){const i=this.ameliaService.getTrainingsTitles(this.branch);this.days=this.daysOfWeekEnglish.map((o,p)=>({name:o,date:X().day(p).format("DD/MM/YYYY"),trainings:i[o]||[]}))}refreshTrainings(){var i=this;return(0,s.A)(function*(){try{yield i.ameliaService.fetchTitleTrainings("main"),i.loadWeeklyTrainings()}catch(o){console.error("Error refreshing trainings:",o)}try{yield i.ameliaService.fetchTitleTrainings("second"),i.loadWeeklyTrainings()}catch(o){console.error("Error refreshing trainings:",o)}})()}getDayInHebrew(i){return this.hebrewDaysMap[i]||i}getMaxTrainingsLength(){return Math.max(...this.days.map(i=>i.trainings.length),0)}getRange(i){return Array.from({length:i},(o,p)=>p)}getDayName(i){return this.daysOfWeekEnglish[i%7]}getDateByOffset(i){return X().add(i,"days").format("DD/MM/YYYY")}getBranchTitle(){return"main"===this.branch?"\u05e1\u05e0\u05d9\u05e3 \u05e8\u05d0\u05e9\u05d9":"\u05e1\u05e0\u05d9\u05e3 \u05de\u05e9\u05e0\u05d9"}dismiss(){this.modalCtrl.dismiss()}}return(g=D).\u0275fac=function(i){return new(i||g)(t.rXU(T.W3),t.rXU(P.J))},g.\u0275cmp=t.VBU({type:g,selectors:[["app-calendar-popup"]],inputs:{weeklyData:"weeklyData",branch:"branch"},decls:13,vars:2,consts:[[1,"modal-title"],["slot","end"],["fill","clear",3,"click"],[1,"modal-content"],[1,"calendar-table-wrapper"],[1,"calendar-table"],[1,"table-header"],["class","day-header",4,"ngFor","ngForOf"],["class","table-row",4,"ngFor","ngForOf"],[1,"day-header"],[1,"dayName"],[1,"dayDate"],[1,"table-row"],["class","table-cell training-cell",4,"ngFor","ngForOf"],[1,"table-cell","training-cell"],[4,"ngIf"],[1,"training-time"],[1,"training-title"],[1,"empty-slot"]],template:function(i,o){1&i&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),t.EFF(3,"\u05d4\u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd \u05d4\u05e7\u05e8\u05d5\u05d1\u05d9\u05dd"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return o.dismiss()}),t.EFF(6,"\u05e1\u05d2\u05d5\u05e8"),t.k0s()()()(),t.j41(7,"ion-content",3)(8,"div",4)(9,"div",5)(10,"div",6),t.DNE(11,st,5,2,"div",7),t.k0s(),t.DNE(12,F,2,1,"div",8),t.k0s()()()),2&i&&(t.R7$(11),t.Y8G("ngForOf",o.days),t.R7$(),t.Y8G("ngForOf",o.getRange(o.getMaxTrainingsLength())))},dependencies:[Z.Sq,Z.bT,T.Jm,T.QW,T.W9,T.eU,T.BC,T.ai],styles:[".modal-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.modal-content[_ngcontent-%COMP%]{--background: #f8f9fa;padding:16px}.calendar-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;padding:8px}.calendar-table[_ngcontent-%COMP%]{display:grid;gap:1px;min-width:700px;background-color:#ddd}.table-header[_ngcontent-%COMP%]{display:contents}.day-header[_ngcontent-%COMP%]{background:#f60;color:#fff;text-align:center;padding:8px;border-radius:6px 6px 0 0;font-size:14px;font-weight:700}.table-row[_ngcontent-%COMP%]{display:contents}.table-cell[_ngcontent-%COMP%]{background:#fff;text-align:center;padding:8px;font-size:14px;min-height:60px}.training-time[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin:0;color:#333}.training-title[_ngcontent-%COMP%]{font-size:12px;margin:4px 0 0;color:#555}.empty-slot[_ngcontent-%COMP%]{color:#ccc;font-size:14px}@media (max-width: 768px){.calendar-table[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(120px,1fr))}.day-header[_ngcontent-%COMP%], .training-time[_ngcontent-%COMP%]{font-size:12px}}.dayName[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.dayDate[_ngcontent-%COMP%]{font-size:12px;margin-top:-20px;text-decoration:none;font-weight:200}"]}),D})();var O=M(9969);let C=(()=>{var g;class D{constructor(i){this.http=i,this.apiUrl="https://k-studio.co.il/wp-json/training-music/v1",this.clientId="b46968a8339c459181a8fc6057ec0438",this.clientSecret="c7757feb5518452cafe80565af400216",this.refreshToken="AQC9oH-UuUUDtAsHJ1NBsvmWb634P8eFEFRT6i86SkTDNme8MSTV3g4gT-SJJVCbq-8xoja2TLbw5G0rntYZnFBFYElIwmVTU4MT3c8NLFNTmy1SDa3DmGkAc-G7aRc9yeg",this.spotifyUserId="",this.backupPlaylistId="37i9dQZF1DX76Wlfdnj7AP",this.getSpotifyUserId()}getSpotifyToken(){var i=this;return(0,s.A)(function*(){const o=yield fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(i.clientId+":"+i.clientSecret)},body:`grant_type=refresh_token&refresh_token=${i.refreshToken}`});if(!o.ok){const x=yield o.text();throw console.error("Spotify Token Error:",x),new Error("Failed to refresh Spotify token")}return(yield o.json()).access_token})()}getSpotifyUserId(){var i=this;return(0,s.A)(function*(){const o=yield i.getSpotifyToken(),p=yield fetch("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${o}`}});if(!p.ok)return void console.error("Error fetching Spotify User ID");const x=yield p.json();i.spotifyUserId=x.id})()}searchSongs(i){var o=this;return(0,s.A)(function*(){var p;const x=yield o.getSpotifyToken(),I=yield fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(i)}&type=track&limit=10`,{headers:{Authorization:`Bearer ${x}`}});if(!I.ok){const z=yield I.text();throw console.error("Spotify Search Error:",z),new Error("Failed to fetch songs from Spotify")}return((null===(p=(yield I.json()).tracks)||void 0===p?void 0:p.items)||[]).filter(z=>z&&z.duration_ms&&!isNaN(z.duration_ms))})()}getSongsForTraining(i){return this.http.get(`${this.apiUrl}/get-songs/?training_id=${i}`)}addSongToTraining(i,o,p){var x,I;const S={training_id:i,user_id:o,song_id:p.id,song_name:p.name,artist_name:(null===(x=p.artists[0])||void 0===x?void 0:x.name)||"UNKNOWN",artist_image:(null===(I=p.album)||void 0===I||null===(I=I.images[0])||void 0===I?void 0:I.url)||"UNKNOWN",duration_ms:p.duration_ms};return this.http.post(`${this.apiUrl}/add-song`,S)}removeSongFromTraining(i,o,p){return this.http.post(`${this.apiUrl}/remove-song/`,{training_id:i,user_id:o,song_id:p})}createPlaylist(i,o){var p=this;return(0,s.A)(function*(){if(!p.spotifyUserId)throw console.error("\u274c Spotify User ID not available"),new Error("Spotify User ID not available");yield p.deleteOldPlaylists();const x=o.reduce((j,K)=>{const z=K.duration_ms||(null==K?void 0:K.duration)||0,mt="string"==typeof z?parseInt(z):z;return isNaN(mt)?(console.warn(`\u26a0\ufe0f Invalid duration for song: ${K.song_name||"Unknown"}:`,z),j):j+mt/1e3},0),I=yield p.getSpotifyToken(),S=`https://api.spotify.com/v1/users/${p.spotifyUserId}/playlists`;try{const j=yield p.http.post(S,{name:i,description:"Training Playlist",public:!1},{headers:new E.Lr({Authorization:`Bearer ${I}`,"Content-Type":"application/json"})}).toPromise();if(null==j||!j.id)return console.error("\u274c Failed to create playlist: No ID returned"),null;const K=j.id;let z=[...o];if(x<3600){const rt=3600-x,nt=yield p.getBackupSongs(rt);z=[...o,...nt]}const mt=z.map(rt=>{const nt=rt.song_id||rt.id;return nt?`spotify:track:${nt}`:(console.warn(`\u26a0\ufe0f Missing song ID for: ${rt.song_name||"Unknown song"}`),null)}).filter(rt=>null!==rt);return 0===mt.length?(console.error("\u274c No valid songs to add. Aborting playlist creation."),null):(yield p.addSongsToPlaylist(K,mt),K)}catch(j){return console.error("\u274c Error creating playlist:",j),null}})()}getBackupSongs(i){var o=this;return(0,s.A)(function*(){const p=yield o.getSpotifyToken(),I=new E.Lr({Authorization:`Bearer ${p}`});try{const S=yield o.http.get("https://api.spotify.com/v1/me/playlists",{headers:I}).toPromise();if(!S||!S.items)return console.error("Error: Unable to fetch user playlists.",S),[];const j=S.items.find(ut=>ut.name.toLowerCase().includes("backup"));if(!j)return console.error("\u274c Error: No backup playlist found."),[];const z=`https://api.spotify.com/v1/playlists/${j.id}/tracks`,mt=yield o.http.get(z,{headers:I}).toPromise();if(!mt||!mt.items)return console.error("\u274c Error: No tracks found in backup playlist."),[];let rt=mt.items.map(ut=>ut.track);rt=rt.filter(ut=>ut&&ut.id&&ut.duration_ms&&!isNaN(ut.duration_ms));let nt=0;const vt=[];for(const ut of rt){if(nt+ut.duration_ms/1e3>i)break;vt.push(ut),nt+=ut.duration_ms/1e3}return vt}catch(S){return console.error("\u274c Error fetching backup songs:",S),[]}})()}addSongsToPlaylist(i,o){var p=this;return(0,s.A)(function*(){if(!i||"undefined"===i)return void console.error("\u274c Invalid playlist ID:",i);if(!o.length)return void console.error("\u274c No songs to add.");const x=yield p.getSpotifyToken(),I=`https://api.spotify.com/v1/playlists/${i}/tracks`,S=new E.Lr({Authorization:`Bearer ${x}`,"Content-Type":"application/json"}),j={uris:o.filter(K=>K.startsWith("spotify:track:"))};if(0!==j.uris.length)try{yield p.http.post(I,j,{headers:S}).toPromise()}catch(K){console.error("\u274c Error adding songs to playlist:",K)}else console.error("\u274c No valid track URIs found. Aborting song addition.")})()}getUserPlaylist(){var i=this;return(0,s.A)(function*(){const o=yield i.getSpotifyToken(),x=new E.Lr({Authorization:`Bearer ${o}`,"Content-Type":"application/json"});let I=[],S="https://api.spotify.com/v1/me/playlists?limit=50&market=US";try{for(;S;){let j="";if(j=yield i.http.get(S,{headers:x}).toPromise().catch(()=>({items:[],next:null})),!j||!j.items){console.warn("Spotify API returned an empty response.");break}I=I.concat(j.items),S=j.next}return I}catch(j){return console.error("Error fetching user playlists:",j),[]}})()}deleteOldPlaylists(){var i=this;return(0,s.A)(function*(){const o=yield i.getUserPlaylist(),p=new Date;p.setDate(p.getDate()-2);for(const x of o)x.name.startsWith("Training -")&&new Date(x.name.split(" - ")[1])<p&&(yield i.deletePlaylist(x.id))})()}deletePlaylist(i){var o=this;return(0,s.A)(function*(){const p=yield o.getSpotifyToken(),x=`https://api.spotify.com/v1/playlists/${i}/followers`,I=new E.Lr({Authorization:`Bearer ${p}`,"Content-Type":"application/json"});try{yield o.http.delete(x,{headers:I}).toPromise()}catch(S){console.error(`Error deleting playlist ${i}`,S)}})()}}return(g=D).\u0275fac=function(i){return new(i||g)(t.KVO(E.Qq))},g.\u0275prov=t.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),D})();var G=M(4796),R=M(9417);const H=["searchInput"],Y=["selectedSongsList"],k=(g,D)=>({"fade-in":g,"fade-out":D});function L(g,D){1&g&&(t.j41(0,"div",14),t.nrm(1,"ion-spinner",15),t.k0s())}function q(g,D){if(1&g){const h=t.RV6();t.j41(0,"ion-button",22),t.bIt("click",function(){t.eBV(h);const o=t.XpG().$implicit,p=t.XpG(2);return t.Njj(p.addSong(o))}),t.nrm(1,"ion-icon",23),t.k0s()}}function tt(g,D){if(1&g&&(t.j41(0,"ion-item",18)(1,"ion-thumbnail",19),t.nrm(2,"img",20),t.k0s(),t.j41(3,"ion-label")(4,"h2"),t.EFF(5),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s()(),t.DNE(8,q,2,0,"ion-button",21),t.k0s()),2&g){const h=D.$implicit,i=t.XpG(2);t.R7$(2),t.Y8G("src",(null==h.album||null==h.album.images[0]?null:h.album.images[0].url)||"assets/default-artist.png",t.B4B),t.R7$(3),t.JRh(h.name),t.R7$(2),t.JRh(null==h.artists[0]?null:h.artists[0].name),t.R7$(),t.Y8G("ngIf",!i.isAddedToSelectedSongs(h))}}function xt(g,D){if(1&g&&(t.j41(0,"ion-list",16),t.DNE(1,tt,9,4,"ion-item",17),t.k0s()),2&g){const h=t.XpG();t.R7$(),t.Y8G("ngForOf",h.searchResults)}}function yt(g,D){if(1&g){const h=t.RV6();t.j41(0,"ion-button",27),t.bIt("click",function(){t.eBV(h);const o=t.XpG().$implicit,p=t.XpG();return t.Njj(p.removeSong(o))}),t.nrm(1,"ion-icon",28),t.k0s()}}function Mt(g,D){if(1&g&&(t.j41(0,"ion-item",24)(1,"ion-thumbnail",19),t.nrm(2,"img",25),t.k0s(),t.j41(3,"ion-label")(4,"h2"),t.EFF(5),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s()(),t.DNE(8,yt,2,0,"ion-button",26),t.k0s()),2&g){const h=D.$implicit,i=t.XpG();t.Y8G("ngClass",t.l_i(5,k,h.isNew,h.isFadingOut)),t.R7$(2),t.Y8G("src",h.artist_image,t.B4B),t.R7$(3),t.JRh(h.song_name),t.R7$(2),t.JRh(h.artist_name),t.R7$(),t.Y8G("ngIf",h.user_id===i.userId||"administrator"===i.userRole||"team"===i.userRole)}}function ft(g,D){if(1&g){const h=t.RV6();t.j41(0,"ion-fab",29)(1,"ion-fab-button",30),t.bIt("click",function(){t.eBV(h);const o=t.XpG();return t.Njj(o.createSpotifyPlaylist())}),t.nrm(2,"ion-icon",31),t.k0s()()}}let lt=(()=>{var g;class D{constructor(i,o,p,x,I){this.modalCtrl=i,this.spotifyService=o,this.authService=p,this.toastController=x,this.animationCtrl=I,this.searchQuery="",this.searchResults=[],this.selectedSongs=[],this.userId="",this.userRole="",this.errorMessage="",this.isSearching=!1,this.userId=this.authService.getUserID(),this.userRole=this.authService.getUserRole()}ngOnInit(){this.loadTrainingSongs()}searchSongs(){var i=this;return(0,s.A)(function*(){if(i.searchQuery.trim()){i.isSearching=!0;try{i.searchResults=yield i.spotifyService.searchSongs(i.searchQuery)}catch(o){console.error("Search error:",o),i.presentToast("Failed to search songs","danger")}finally{i.isSearching=!1}}else i.searchResults=[]})()}addSong(i){var o,p;const x={song_id:i.id,song_name:i.name,artist_name:(null===(o=i.artists[0])||void 0===o?void 0:o.name)||"Unknown Artist",artist_image:(null===(p=i.album)||void 0===p||null===(p=p.images[0])||void 0===p?void 0:p.url)||"assets/default-artist.png",user_id:this.userId,duration_ms:i.duration_ms,isNew:!0,isFadingOut:!1};this.selectedSongs.some(I=>I.song_id===x.song_id)||this.selectedSongs.push(x),this.spotifyService.addSongToTraining(this.training.id,this.userId,i).subscribe(()=>{},I=>{console.error("Error adding song:",I),this.presentToast("Failed to add song","danger"),this.selectedSongs=this.selectedSongs.filter(S=>S.song_id!==x.song_id)}),this.clearSearch(),this.animateAddSong()}removeSong(i){const o=this.selectedSongs.findIndex(p=>p.song_id===i.song_id);-1!==o&&(this.selectedSongs[o].isFadingOut=!0,setTimeout(()=>{this.selectedSongs=this.selectedSongs.filter(p=>p.song_id!==i.song_id),this.spotifyService.removeSongFromTraining(this.training.id,this.userId,i.song_id).subscribe(()=>{},p=>{console.error("Error removing song:",p),this.presentToast("Failed to remove song","danger")})},300))}animateAddSong(){setTimeout(()=>{this.selectedSongsList&&this.animationCtrl.create().addElement(this.selectedSongsList.nativeElement).duration(300).fromTo("opacity","0.5","1").fromTo("transform","scale(0.95)","scale(1)").play()},50)}loadTrainingSongs(){this.spotifyService.getSongsForTraining(this.training.id).subscribe(i=>{this.selectedSongs=i.map(o=>({...o,artist_image:o.artist_image||"assets/default-artist.png"}))},i=>{console.error("Error fetching songs:",i),this.presentToast("Failed to load songs","danger")})}clearSearch(){this.searchQuery="",this.searchResults=[],this.searchInput&&(this.searchInput.nativeElement.value="",this.searchInput.nativeElement.blur())}isAddedToSelectedSongs(i){return this.selectedSongs.some(o=>o.song_id===i.id)}getTotalDuration(){const i=this.selectedSongs.reduce((I,S)=>{const j="string"==typeof S.duration_ms?parseInt(S.duration_ms):S.duration_ms;return I+(isNaN(j)?0:j)},0),o=Math.floor(i/1e3);return`${Math.floor(o/60)}:${(o%60).toString().padStart(2,"0")}`}saveSelection(){this.modalCtrl.dismiss(this.selectedSongs)}closeModal(){this.modalCtrl.dismiss()}presentToast(i,o){var p=this;return(0,s.A)(function*(){yield(yield p.toastController.create({message:i,duration:2500,color:o,position:"bottom"})).present()})()}createSpotifyPlaylist(){var i=this;return(0,s.A)(function*(){if(!i.selectedSongs.length)return void i.presentToast("No songs in the playlist!","danger");const o=`Training - ${i.training.start_time}`;try{if(!(yield i.spotifyService.createPlaylist(o,i.selectedSongs)))return console.error("\u274c Playlist creation failed."),void i.presentToast("Failed to create playlist","danger");i.presentToast("\u05d4\u05e4\u05dc\u05d9\u05d9\u05dc\u05d9\u05e1\u05d8 \u05e0\u05d5\u05e6\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!","success")}catch(p){console.error("\u274c Error creating playlist:",p),i.presentToast("Failed to create playlist","danger")}})()}}return(g=D).\u0275fac=function(i){return new(i||g)(t.rXU(T.W3),t.rXU(C),t.rXU(G.u),t.rXU(T.K_),t.rXU(T.Hx))},g.\u0275cmp=t.VBU({type:g,selectors:[["app-music-modal"]],viewQuery:function(i,o){if(1&i&&(t.GBs(H,5),t.GBs(Y,5)),2&i){let p;t.mGM(p=t.lsd())&&(o.searchInput=p.first),t.mGM(p=t.lsd())&&(o.selectedSongsList=p.first)}},inputs:{training:"training"},decls:19,vars:5,consts:[["searchInput",""],["selectedSongsList",""],[1,"music-modal-container"],["slot","end"],[1,"close-button",3,"click"],["name","close-outline"],[1,"search-container"],["placeholder","\u05d7\u05d9\u05e4\u05d5\u05e9",1,"custom-searchbar",3,"ngModelChange","ionInput","ionClear","ngModel"],["class","search-loading",4,"ngIf"],["class","search-results-list",4,"ngIf"],[1,"selected-songs-container"],[1,"selected-songs-list"],[3,"ngClass",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],[1,"search-loading"],["name","lines-small","color","primary"],[1,"search-results-list"],["class","fade-in",4,"ngFor","ngForOf"],[1,"fade-in"],["slot","start"],[1,"song-thumbnail",3,"src"],["color","primary","fill","clear","class","add-song-btn",3,"click",4,"ngIf"],["color","primary","fill","clear",1,"add-song-btn",3,"click"],["name","add-circle-outline"],[3,"ngClass"],[1,"artist-image",3,"src"],["color","danger","fill","clear","class","remove-song-btn",3,"click",4,"ngIf"],["color","danger","fill","clear",1,"remove-song-btn",3,"click"],["name","trash-outline"],["slot","fixed","vertical","bottom","horizontal","end"],["color","success",3,"click"],["name","musical-notes-outline"]],template:function(i,o){if(1&i){const p=t.RV6();t.j41(0,"div",2)(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",3)(4,"ion-button",4),t.bIt("click",function(){return t.eBV(p),t.Njj(o.closeModal())}),t.nrm(5,"ion-icon",5),t.k0s()(),t.j41(6,"ion-title"),t.EFF(7,"\u05e4\u05dc\u05d9\u05d9\u05dc\u05d9\u05e1\u05d8 \u05d0\u05d9\u05de\u05d5\u05df"),t.k0s()()(),t.j41(8,"ion-content")(9,"div",6)(10,"ion-searchbar",7,0),t.mxI("ngModelChange",function(I){return t.eBV(p),t.DH7(o.searchQuery,I)||(o.searchQuery=I),t.Njj(I)}),t.bIt("ionInput",function(){return t.eBV(p),t.Njj(o.searchSongs())})("ionClear",function(){return t.eBV(p),t.Njj(o.clearSearch())}),t.k0s(),t.DNE(12,L,2,0,"div",8),t.k0s(),t.DNE(13,xt,2,1,"ion-list",9),t.j41(14,"div",10)(15,"ion-list",11,1),t.DNE(17,Mt,9,8,"ion-item",12),t.k0s(),t.DNE(18,ft,3,0,"ion-fab",13),t.k0s()()()}2&i&&(t.R7$(10),t.R50("ngModel",o.searchQuery),t.R7$(2),t.Y8G("ngIf",o.isSearching),t.R7$(),t.Y8G("ngIf",o.searchResults.length>0),t.R7$(4),t.Y8G("ngForOf",o.selectedSongs),t.R7$(),t.Y8G("ngIf","administrator"===o.userRole||"team"===o.userRole))},dependencies:[Z.YU,Z.Sq,Z.bT,R.BC,R.vS,T.Jm,T.QW,T.W9,T.Q8,T.YW,T.eU,T.iq,T.uz,T.he,T.nf,T.S1,T.w2,T.Zx,T.BC,T.ai,T.Gw],styles:[".music-modal-container[_ngcontent-%COMP%]{--background: #f4f5f8;height:100%;display:flex;flex-direction:column;background:linear-gradient(135deg,#f4f5f8,#e9ecef)}.music-modal-container[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--border-width: 0}.music-modal-container[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#333;transition:transform .2s ease}.music-modal-container[_ngcontent-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:active{transform:scale(.9)}.music-modal-container[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.music-modal-container[_ngcontent-%COMP%]   .fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.95)}}.music-modal-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-size:1.1em;font-family:Alef;line-height:15px}.music-modal-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;padding:10px;background-color:#fff}.music-modal-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]{--background: #f0f0f0;transition:all .3s ease}.music-modal-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .custom-searchbar[_ngcontent-%COMP%]:focus{--background: #e0e0e0;box-shadow:0 2px 4px #0000001a}.music-modal-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-loading[_ngcontent-%COMP%]{position:absolute;top:50%;right:20px;transform:translateY(-50%)}.music-modal-container[_ngcontent-%COMP%]   .search-results-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{transition:background-color .3s ease}.music-modal-container[_ngcontent-%COMP%]   .search-results-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:active{background-color:#0000000d}.music-modal-container[_ngcontent-%COMP%]   .search-results-list[_ngcontent-%COMP%]   .song-thumbnail[_ngcontent-%COMP%]{border-radius:8px;transition:transform .2s ease}.music-modal-container[_ngcontent-%COMP%]   .search-results-list[_ngcontent-%COMP%]   .song-thumbnail[_ngcontent-%COMP%]:active{transform:scale(.95)}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;background-color:#fff;box-shadow:0 -4px 6px #0000000d}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]   .selected-songs-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;background-color:#f8f9fa}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]   .selected-songs-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:600;color:#333}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]   .selected-songs-header[_ngcontent-%COMP%]   .total-duration[_ngcontent-%COMP%]{color:#6c757d;font-size:.9em;background-color:#e9ecef;padding:5px 10px;border-radius:15px}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]   .selected-songs-list[_ngcontent-%COMP%]{height:calc(100% - 60px);overflow-y:auto;background-color:#fff;scrollbar-width:thin;scrollbar-color:#ccc #f1f3f5}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]   .selected-songs-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]   .selected-songs-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f3f5;border-radius:10px}.music-modal-container[_ngcontent-%COMP%]   .selected-songs-container[_ngcontent-%COMP%]   .selected-songs-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:10px}.music-modal-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 15px;--inner-padding-end: 15px;margin:5px 0;border-radius:10px;transition:background-color .3s ease}.music-modal-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: #f4f4f4}.music-modal-container[_ngcontent-%COMP%]   .artist-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;box-shadow:0 2px 4px #0000001a}.music-modal-container[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.music-modal-container[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]{padding:10px;background-color:#fff;box-shadow:0 -2px 4px #0000001a}.music-modal-container[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   .save-playlist-btn[_ngcontent-%COMP%]{margin:0;height:50px;--border-radius: 10px;transition:all .3s ease}.music-modal-container[_ngcontent-%COMP%]   ion-footer[_ngcontent-%COMP%]   .save-playlist-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"],data:{animation:[(0,O.hZ)("songListAnimation",[(0,O.kY)(":enter",[(0,O.P)(":enter",[(0,O.iF)({opacity:0,transform:"translateY(20px)"}),(0,O.yc)(50,[(0,O.i0)("300ms ease-out",(0,O.iF)({opacity:1,transform:"translateY(0)"}))])],{optional:!0})]),(0,O.kY)(":leave",[(0,O.P)(":leave",[(0,O.i0)("200ms ease-in",(0,O.iF)({opacity:0,transform:"translateX(-100%)"}))],{optional:!0})])])]}}),D})();var ot=M(3656),pt=M(689);const $=["popup"],N=()=>[1,2,3,4],it=g=>({"background-color":g}),kt=(g,D,h,i)=>({"standby-enrolled":g,loading:D,success:h,error:i}),_t=(g,D)=>({loading:g,success:D});function It(g,D){1&g&&(t.j41(0,"ion-segment-button",12)(1,"ion-label"),t.EFF(2,"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"),t.k0s()())}function Nt(g,D){1&g&&(t.j41(0,"ion-segment-button",13)(1,"ion-label"),t.EFF(2,"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"),t.k0s()())}function Gt(g,D){if(1&g&&(t.j41(0,"ion-segment-button",18)(1,"ion-label"),t.EFF(2),t.k0s()()),2&g){const h=D.$implicit,i=t.XpG(2);t.FS9("value",h.date),t.Y8G("ngClass","shalom"===i.selectedFilterAllFav?"custom-underline-shalom":"favorites"===i.selectedFilterAllFav?"custom-underline-favorites":"custom-underline-default"),t.R7$(2),t.Lme("",h.formattedDate," ",h.day,"")}}function Ft(g,D){if(1&g){const h=t.RV6();t.j41(0,"ion-icon",23),t.bIt("click",function(){t.eBV(h);const o=t.XpG(3);return t.Njj(o.openCalendarPopup())}),t.k0s()}}function Ct(g,D){if(1&g){const h=t.RV6();t.j41(0,"div",19)(1,"ion-button",20),t.bIt("click",function(){t.eBV(h);const o=t.XpG(2);return t.Njj(o.toggleFilterDropdown())}),t.nrm(2,"ion-icon",21),t.EFF(3," \u05e1\u05d9\u05e0\u05d5\u05df "),t.k0s(),t.DNE(4,Ft,1,0,"ion-icon",22),t.k0s()}if(2&g){const h=t.XpG(2);t.R7$(4),t.Y8G("ngIf",!h.isTrainer)}}function Bt(g,D){if(1&g&&(t.j41(0,"ion-select-option",32),t.EFF(1),t.k0s()),2&g){const h=D.$implicit;t.Y8G("value",h),t.R7$(),t.JRh(h)}}function Qt(g,D){if(1&g){const h=t.RV6();t.j41(0,"ion-button",33),t.bIt("click",function(){t.eBV(h);const o=t.XpG(3);return t.Njj(o.resetTypeFilter())}),t.nrm(1,"ion-icon",34),t.k0s()}}function Yt(g,D){if(1&g){const h=t.RV6();t.j41(0,"ion-list",24)(1,"ion-item")(2,"ion-label",25),t.EFF(3,"\u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df"),t.k0s(),t.j41(4,"ion-select",26),t.mxI("ngModelChange",function(o){t.eBV(h);const p=t.XpG(2);return t.DH7(p.selectedType,o)||(p.selectedType=o),t.Njj(o)}),t.bIt("ionChange",function(){t.eBV(h);const o=t.XpG(2);return t.Njj(o.onTypeChange())}),t.DNE(5,Bt,2,2,"ion-select-option",27),t.k0s(),t.DNE(6,Qt,2,0,"ion-button",28),t.k0s(),t.j41(7,"ion-item")(8,"ion-label",25),t.EFF(9,"\u05d6\u05de\u05d9\u05e0\u05d5\u05ea"),t.k0s(),t.j41(10,"ion-segment",29),t.mxI("ngModelChange",function(o){t.eBV(h);const p=t.XpG(2);return t.DH7(p.availabilityFilter,o)||(p.availabilityFilter=o),t.Njj(o)}),t.bIt("ionChange",function(){t.eBV(h);const o=t.XpG(2);return t.Njj(o.onFilterChange())}),t.j41(11,"ion-segment-button",30)(12,"ion-label"),t.EFF(13,"\u05d4\u05db\u05dc"),t.k0s()(),t.j41(14,"ion-segment-button",31)(15,"ion-label"),t.EFF(16,"\u05d6\u05de\u05d9\u05df \u05d1\u05dc\u05d1\u05d3"),t.k0s()()()()()}if(2&g){const h=t.XpG(2);t.R7$(4),t.R50("ngModel",h.selectedType),t.R7$(),t.Y8G("ngForOf",h.availableTypes),t.R7$(),t.Y8G("ngIf",h.selectedType),t.R7$(4),t.R50("ngModel",h.availabilityFilter)}}function jt(g,D){if(1&g){const h=t.RV6();t.j41(0,"div")(1,"ion-segment",14),t.mxI("ngModelChange",function(o){t.eBV(h);const p=t.XpG();return t.DH7(p.selectedDay,o)||(p.selectedDay=o),t.Njj(o)}),t.bIt("ionChange",function(o){let p;t.eBV(h);const x=t.XpG();return t.Njj(x.onDayChange(null!==(p=o.detail.value)&&void 0!==p?p:""))}),t.DNE(2,Gt,3,4,"ion-segment-button",15),t.k0s(),t.DNE(3,Ct,5,1,"div",16)(4,Yt,17,4,"ion-list",17),t.k0s()}if(2&g){const h=t.XpG();t.R7$(),t.R50("ngModel",h.selectedDay),t.R7$(),t.Y8G("ngForOf",h.days),t.R7$(),t.Y8G("ngIf",!h.showSkeleton),t.R7$(),t.Y8G("ngIf",h.showDropdown)}}function Ot(g,D){1&g&&(t.j41(0,"ion-item",37)(1,"ion-thumbnail",38),t.nrm(2,"ion-skeleton-text",39),t.k0s(),t.j41(3,"ion-label")(4,"h3"),t.nrm(5,"ion-skeleton-text",40),t.k0s(),t.j41(6,"p"),t.nrm(7,"ion-skeleton-text",41),t.k0s(),t.j41(8,"p"),t.nrm(9,"ion-skeleton-text",42),t.k0s()()()),2&g&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0))}function $t(g,D){1&g&&(t.j41(0,"ion-list")(1,"ion-list-header"),t.nrm(2,"ion-skeleton-text",35),t.k0s(),t.DNE(3,Ot,10,4,"ion-item",36),t.k0s()),2&g&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(),t.Y8G("ngForOf",t.lJ4(2,N)))}function Jt(g,D){if(1&g&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&g){const h=D.$implicit;t.R7$(),t.SpI(" ",h," ")}}function Kt(g,D){if(1&g&&(t.j41(0,"div",57)(1,"ul"),t.DNE(2,Jt,2,1,"li",58),t.k0s()()),2&g){const h=t.XpG().$implicit;t.R7$(2),t.Y8G("ngForOf",h.current_participants)}}function Ht(g,D){1&g&&(t.qex(0),t.j41(1,"button",59),t.nrm(2,"ion-icon",60),t.EFF(3," \u05e8\u05e9\u05d5\u05dd "),t.k0s(),t.bVm())}function qt(g,D){1&g&&(t.qex(0),t.EFF(1," \u05e8\u05e9\u05d5\u05dd \u05dc\u05d4\u05de\u05ea\u05e0\u05d4 "),t.bVm())}function te(g,D){1&g&&(t.qex(0),t.EFF(1," \u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05d4\u05de\u05ea\u05e0\u05d4 "),t.bVm())}function ee(g,D){1&g&&(t.qex(0),t.nrm(1,"ion-spinner",64),t.bVm())}function Dt(g,D){1&g&&(t.qex(0),t.nrm(1,"ion-icon",60),t.bVm())}function ie(g,D){1&g&&(t.qex(0),t.nrm(1,"ion-icon",65),t.bVm())}function gt(g,D){if(1&g){const h=t.RV6();t.j41(0,"button",63),t.bIt("click",function(){let o;t.eBV(h);const p=t.XpG(2).$implicit,x=t.XpG();return t.Njj(x.addToStandbyList(null!==(o=p)&&void 0!==o?o:0,x.userId,x.userEmail))}),t.DNE(1,qt,2,0,"ng-container",10)(2,te,2,0,"ng-container",10)(3,ee,2,0,"ng-container",10)(4,Dt,2,0,"ng-container",10)(5,ie,2,0,"ng-container",10),t.k0s()}if(2&g){const h=t.XpG(2).$implicit;t.Y8G("ngClass",t.ziG(7,kt,h.isStandbyEnrolled,h.isStandbyLoading&&!h.isStandbyEnrolled,h.isStandbySuccess&&!h.isStandbyEnrolled,h.isError&&!h.isStandbyEnrolled))("disabled",h.isStandbyEnrolled||h.isStandbyLoading||h.isStandbySuccess||h.isError),t.R7$(),t.Y8G("ngIf",h.isStandbyEnrolled),t.R7$(),t.Y8G("ngIf",!(h.isStandbyEnrolled||h.isStandbyLoading||h.isStandbySuccess||h.isError)),t.R7$(),t.Y8G("ngIf",!h.isStandbyEnrolled&&h.isStandbyLoading),t.R7$(),t.Y8G("ngIf",!h.isStandbyEnrolled&&h.isStandbySuccess),t.R7$(),t.Y8G("ngIf",!h.isStandbyEnrolled&&h.isError)}}function zt(g,D){1&g&&(t.qex(0),t.EFF(1,"\u05d4\u05e8\u05e9\u05de\u05d4"),t.bVm())}function Lt(g,D){1&g&&(t.qex(0),t.nrm(1,"ion-spinner",64),t.bVm())}function Ut(g,D){1&g&&(t.qex(0),t.nrm(1,"ion-icon",60),t.bVm())}function St(g,D){if(1&g){const h=t.RV6();t.j41(0,"button",66),t.bIt("click",function(){t.eBV(h);const o=t.XpG(2).$implicit,p=t.XpG();return t.Njj(p.enrollUser(o))}),t.DNE(1,zt,2,0,"ng-container",10)(2,Lt,2,0,"ng-container",10)(3,Ut,2,0,"ng-container",10),t.k0s()}if(2&g){const h=t.XpG(2).$implicit;t.Y8G("disabled",h.isLoading||h.isSuccess)("ngClass",t.l_i(5,_t,h.isLoading,h.isSuccess)),t.R7$(),t.Y8G("ngIf",!h.isLoading&&!h.isSuccess),t.R7$(),t.Y8G("ngIf",h.isLoading),t.R7$(),t.Y8G("ngIf",h.isSuccess)}}function Rt(g,D){if(1&g&&(t.qex(0),t.DNE(1,gt,6,12,"button",61)(2,St,4,8,"button",62),t.bVm()),2&g){const h=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",h.booked===h.total_participants),t.R7$(),t.Y8G("ngIf",h.booked<h.total_participants)}}function At(g,D){if(1&g){const h=t.RV6();t.j41(0,"div",43)(1,"div",44)(2,"h3"),t.EFF(3),t.k0s(),t.j41(4,"ion-icon",45),t.bIt("click",function(){const o=t.eBV(h).$implicit,p=t.XpG();return t.Njj(p.toggleFavorite(o))}),t.k0s(),t.j41(5,"ion-icon",46),t.bIt("click",function(){const o=t.eBV(h).$implicit,p=t.XpG();return t.Njj(p.openMusicModal(o))}),t.k0s()(),t.j41(6,"div",47)(7,"div",48),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"div",49)(11,"div",50),t.nrm(12,"div",51),t.k0s(),t.j41(13,"div",52)(14,"div",53),t.bIt("mouseenter",function(){const o=t.eBV(h).$implicit,p=t.XpG();return t.Njj(p.showParticipantsPopup(o))})("mouseleave",function(){t.eBV(h);const o=t.XpG();return t.Njj(o.hideParticipantsPopup())}),t.EFF(15),t.nrm(16,"ion-icon",54),t.DNE(17,Kt,3,1,"div",55),t.k0s()()()(),t.j41(18,"div",56),t.DNE(19,Ht,4,0,"ng-container",10)(20,Rt,3,2,"ng-container",10),t.k0s()()}if(2&g){const h=D.$implicit,i=t.XpG();t.R7$(3),t.JRh(h.title.name),t.R7$(),t.AVh("favorite",h.favorite),t.R7$(4),t.SpI(" ",t.i5U(9,12,h.start_time,"HH:mm")," "),t.R7$(4),t.xc7("width",i.calculateProgress(h)+"%"),t.Y8G("ngStyle",t.eq3(15,it,"shalom"===i.selectedFilterAllFav?"#ff8366":"#59c7cd")),t.R7$(3),t.Lme(" ",h.booked,"/",h.total_participants," "),t.R7$(2),t.Y8G("ngIf",i.isPopupVisible&&i.activeAppointment===h),t.R7$(2),t.Y8G("ngIf",h.isUserBooked),t.R7$(),t.Y8G("ngIf",!h.isUserBooked)}}let Pt=(()=>{var g;class D{get showSkeleton(){return"shalom"===this.selectedFilterAllFav&&this.isShalomLoading||"all"===this.selectedFilterAllFav&&this.isBenYehudaLoading}constructor(i,o,p,x,I,S,j){this.platform=i,this.toastController=o,this.modalCtrl=p,this.http=x,this.authService=I,this.modalCalendar=S,this.profileService=j,this.customerID="",this.userEmail="",this.userFavLocation="",this.userRole="",this.isTrainer=!1,this.showingParticipants=!1,this.isPopupVisible=!1,this.activeAppointment=null,this.selectedFilterAllFav="all",this.selectedType="",this.availabilityFilter="all",this.showDropdown=!1,this.availableTypes=[],this.filteredAppointments=[],this.bookedAppointments=[],this.combinedList=[],this.days=[],this.knownTrainingTypes=["\u05e4\u05d9\u05dc\u05d0\u05d8\u05d9\u05e1","\u05d9\u05d5\u05d2\u05d4","\u05d0\u05d9\u05de\u05d5\u05df \u05db\u05d5\u05d7","Parallel 15","Spinning","TRX","Booty&ABS","All In","HiiT","POWER",""],this.availableTimeslots=[],this.unfilteredList=[],this.isLoading=!0,this.isStandbyLoading=!1,this.isStandbySuccess=!1,this.isEnrollLoading=!1,this.isEnrollSuccess=!1,this.showToast=!1,this.toastMessage="",this.toastColor="success",this.errorMessage="",this.currentDateRange=null,this.allAvailableDays=[],this.tabLoadingState=!1,this.benYehudaDays=[],this.shalomDays=[],this.benYehudaAppointments=[],this.shalomAppointments=[],this.benYehudaTimeslots=[],this.shalomTimeslots=[],this.benYehudaLoaded=!1,this.shalomLoaded=!1,this.isShalomLoading=!1,this.isBenYehudaLoading=!0,"trainer"===this.authService.getUserRole()&&(this.isTrainer=!0),this.userId=this.authService.getUserID(),this.userEmail=this.authService.getUserEmail(),this.customerID=this.authService.getCustomerID(),this.userFavLocation=this.authService.getUserFavLocation(),this.authService.fetchPackageCustomerId(this.customerID).subscribe({error:K=>{console.error("Error fetching package id",K)}})}ngOnInit(){var i=this;return(0,s.A)(function*(){i.isLoading=!0;try{"inactive"===i.userRole?i.presentToast("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd, \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc","danger"):"trial-users"===i.userRole&&i.presentToast("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd, \u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05d9\u05e1\u05d9\u05d5\u05df","danger");const o=i.authService.getUserFavLocation();i.userFavLocation=o,"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===i.userFavLocation||"\u05d4\u05db\u05dc"===i.userFavLocation?i.selectedFilterAllFav="all":"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===i.userFavLocation&&(i.selectedFilterAllFav="shalom"),yield i.loadInitialData()}catch(o){console.error("Error during initialization:",o),i.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05e9\u05d9\u05db\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd","danger")}finally{i.isLoading=!1}})()}presentToast(i,o){var p=this;return(0,s.A)(function*(){yield(yield p.toastController.create({message:i,duration:3e3,color:o,position:"bottom"})).present()})()}extractAvailableDays(){const i=["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9'"],o=(new Date).toISOString().split("T")[0],p=this.combinedList.filter(I=>!isNaN(new Date(I.start_time).getTime())).map(I=>new Date(I.start_time).toISOString().split("T")[0]),x=Array.from(new Set(p)).map(I=>{const S=new Date(I);return{date:I,day:i[S.getDay()],formattedDate:`${S.getDate()}.${S.getMonth()+1}`}});x.sort((I,S)=>I.date===o?-1:S.date===o?1:new Date(I.date).getTime()-new Date(S.date).getTime()),"all"===this.selectedFilterAllFav?this.benYehudaDays=x:"shalom"===this.selectedFilterAllFav&&(this.shalomDays=x),this.days="all"===this.selectedFilterAllFav?this.benYehudaDays:this.shalomDays,this.selectedDay=this.days.length>0?this.days[0].date:""}extractAvailableTypes(){const i=new Set(this.filteredAppointments.map(o=>o.title.name));this.availableTypes=Array.from(i)}getAppointmentsForSelectedDay(){return this.combinedList.filter(i=>{const o=X(i.start_time);return o.isValid()&&o.format("YYYY-MM-DD")===this.selectedDay})}loadInitialData(){var i=this;return(0,s.A)(function*(){"all"===i.selectedFilterAllFav?(i.isBenYehudaLoading=!0,setTimeout(()=>{},0)):"shalom"===i.selectedFilterAllFav&&(i.isShalomLoading=!0);try{const p=new Date,x=new Date(p);x.setDate(p.getDate()+20);let I=i.profileService.getSubscriptionExpiryDate(),S=x;if(I){const[K,z,mt]=I.split("/").map(Number);var o=new Date(mt,z-1,K);nt=S,vt=o,ut=p,S=Math.abs(nt-ut)<Math.abs(vt-ut)?nt:vt}i.currentDateRange={start:p,end:S};let j=i.userFavLocation;"\u05d4\u05db\u05dc"==i.userFavLocation&&(j="\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"),console.time("fetchTime"),yield i.fetchTrainingsForDateRange(p,S,j),console.timeEnd("fetchTime")}catch(p){console.error("Error loading initial data:",p),yield i.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd","danger")}finally{"all"===i.selectedFilterAllFav?(i.isBenYehudaLoading=!1,setTimeout(()=>{},0)):"shalom"===i.selectedFilterAllFav&&(i.isShalomLoading=!1)}var nt,vt,ut})()}fetchTrainingsForDateRange(i,o,p){var x=this;return(0,s.A)(function*(){if("\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===p&&x.benYehudaLoaded)return x.combinedList=[...x.benYehudaAppointments],x.unfilteredList=[...x.combinedList],void x.updateFilteredAppointments();if("\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===p&&x.shalomLoaded)return x.combinedList=[...x.shalomAppointments],x.unfilteredList=[...x.combinedList],void x.updateFilteredAppointments();const I=x.authService.getUserID(),S=j=>X(j).format("YYYY-MM-DD");try{const j=S(i),K=S(o);console.log("endDateFormatted:",K);const mt=`https://k-studio.co.il/wp-json/custom-api/v1/get-trainings?startDate=${j}&endDate=${K}&userID=${I}&location=${encodeURIComponent(p)}`,rt=yield dt(x.http.get(mt));for(let nt=new Date(i);nt<=o;nt.setDate(nt.getDate()+1)){const vt=S(new Date(nt));x.allAvailableDays.includes(vt)||x.allAvailableDays.push(vt)}yield x.combineTimeslotsAndAppointments(rt),"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===p?(x.benYehudaAppointments=[...x.combinedList],x.benYehudaLoaded=!0):"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===p&&(x.shalomAppointments=[...x.combinedList],x.shalomLoaded=!0)}catch(j){throw console.error("Error fetching trainings:",j),j}})()}combineTimeslotsAndAppointments(i){var o=this;return(0,s.A)(function*(){try{const p=i.filter(K=>"timeslot"===K.type),x=i.filter(K=>"appointment"===K.type),I="all"===o.selectedFilterAllFav;I?(o.benYehudaTimeslots=p,o.benYehudaAppointments=x):(o.shalomTimeslots=p,o.shalomAppointments=x),o.combinedList=[...I?o.benYehudaTimeslots:o.shalomTimeslots,...I?o.benYehudaAppointments:o.shalomAppointments],o.combinedList.sort((K,z)=>new Date(K.start_time).getTime()-new Date(z.start_time).getTime()),o.unfilteredList=[...o.combinedList],o.extractAvailableDays();const S=o.authService.getUserFullName(),j=o.combinedList.map(function(){var K=(0,s.A)(function*(z){z.start_time&&!isNaN(Date.parse(z.start_time))?(z.isStandbyEnrolled=z.booked>=z.total_participants&&void 0!==z.id&&(yield o.checkStandbyEnrollment(o.userEmail,z.id)),Array.isArray(z.current_participants)?z.isUserBooked=z.current_participants.some(mt=>mt===S):(console.warn("current_participants is not an array for training:",z),z.isUserBooked=!1)):console.error("Invalid start_time for training:",z)});return function(z){return K.apply(this,arguments)}}());yield Promise.all(j),o.filteredAppointments=[...o.combinedList],o.updateFilteredAppointments()}catch(p){console.error("Error combining timeslots and appointments:",p)}})()}onDayChange(i){this.selectedDay=String(i||""),this.updateFilteredAppointments()}filterFavAll(i){var o=this;return(0,s.A)(function*(){const p=i.detail.value;if(o.combinedList=[],o.filteredAppointments=[],o.days=[],"favorites"===p){o.tabLoadingState=!0;try{const K=[...o.benYehudaAppointments,...o.shalomAppointments],z=[...o.benYehudaTimeslots,...o.shalomTimeslots];o.combinedList=[...z,...K],o.unfilteredList=[...o.combinedList],o.updateFilteredAppointments()}finally{o.tabLoadingState=!1}return}const I={all:"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4",shalom:"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"}[p],S="all"===p?o.benYehudaLoaded:o.shalomLoaded;"all"===p?(o.isBenYehudaLoading=!0,setTimeout(()=>{},0)):"shalom"===p&&(o.isShalomLoading=!0);try{if("all"===p?(o.days=o.benYehudaDays,o.benYehudaLoaded&&(o.combinedList=[...o.benYehudaTimeslots,...o.benYehudaAppointments],o.unfilteredList=[...o.combinedList],o.selectedDay=o.benYehudaDays.length>0?o.benYehudaDays[0].date:"",o.updateFilteredAppointments())):"shalom"===p&&(o.days=o.shalomDays,o.shalomLoaded&&(o.combinedList=[...o.shalomTimeslots,...o.shalomAppointments],o.unfilteredList=[...o.combinedList],o.selectedDay=o.shalomDays.length>0?o.shalomDays[0].date:"",o.updateFilteredAppointments())),!S){const K=new Date,z=new Date(K);z.setDate(K.getDate()+20);let mt=o.profileService.getSubscriptionExpiryDate(),rt=z;if(mt){const[nt,vt,ut]=mt.split("/").map(Number);var j=new Date(ut,vt-1,nt);Vt=rt,Xt=j,Wt=K,rt=Math.abs(Vt-Wt)<Math.abs(Xt-Wt)?Vt:Xt}yield o.fetchTrainingsForDateRange(K,rt,I)}}finally{"all"===p?o.isBenYehudaLoading=!1:o.isShalomLoading=!1}var Vt,Xt,Wt})()}toggleAvailabilityFilter(){this.availabilityFilter="all"===this.availabilityFilter?"available":"all",this.updateFilteredAppointments()}updateFilteredAppointments(){let i=[...this.unfilteredList];this.selectedDay&&(i=i.filter(o=>X(o.start_time).format("YYYY-MM-DD")===this.selectedDay)),"available"===this.availabilityFilter&&(i=i.filter(o=>o.booked<o.total_participants)),this.selectedType&&(i=i.filter(o=>o.title.name===this.selectedType)),"favorites"===this.selectedFilterAllFav&&(i=i.filter(o=>o.favorite)),i.sort((o,p)=>new Date(o.start_time).getTime()-new Date(p.start_time).getTime()),this.filteredAppointments=[...i],this.extractAvailableTypes()}onFilterChange(){this.updateFilteredAppointments()}onTypeChange(){this.updateFilteredAppointments()}resetTypeFilter(){this.selectedType="",this.updateFilteredAppointments()}removePastFavorites(){const i=new Date,p=this.getFavoriteTrainings().filter(x=>{const I=this.combinedList.find(S=>S.id===x);return I&&new Date(I.start_time)>i});this.saveFavoriteTrainings(p)}closeModal(){document.body.classList.remove("no-scroll"),this.modalCtrl.dismiss()}toggleFavorite(i){i.favorite=!i.favorite;const o=this.getFavoriteTrainings();if(i.favorite)o.push(i.id);else{const p=o.indexOf(i.id);p>-1&&o.splice(p,1)}this.saveFavoriteTrainings(o)}getFavoriteTrainings(){const i=localStorage.getItem("favoriteTrainings");return i?JSON.parse(i):[]}saveFavoriteTrainings(i){localStorage.setItem("favoriteTrainings",JSON.stringify(i))}toggleFilterDropdown(){this.showDropdown=!this.showDropdown}calculateProgress(i){if(!i.current_participants||!i.total_participants)return 0;const o=i.current_participants.length/i.total_participants*100;return o>100?100:o}showParticipantsPopup(i){this.activeAppointment=i,this.isPopupVisible=!0}hideParticipantsPopup(){this.activeAppointment=null,this.isPopupVisible=!1}addToStandbyList(i,o,p){i.isStandbyLoading=!0,i.isStandbySuccess=!1,this.http.post("https://k-studio.co.il/wp-json/standby-list/v1/add",{appointment_id:null==i?void 0:i.id,customer_id:o,email:p}).subscribe(S=>{i.isStandbyLoading=!1,i.isStandbySuccess=!0},S=>{console.error("Error adding user to standby list",S),i.isStandbyLoading=!1,this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4","danger")})}checkStandbyEnrollment(i,o){const x=(new E.Nl).set("email",i).set("trainingId",o.toString());return dt(this.http.get("https://k-studio.co.il/wp-json/standby-list/v1/check",{params:x})).then(I=>I.isEnrolled).catch(I=>(console.error("Error checking standby enrollment",I),!1))}enrollUser(i){i.isLoading=!0,i.isSuccess=!1,i.isError=!1;let o=i.serviceID;const x=i.start_time.slice(0,16);let I=i.providerId,S=this.authService.getCustomerID(),j=this.authService.getPackageCustomerId();const mt={type:"appointment",serviceId:o,providerId:I,locationId:null,notifyParticipants:0,bookings:[{customerId:S,status:"approved",duration:3600,persons:1,extras:[],customFields:{},utcOffset:-(new Date).getTimezoneOffset(),packageCustomerService:{packageCustomer:{id:j}}}],bookingStart:x,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone};this.platform.ready().then(()=>{const rt=JSON.stringify(mt);this.http.post("https://k-studio.co.il/wp-json/wn/v1/bookTrainingNEW",rt,{headers:{"Content-Type":"application/json"}}).subscribe(nt=>{var vt,ut;if(null===nt.message||null===nt.data)return this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4: \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d7\u05d1\u05d9\u05dc\u05d4 \u05d6\u05de\u05d9\u05e0\u05d4","danger"),i.isError=!0,void(i.isLoading=!1);if(null!==(vt=nt.data)&&void 0!==vt&&vt.timeSlotUnavailable)this.presentToast(nt.message||"The time slot is unavailable","danger");else if(null!==(ut=nt.data)&&void 0!==ut&&ut.customerAlreadyBooked)this.presentToast(nt.message||"You have already booked this training","success");else if(nt.message){i.isSuccess=!0,i.current_participants||(i.current_participants=[]),i.booked+=1;const ne=`${this.authService.getUserFullName()}`;i.current_participants.push(ne),i.isUserBooked=!0}else i.isSuccess=!0;i.isLoading=!1,setTimeout(()=>{i.isSuccess=!1},2e3)},nt=>{console.error("Enrollment failed",JSON.stringify(nt)),i.isLoading=!1,nt.error&&nt.error.includes('"packageCustomerId" is required for booking')?this.presentToast("\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d7\u05d1\u05d9\u05dc\u05d4 \u05d6\u05de\u05d9\u05e0\u05d4","danger"):this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4","danger"),i.isError=!0})})}openCalendarPopup(){var i=this;return(0,s.A)(function*(){let o="";"all"===i.selectedFilterAllFav?o="main":"shalom"===i.selectedFilterAllFav&&(o="second"),yield(yield i.modalCalendar.create({component:V,componentProps:{branch:o}})).present()})()}getWeeklyTrainings(){return[]}openMusicModal(i){var o=this;return(0,s.A)(function*(){const p=yield o.modalCtrl.create({component:lt,componentProps:{training:i}});return p.onDidDismiss().then(x=>{}),yield p.present()})()}}return(g=D).\u0275fac=function(i){return new(i||g)(t.rXU(ot.OD),t.rXU(T.K_),t.rXU(T.W3),t.rXU(E.Qq),t.rXU(G.u),t.rXU(T.W3),t.rXU(pt.p))},g.\u0275cmp=t.VBU({type:g,selectors:[["app-trainings"]],viewQuery:function(i,o){if(1&i&&t.GBs($,5),2&i){let p;t.mGM(p=t.lsd())&&(o.popup=p.first)}},decls:15,vars:6,consts:[["popup",""],[1,"popup-modal-trainings"],[1,"drag-handle"],[1,"content-container"],[1,"sticky-header"],[1,"header-tabs"],["mode","md",1,"segment-tab",3,"ngModelChange","ionChange","ngModel"],["value","all","class","header-tab",4,"ngIf"],["value","shalom","class","header-tab segment-button-checked-shalom",4,"ngIf"],["value","favorites",1,"header-tab","segment-button-checked-fav"],[4,"ngIf"],["class","card",4,"ngFor","ngForOf"],["value","all",1,"header-tab"],["value","shalom",1,"header-tab","segment-button-checked-shalom"],["scrollable","","mode","md",1,"days-tabs",3,"ngModelChange","ionChange","ngModel"],["class","custom-tabs",3,"value","ngClass",4,"ngFor","ngForOf"],["class","filter-header",4,"ngIf"],["class","filter-dropdown",4,"ngIf"],[1,"custom-tabs",3,"value","ngClass"],[1,"filter-header"],["fill","outline",1,"filter-button",3,"click"],["name","options-outline","slot","start"],["name","calendar-outline","class","calendar-icon",3,"click",4,"ngIf"],["name","calendar-outline",1,"calendar-icon",3,"click"],[1,"filter-dropdown"],[2,"text-indent","8px"],["interface","popover","placeholder","\u05d1\u05d7\u05e8 \u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["color","danger","fill","clear",3,"click",4,"ngIf"],[3,"ngModelChange","ionChange","ngModel"],["value","all"],["value","available"],[3,"value"],["color","danger","fill","clear",3,"click"],["name","close-circle"],[2,"width","80px",3,"animated"],["lines","none","class","skeleton-item",4,"ngFor","ngForOf"],["lines","none",1,"skeleton-item"],["slot","start"],[3,"animated"],[2,"width","80%",3,"animated"],[2,"width","60%",3,"animated"],[2,"width","30%",3,"animated"],[1,"card"],[1,"card-header"],["name","heart-outline",3,"click"],["name","play-circle-outline",3,"click"],[1,"card-content"],[1,"time-date"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress",3,"ngStyle"],[1,"participants-container"],[1,"participants",3,"mouseenter","mouseleave"],["name","people-outline"],["class","participant-popup",4,"ngIf"],[1,"card-footer"],[1,"participant-popup"],[4,"ngFor","ngForOf"],["disabled","",1,"action-button","enrolled-button"],["name","checkmark-circle",1,"success-icon"],["class","action-button",3,"ngClass","disabled","click",4,"ngIf"],["class","action-button",3,"disabled","ngClass","click",4,"ngIf"],[1,"action-button",3,"click","ngClass","disabled"],["name","crescent"],["name","close-circle",1,"error-icon"],[1,"action-button",3,"click","disabled","ngClass"]],template:function(i,o){if(1&i){const p=t.RV6();t.j41(0,"ion-content",1,0),t.nrm(2,"div",2),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"ion-segment",6),t.mxI("ngModelChange",function(I){return t.eBV(p),t.DH7(o.selectedFilterAllFav,I)||(o.selectedFilterAllFav=I),t.Njj(I)}),t.bIt("ionChange",function(I){return t.eBV(p),t.Njj(o.filterFavAll(I))}),t.DNE(7,It,3,0,"ion-segment-button",7)(8,Nt,3,0,"ion-segment-button",8),t.j41(9,"ion-segment-button",9)(10,"ion-label"),t.EFF(11,"\u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd"),t.k0s()()()(),t.DNE(12,jt,5,4,"div",10)(13,$t,4,3,"ion-list",10)(14,At,21,17,"div",11),t.k0s()()()}2&i&&(t.R7$(6),t.R50("ngModel",o.selectedFilterAllFav),t.R7$(),t.Y8G("ngIf","\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===o.userFavLocation||"\u05d4\u05db\u05dc"===o.userFavLocation),t.R7$(),t.Y8G("ngIf","\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===o.userFavLocation||"\u05d4\u05db\u05dc"===o.userFavLocation),t.R7$(4),t.Y8G("ngIf",!o.showSkeleton),t.R7$(),t.Y8G("ngIf",o.showSkeleton),t.R7$(),t.Y8G("ngForOf",o.filteredAppointments))},dependencies:[Z.YU,Z.Sq,Z.bT,Z.B3,R.BC,R.vS,T.Jm,T.W9,T.iq,T.uz,T.he,T.nf,T.AF,T.Gp,T.eP,T.Nm,T.Ip,T.ds,T.w2,T.Zx,T.Je,Z.vh],styles:['@charset "UTF-8";.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background-color:#fff}.scrollable-list[_ngcontent-%COMP%]{height:calc(100vh - 130px);overflow-y:auto}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.calendar-icon[_ngcontent-%COMP%]{position:absolute;left:16px;font-size:24px;top:50%;transform:translateY(-50%)}.filter-button[_ngcontent-%COMP%]{font-size:16px;padding:8px 16px}.training-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;margin-bottom:20px;width:100%;box-sizing:border-box}.training-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.favorite-icon[_ngcontent-%COMP%]{font-size:24px;color:#5a5a5a}.training-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-top:-30px;color:#333;font-family:Alef}.training-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin-top:-20px;font-family:Alef}.progress-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}ion-progress-bar[_ngcontent-%COMP%]{--progress-background: #E0E0E0;--background: #9B59B6;border-radius:10px;height:10px;flex-grow:1;margin-left:10px}ion-label[_ngcontent-%COMP%]{font-size:2em;color:#333}ion-button[_ngcontent-%COMP%]{font-weight:700;--border-radius: 25px}.segment-tab[_ngcontent-%COMP%]   .days-tabs[_ngcontent-%COMP%]{overflow-x:hidden;--background: #fff;--border-radius: 10px;margin-top:10px}ion-segment.days-tabs[_ngcontent-%COMP%]{border-bottom:1px solid grey}.filter-segment[_ngcontent-%COMP%]{color:red}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #000}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1em;font-weight:700;font-family:Alef}ion-segment-button[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:1em;color:#666;font-weight:700;font-family:Alef}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0;--padding-start: 0;--padding-end: 0;padding:0}.header-tab[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none;padding:none;--indicator-color: transparent}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]{display:flex;width:100%}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]{transition:all .3s ease}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab.dragging-mode[_ngcontent-%COMP%]{cursor:move;opacity:.7;transform:scale(1.05)}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]   .hide-tab-btn[_ngcontent-%COMP%]{margin-left:10px;color:red;cursor:pointer;opacity:.7;transition:opacity .2s}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]   .hide-tab-btn[_ngcontent-%COMP%]:hover{opacity:1}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;background-color:#f0f0f0}.header-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none}.custom-tabs[_ngcontent-%COMP%]{position:relative;--background-activated: transparent;--background-focused: transparent;--background: transparent;font-size:1em;--color-checked: #333;--color: #666;padding-bottom:10px;width:90%;margin-left:10px;--indicator-color: transparent}.segment-button-checked[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border-radius:12px;--indicator-color: transparent;color:#000}.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#59c7cd;transition:all .3s ease}.custom-underline-default.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#59c7cd;transition:all .3s ease}.scroll-container[_ngcontent-%COMP%]{overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.custom-underline-shalom.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#ff8366;border-radius:12px;transition:all .3s ease}.custom-underline-favorites.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#373737;border-radius:12px;transition:all .3s ease}.segment-button-checked-shalom[_ngcontent-%COMP%]:after{background:#ff8366}.segment-button-checked-fav[_ngcontent-%COMP%]:after{background:#373737}.filter-button[_ngcontent-%COMP%]{--border-radius: 30px;--padding-start: 15px;--padding-end: 15px;--background: #fff;--box-shadow: 0px 4px 6px rgba(0, 0, 0, .1);--color: #000;--icon-size: 20px;--border-color: #E5E5E5;display:flex;justify-content:center;align-items:center;width:150px;margin:20px auto auto}.filter-button[_ngcontent-%COMP%]:hover{--background: #f5f5f5}.clear-filter-icon[_ngcontent-%COMP%]{font-size:24px;color:#e74c3c;margin-left:10px;cursor:pointer}.filter-dropdown[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px;background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;width:100%}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;--color: #333;--background: #fff;--border-radius: 10px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .1)}.popup-modal-trainings[_ngcontent-%COMP%]{height:80vh;border-top-left-radius:20px;border-top-right-radius:20px;background:#fff;padding:10px;box-shadow:0 -4px 12px #0000001a;overflow-y:auto;max-height:100vh}.drag-handle[_ngcontent-%COMP%]{width:10px;height:1px;background-color:transparent;border-radius:2.5px;margin:0 auto 10px}.content-container[_ngcontent-%COMP%]{padding:15px;justify-content:center}ion-content[_ngcontent-%COMP%]{--background: white}ion-tab-bar[_ngcontent-%COMP%]{--background: #fff;--color-selected: #3498db;--color: #666}ion-tab-button[_ngcontent-%COMP%]{--color-selected: #666;--color: #666}.card[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin:10px 0;border-radius:12px;box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;color:#333;font-family:Alef;margin-left:auto}.card-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;margin-left:10px}.card-header[_ngcontent-%COMP%]   ion-icon.favorite[_ngcontent-%COMP%]{color:red}.time-date[_ngcontent-%COMP%]{font-size:14px;color:gray}.segment-button[_ngcontent-%COMP%]:not(.segment-button-checked):after{height:0}.progress-bar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.progress-bar[_ngcontent-%COMP%]{width:80%;background-color:#e0e0e0;border-radius:8px;height:6px}.progress-default[_ngcontent-%COMP%]{background-color:#59c7cd}.progress-shalom[_ngcontent-%COMP%]{background-color:#ff8366}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:6px;border-radius:8px;background-color:#59c7cd}.participants[_ngcontent-%COMP%]{font-size:12px;display:flex;align-items:center}.participants[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.card-footer[_ngcontent-%COMP%]{margin-top:10px}.action-button[_ngcontent-%COMP%]{width:100%;background-color:#454545;color:#fff;border:none;padding:10px;border-radius:8px;text-align:center;font-size:14px;cursor:pointer;transition:background-color .3s ease}.action-button.loading[_ngcontent-%COMP%]{background-color:#f0f0f0;cursor:not-allowed}.action-button.success[_ngcontent-%COMP%]{background-color:#4caf50}.success-icon[_ngcontent-%COMP%]{color:#fff;font-size:14px}ion-spinner[_ngcontent-%COMP%]{height:10px;width:10px}.action-button.full[_ngcontent-%COMP%]{background-color:#757575}.enrolled-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;cursor:not-allowed}.participants-container[_ngcontent-%COMP%]{background-color:#c5c5c563;position:relative;width:50px;border-radius:7px}.participant-popup[_ngcontent-%COMP%]{position:absolute;top:-10px;left:60px;background-color:#fff;border:none;padding:12px;box-shadow:0 8px 16px #00000026;width:180px;z-index:10;border-radius:12px;max-height:200px;overflow-y:auto;transition:opacity .3s ease,transform .3s ease;opacity:0;transform:translateY(-10px)}.participant-popup[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:14px}.participant-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.participant-popup[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;margin-bottom:5px}.participants[_ngcontent-%COMP%]{cursor:pointer;position:relative;justify-content:center}.participants[_ngcontent-%COMP%]:hover{text-decoration:underline}.participants[_ngcontent-%COMP%]:hover   .participant-popup[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.action-button.standby-enrolled[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#757575;cursor:not-allowed}.action-button.error[_ngcontent-%COMP%]{background-color:#ff4d4d;color:#fff}.action-button[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:14px;color:#fff}.song-count-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;font-size:.7rem}']}),D})()},9584:(Et,bt,M)=>{M.d(bt,{B:()=>at});var s=M(8359);class E extends s.yU{constructor(F,V){super()}schedule(F,V=0){return this}}const X={setInterval(J,F,...V){const{delegate:O}=X;return null!=O&&O.setInterval?O.setInterval(J,F,...V):setInterval(J,F,...V)},clearInterval(J){const{delegate:F}=X;return((null==F?void 0:F.clearInterval)||clearInterval)(J)},delegate:void 0};var et=M(7908);const dt={now:()=>(dt.delegate||Date).now(),delegate:void 0};class t{constructor(F,V=t.now){this.schedulerActionCtor=F,this.now=V}schedule(F,V=0,O){return new this.schedulerActionCtor(this,F).schedule(O,V)}}t.now=dt.now;const P=new class T extends t{constructor(F,V=t.now){super(F,V),this.actions=[],this._active=!1}flush(F){const{actions:V}=this;if(this._active)return void V.push(F);let O;this._active=!0;do{if(O=F.execute(F.state,F.delay))break}while(F=V.shift());if(this._active=!1,O){for(;F=V.shift();)F.unsubscribe();throw O}}}(class ht extends E{constructor(F,V){super(F,V),this.scheduler=F,this.work=V,this.pending=!1}schedule(F,V=0){var O;if(this.closed)return this;this.state=F;const C=this.id,G=this.scheduler;return null!=C&&(this.id=this.recycleAsyncId(G,C,V)),this.pending=!0,this.delay=V,this.id=null!==(O=this.id)&&void 0!==O?O:this.requestAsyncId(G,this.id,V),this}requestAsyncId(F,V,O=0){return X.setInterval(F.flush.bind(F,this),O)}recycleAsyncId(F,V,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return V;null!=V&&X.clearInterval(V)}execute(F,V){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(F,V);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(F,V){let C,O=!1;try{this.work(F)}catch(G){O=!0,C=G||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),C}unsubscribe(){if(!this.closed){const{id:F,scheduler:V}=this,{actions:O}=V;this.work=this.state=this.scheduler=null,this.pending=!1,(0,et.o)(O,this),null!=F&&(this.id=this.recycleAsyncId(V,F,null)),this.delay=null,super.unsubscribe()}}});var st=M(9974),Q=M(4360);function at(J,F=P){return(0,st.N)((V,O)=>{let C=null,G=null,R=null;const H=()=>{if(C){C.unsubscribe(),C=null;const k=G;G=null,O.next(k)}};function Y(){const k=R+J,L=F.now();if(L<k)return C=this.schedule(void 0,k-L),void O.add(C);H()}V.subscribe((0,Q._)(O,k=>{G=k,R=F.now(),C||(C=F.schedule(Y,J),O.add(C))},()=>{H(),O.complete()},void 0,()=>{G=C=null}))})}},5262:(Et,bt,M)=>{M.d(bt,{Bu:()=>Yt,Q_:()=>W,_G:()=>K,w6:()=>z});var s=M(177),E=M(3953),X=M(6860),et=M(1413),ht=M(8359),T=(M(4402),M(7673),M(7336)),P=M(8141),Z=M(9584),st=M(5964),Q=M(6354),at=M(6697),F=M(4085),V=M(4572),O=M(8793),C=M(1985),R=M(9172),H=M(6977);const k=new Set;let L,q=(()=>{var _;class n{constructor(d,v){this._platform=d,this._nonce=v,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xt}matchMedia(d){return(this._platform.WEBKIT||this._platform.BLINK)&&function tt(_,n){if(!k.has(_))try{L||(L=document.createElement("style"),n&&L.setAttribute("nonce",n),L.setAttribute("type","text/css"),document.head.appendChild(L)),L.sheet&&(L.sheet.insertRule(`@media ${_} {body{ }}`,0),k.add(_))}catch(l){console.error(l)}}(d,this._nonce),this._matchMedia(d)}}return(_=n).\u0275fac=function(d){return new(d||_)(E.KVO(X.OD),E.KVO(E.BIS,8))},_.\u0275prov=E.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),n})();function xt(_){return{matches:"all"===_||""===_,media:_,addListener:()=>{},removeListener:()=>{}}}let yt=(()=>{var _;class n{constructor(d,v){this._mediaMatcher=d,this._zone=v,this._queries=new Map,this._destroySubject=new et.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(d){return Mt((0,F.FG)(d)).some(w=>this._registerQuery(w).mql.matches)}observe(d){const w=Mt((0,F.FG)(d)).map(U=>this._registerQuery(U).observable);let B=(0,V.z)(w);return B=(0,O.x)(B.pipe((0,at.s)(1)),B.pipe(function G(_){return(0,st.p)((n,l)=>_<=l)}(1),(0,Z.B)(0))),B.pipe((0,Q.T)(U=>{const ct={matches:!1,breakpoints:{}};return U.forEach(({matches:Tt,query:Zt})=>{ct.matches=ct.matches||Tt,ct.breakpoints[Zt]=Tt}),ct}))}_registerQuery(d){if(this._queries.has(d))return this._queries.get(d);const v=this._mediaMatcher.matchMedia(d),B={observable:new C.c(U=>{const ct=Tt=>this._zone.run(()=>U.next(Tt));return v.addListener(ct),()=>{v.removeListener(ct)}}).pipe((0,R.Z)(v),(0,Q.T)(({matches:U})=>({query:d,matches:U})),(0,H.Q)(this._destroySubject)),mql:v};return this._queries.set(d,B),B}}return(_=n).\u0275fac=function(d){return new(d||_)(E.KVO(q),E.KVO(E.SKi))},_.\u0275prov=E.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),n})();function Mt(_){return _.map(n=>n.split(",")).reduce((n,l)=>n.concat(l)).map(n=>n.trim())}class Ct{constructor(n,l){this._letterKeyStream=new et.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new et.B,this.selectedItem=this._selectedItem;const d="number"==typeof(null==l?void 0:l.debounceInterval)?l.debounceInterval:200;null!=l&&l.skipPredicate&&(this._skipPredicateFn=l.skipPredicate),this.setItems(n),this._setupKeyHandler(d)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){const l=n.keyCode;n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(l>=T.A&&l<=T.Z||l>=T.f2&&l<=T.bn)&&this._letterKeyStream.next(String.fromCharCode(l))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe((0,P.M)(l=>this._pressedLetters.push(l)),(0,Z.B)(n),(0,st.p)(()=>this._pressedLetters.length>0),(0,Q.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(l=>{for(let w=1;w<this._items.length+1;w++){var d,v;const U=this._items[(this._selectedItemIndex+w)%this._items.length];if((null===(d=this._skipPredicateFn)||void 0===d||!d.call(this,U))&&0===(null===(v=U.getLabel)||void 0===v?void 0:v.call(U).toLocaleUpperCase().trim().indexOf(l))){this._selectedItem.next(U);break}}this._pressedLetters=[]})}}class Bt{constructor(n,l){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=ht.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=d=>d.disabled,this.tabOut=new et.B,this.change=new et.B,n instanceof E.rOR?this._itemChangesSubscription=n.changes.subscribe(d=>this._itemsChanged(d.toArray())):(0,E.Hps)(n)&&(this._effectRef=(0,E.QZP)(()=>this._itemsChanged(n()),{injector:l}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();const l=this._getItemsArray();return this._typeahead=new Ct(l,{debounceInterval:"number"==typeof n?n:void 0,skipPredicate:d=>this._skipPredicateFn(d)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(d=>{this.setActiveItem(d)}),this}cancelTypeahead(){var n;return null===(n=this._typeahead)||void 0===n||n.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,l=10){return this._pageUpAndDown={enabled:n,delta:l},this}setActiveItem(n){const l=this._activeItem;this.updateActiveItem(n),this._activeItem!==l&&this.change.next(this._activeItemIndex)}onKeydown(n){var l;const d=n.keyCode,w=["altKey","ctrlKey","metaKey","shiftKey"].every(U=>!n[U]||this._allowedModifierKeys.indexOf(U)>-1);switch(d){case T.wn:return void this.tabOut.next();case T.n6:if(this._vertical&&w){this.setNextItemActive();break}return;case T.i7:if(this._vertical&&w){this.setPreviousItemActive();break}return;case T.LE:if(this._horizontal&&w){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case T.UQ:if(this._horizontal&&w){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case T.yZ:if(this._homeAndEnd&&w){this.setFirstItemActive();break}return;case T.Kp:if(this._homeAndEnd&&w){this.setLastItemActive();break}return;case T.w_:if(this._pageUpAndDown.enabled&&w){const U=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(U>0?U:0,1);break}return;case T.dB:if(this._pageUpAndDown.enabled&&w){const U=this._activeItemIndex+this._pageUpAndDown.delta,ct=this._getItemsArray().length;this._setActiveItemByIndex(U<ct?U:ct-1,-1);break}return;default:var B;return void((w||(0,T.rp)(n,"shiftKey"))&&(null===(B=this._typeahead)||void 0===B||B.handleKey(n)))}null===(l=this._typeahead)||void 0===l||l.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){var l;const d=this._getItemsArray(),v="number"==typeof n?n:d.indexOf(n),w=d[v];this._activeItem=null==w?null:w,this._activeItemIndex=v,null===(l=this._typeahead)||void 0===l||l.setCurrentSelectedItemIndex(v)}destroy(){var n,l,d;this._typeaheadSubscription.unsubscribe(),null===(n=this._itemChangesSubscription)||void 0===n||n.unsubscribe(),null===(l=this._effectRef)||void 0===l||l.destroy(),null===(d=this._typeahead)||void 0===d||d.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const l=this._getItemsArray();for(let d=1;d<=l.length;d++){const v=(this._activeItemIndex+n*d+l.length)%l.length;if(!this._skipPredicateFn(l[v]))return void this.setActiveItem(v)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,l){const d=this._getItemsArray();if(d[n]){for(;this._skipPredicateFn(d[n]);)if(!d[n+=l])return;this.setActiveItem(n)}}_getItemsArray(){return(0,E.Hps)(this._items)?this._items():this._items instanceof E.rOR?this._items.toArray():this._items}_itemsChanged(n){var l;if(null===(l=this._typeahead)||void 0===l||l.setItems(n),this._activeItem){const v=n.indexOf(this._activeItem);var d;v>-1&&v!==this._activeItemIndex&&(this._activeItemIndex=v,null===(d=this._typeahead)||void 0===d||d.setCurrentSelectedItemIndex(v))}}}class Yt extends Bt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function K(_){return 0===_.buttons||0===_.detail}function z(_){const n=_.touches&&_.touches[0]||_.changedTouches&&_.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}var c=function(_){return _[_.NONE=0]="NONE",_[_.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",_[_.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",_}(c||{});const m="cdk-high-contrast-black-on-white",y="cdk-high-contrast-white-on-black",A="cdk-high-contrast-active";let W=(()=>{var _;class n{constructor(d,v){this._platform=d,this._document=v,this._breakpointSubscription=(0,E.WQX)(yt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return c.NONE;const d=this._document.createElement("div");d.style.backgroundColor="rgb(1,2,3)",d.style.position="absolute",this._document.body.appendChild(d);const v=this._document.defaultView||window,w=v&&v.getComputedStyle?v.getComputedStyle(d):null,B=(w&&w.backgroundColor||"").replace(/ /g,"");switch(d.remove(),B){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return c.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return c.BLACK_ON_WHITE}return c.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const d=this._document.body.classList;d.remove(A,m,y),this._hasCheckedHighContrastMode=!0;const v=this.getHighContrastMode();v===c.BLACK_ON_WHITE?d.add(A,m):v===c.WHITE_ON_BLACK&&d.add(A,y)}}}return(_=n).\u0275fac=function(d){return new(d||_)(E.KVO(X.OD),E.KVO(s.qQ))},_.\u0275prov=E.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),n})()},4085:(Et,bt,M)=>{M.d(bt,{FG:()=>ht,OE:()=>X,he:()=>E,i8:()=>t});var s=M(3953);function E(P){return null!=P&&"false"!=`${P}`}function X(P,Z=0){return function et(P){return!isNaN(parseFloat(P))&&!isNaN(Number(P))}(P)?Number(P):2===arguments.length?Z:0}function ht(P){return Array.isArray(P)?P:[P]}function t(P){return P instanceof s.aKT?P.nativeElement:P}},7336:(Et,bt,M)=>{M.d(bt,{A:()=>It,A$:()=>T,FX:()=>dt,Fm:()=>ht,Ge:()=>Pt,Kp:()=>F,LE:()=>G,UQ:()=>O,W3:()=>t,Z:()=>At,bn:()=>$,dB:()=>J,eg:()=>ce,f2:()=>q,i7:()=>C,n6:()=>R,rp:()=>le,t6:()=>Q,w_:()=>at,wn:()=>X,yZ:()=>V});const X=9,ht=13,dt=16,t=17,T=18,Q=32,at=33,J=34,F=35,V=36,O=37,C=38,G=39,R=40,q=48,$=57,It=65,At=90,Pt=91,ce=224;function le(ae,...se){return se.length?se.some(de=>ae[de]):ae.altKey||ae.shiftKey||ae.ctrlKey||ae.metaKey}},6860:(Et,bt,M)=>{M.d(bt,{BQ:()=>st,Fb:()=>H,OD:()=>et,v8:()=>Y,vc:()=>R});var s=M(3953),E=M(177);let X;try{X=typeof Intl<"u"&&Intl.v8BreakIterator}catch{X=!1}let P,et=(()=>{var k;class L{constructor(tt){this._platformId=tt,this.isBrowser=this._platformId?(0,E.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!X)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(k=L).\u0275fac=function(tt){return new(tt||k)(s.KVO(s.Agw))},k.\u0275prov=s.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),L})();function st(k){return function Z(){if(null==P&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>P=!0}))}finally{P=P||!1}return P}()?k:!!k.capture}function R(){let k=typeof document<"u"&&document?document.activeElement:null;for(;k&&k.shadowRoot;){const L=k.shadowRoot.activeElement;if(L===k)break;k=L}return k}function H(k){return k.composedPath?k.composedPath()[0]:k.target}function Y(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8834:(Et,bt,M)=>{M.d(bt,{Hl:()=>lt});var s=M(3953),E=M(8820);let lt=(()=>{var ot;class pt{}return(ot=pt).\u0275fac=function(N){return new(N||ot)},ot.\u0275mod=s.$C({type:ot}),ot.\u0275inj=s.G2t({imports:[E.yE,E.pZ,E.yE]}),pt})()},8820:(Et,bt,M)=>{M.d(bt,{$E:()=>i,yE:()=>ft,O5:()=>I,pZ:()=>p,ug:()=>D});var s=M(3953),E=M(5262),X=M(177);let Z=(()=>{var r;class a{}return(r=a).\u0275fac=function(m){return new(m||r)},r.\u0275mod=s.$C({type:r}),r.\u0275inj=s.G2t({}),a})();var Q=M(6860),at=M(4085);const Mt=new s.nKC("mat-sanity-checks",{providedIn:"root",factory:function yt(){return!0}});let ft=(()=>{var r;class a{constructor(m,y,A){this._sanityChecks=y,this._document=A,this._hasDoneGlobalChecks=!1,m._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(m){return!(0,Q.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[m])}}return(r=a).\u0275fac=function(m){return new(m||r)(s.KVO(E.Q_),s.KVO(Mt,8),s.KVO(X.qQ))},r.\u0275mod=s.$C({type:r}),r.\u0275inj=s.G2t({imports:[Z,Z]}),a})();var gt=function(r){return r[r.FADING_IN=0]="FADING_IN",r[r.VISIBLE=1]="VISIBLE",r[r.FADING_OUT=2]="FADING_OUT",r[r.HIDDEN=3]="HIDDEN",r}(gt||{});class zt{constructor(a,c,m,y=!1){this._renderer=a,this.element=c,this.config=m,this._animationForciblyDisabledThroughCss=y,this.state=gt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Lt=(0,Q.BQ)({passive:!0,capture:!0});class Ut{constructor(){this._events=new Map,this._delegateEventHandler=a=>{const c=(0,Q.Fb)(a);var m;c&&(null===(m=this._events.get(a.type))||void 0===m||m.forEach((y,A)=>{(A===c||A.contains(c))&&y.forEach(W=>W.handleEvent(a))}))}}addHandler(a,c,m,y){const A=this._events.get(c);if(A){const W=A.get(m);W?W.add(y):A.set(m,new Set([y]))}else this._events.set(c,new Map([[m,new Set([y])]])),a.runOutsideAngular(()=>{document.addEventListener(c,this._delegateEventHandler,Lt)})}removeHandler(a,c,m){const y=this._events.get(a);if(!y)return;const A=y.get(c);A&&(A.delete(m),0===A.size&&y.delete(c),0===y.size&&(this._events.delete(a),document.removeEventListener(a,this._delegateEventHandler,Lt)))}}const St={enterDuration:225,exitDuration:150},At=(0,Q.BQ)({passive:!0,capture:!0}),Pt=["mousedown","touchstart"],g=["mouseup","mouseleave","touchend","touchcancel"];class D{constructor(a,c,m,y){this._target=a,this._ngZone=c,this._platform=y,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,y.isBrowser&&(this._containerElement=(0,at.i8)(m))}fadeInRipple(a,c,m={}){const y=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),A={...St,...m.animation};m.centered&&(a=y.left+y.width/2,c=y.top+y.height/2);const W=m.radius||function h(r,a,c){const m=Math.max(Math.abs(r-c.left),Math.abs(r-c.right)),y=Math.max(Math.abs(a-c.top),Math.abs(a-c.bottom));return Math.sqrt(m*m+y*y)}(a,c,y),wt=a-y.left,_=c-y.top,n=A.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=wt-W+"px",l.style.top=_-W+"px",l.style.height=2*W+"px",l.style.width=2*W+"px",null!=m.color&&(l.style.backgroundColor=m.color),l.style.transitionDuration=`${n}ms`,this._containerElement.appendChild(l);const d=window.getComputedStyle(l),w=d.transitionDuration,B="none"===d.transitionProperty||"0s"===w||"0s, 0s"===w||0===y.width&&0===y.height,U=new zt(this,l,m,B);l.style.transform="scale3d(1, 1, 1)",U.state=gt.FADING_IN,m.persistent||(this._mostRecentTransientRipple=U);let ct=null;return!B&&(n||A.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tt=()=>{ct&&(ct.fallbackTimer=null),clearTimeout(re),this._finishRippleTransition(U)},Zt=()=>this._destroyRipple(U),re=setTimeout(Zt,n+100);l.addEventListener("transitionend",Tt),l.addEventListener("transitioncancel",Zt),ct={onTransitionEnd:Tt,onTransitionCancel:Zt,fallbackTimer:re}}),this._activeRipples.set(U,ct),(B||!n)&&this._finishRippleTransition(U),U}fadeOutRipple(a){if(a.state===gt.FADING_OUT||a.state===gt.HIDDEN)return;const c=a.element,m={...St,...a.config.animation};c.style.transitionDuration=`${m.exitDuration}ms`,c.style.opacity="0",a.state=gt.FADING_OUT,(a._animationForciblyDisabledThroughCss||!m.exitDuration)&&this._finishRippleTransition(a)}fadeOutAll(){this._getActiveRipples().forEach(a=>a.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(a=>{a.config.persistent||a.fadeOut()})}setupTriggerEvents(a){const c=(0,at.i8)(a);!this._platform.isBrowser||!c||c===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=c,Pt.forEach(m=>{D._eventManager.addHandler(this._ngZone,m,c,this)}))}handleEvent(a){"mousedown"===a.type?this._onMousedown(a):"touchstart"===a.type?this._onTouchStart(a):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{g.forEach(c=>{this._triggerElement.addEventListener(c,this,At)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(a){a.state===gt.FADING_IN?this._startFadeOutTransition(a):a.state===gt.FADING_OUT&&this._destroyRipple(a)}_startFadeOutTransition(a){const c=a===this._mostRecentTransientRipple,{persistent:m}=a.config;a.state=gt.VISIBLE,!m&&(!c||!this._isPointerDown)&&a.fadeOut()}_destroyRipple(a){var c;const m=null!==(c=this._activeRipples.get(a))&&void 0!==c?c:null;this._activeRipples.delete(a),this._activeRipples.size||(this._containerRect=null),a===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),a.state=gt.HIDDEN,null!==m&&(a.element.removeEventListener("transitionend",m.onTransitionEnd),a.element.removeEventListener("transitioncancel",m.onTransitionCancel),null!==m.fallbackTimer&&clearTimeout(m.fallbackTimer)),a.element.remove()}_onMousedown(a){const c=(0,E._G)(a),m=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!c&&!m&&(this._isPointerDown=!0,this.fadeInRipple(a.clientX,a.clientY,this._target.rippleConfig))}_onTouchStart(a){if(!this._target.rippleDisabled&&!(0,E.w6)(a)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const c=a.changedTouches;if(c)for(let m=0;m<c.length;m++)this.fadeInRipple(c[m].clientX,c[m].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(a=>{!a.config.persistent&&(a.state===gt.VISIBLE||a.config.terminateOnPointerUp&&a.state===gt.FADING_IN)&&a.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const a=this._triggerElement;a&&(Pt.forEach(c=>D._eventManager.removeHandler(c,a,this)),this._pointerUpEventsRegistered&&(g.forEach(c=>a.removeEventListener(c,this,At)),this._pointerUpEventsRegistered=!1))}}D._eventManager=new Ut;const i=new s.nKC("mat-ripple-global-options");let p=(()=>{var r;class a{}return(r=a).\u0275fac=function(m){return new(m||r)},r.\u0275mod=s.$C({type:r}),r.\u0275inj=s.G2t({imports:[ft,ft]}),a})(),I=(()=>{var r;class a{}return(r=a).\u0275fac=function(m){return new(m||r)},r.\u0275mod=s.$C({type:r}),r.\u0275inj=s.G2t({imports:[ft]}),a})()},2054:(Et,bt,M)=>{M.d(bt,{Fg:()=>oe});var s=M(3953),et=(M(4085),M(6860),M(8820));M(8359),M(6365),M(8750),M(983),M(3794),M(6648),M(1413),M(1985),M(6354),M(5964),M(9584);let C=(()=>{var u;class b{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return(u=b).\u0275fac=function(e){return new(e||u)},u.\u0275prov=s.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),b})(),H=(()=>{var u;class b{}return(u=b).\u0275fac=function(e){return new(e||u)},u.\u0275mod=s.$C({type:u}),u.\u0275inj=s.G2t({providers:[C]}),b})();var Y=M(177);let L=(()=>{var u;class b{}return(u=b).\u0275fac=function(e){return new(e||u)},u.\u0275mod=s.$C({type:u}),u.\u0275inj=s.G2t({imports:[et.yE,et.yE]}),b})();M(5262),M(4402),M(7673),M(7336),M(9417),M(6977);let oe=(()=>{var u;class b{}return(u=b).\u0275fac=function(e){return new(e||u)},u.\u0275mod=s.$C({type:u}),u.\u0275inj=s.G2t({imports:[H,Y.MD,et.yE,et.pZ,et.O5,L]}),b})()},5911:(Et,bt,M)=>{M.d(bt,{s5:()=>T});var s=M(3953),E=M(8820);let T=(()=>{var P;class Z{}return(P=Z).\u0275fac=function(Q){return new(Q||P)},P.\u0275mod=s.$C({type:P}),P.\u0275inj=s.G2t({imports:[E.yE,E.yE]}),Z})()}}]);