"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1313],{59:(wt,ot,y)=>{y.d(ot,{T:()=>Pt});var o=y(467),T=y(1626),V=y(7586),Z=y(9350),ct=y(7707);function tt(v,A){const g="object"==typeof A;return new Promise((m,l)=>{const M=new ct.Ms({next:k=>{m(k),M.unsubscribe()},error:l,complete:()=>{g?m(A.defaultValue):l(new Z.G)}});v.subscribe(M)})}var t=y(3953),E=y(791),C=y(4938),Y=y(177);function Q(v,A){if(1&v&&(t.j41(0,"div",9)(1,"h3",10),t.EFF(2),t.k0s(),t.j41(3,"p",11),t.EFF(4),t.k0s()()),2&v){const g=A.$implicit,m=t.XpG();t.R7$(2),t.JRh(m.getDayInHebrew(g.name)),t.R7$(2),t.JRh(g.date)}}function j(v,A){if(1&v&&(t.j41(0,"div")(1,"p",16),t.EFF(2),t.k0s(),t.j41(3,"p",17),t.EFF(4),t.k0s()()),2&v){const g=t.XpG().$implicit,m=t.XpG().$implicit;t.R7$(2),t.JRh(g.trainings[m].time),t.R7$(2),t.JRh(g.trainings[m].title)}}function K(v,A){1&v&&(t.j41(0,"div")(1,"p",18),t.EFF(2,"-"),t.k0s()())}function z(v,A){if(1&v&&(t.j41(0,"div",14),t.DNE(1,j,5,2,"div",15)(2,K,3,0,"div",15),t.k0s()),2&v){const g=A.$implicit,m=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",g.trainings[m]),t.R7$(),t.Y8G("ngIf",!g.trainings[m])}}function D(v,A){if(1&v&&(t.j41(0,"div",12),t.DNE(1,z,3,2,"div",13),t.k0s()),2&v){const g=t.XpG();t.R7$(),t.Y8G("ngForOf",g.days)}}let N=(()=>{var v;class A{constructor(m,l){this.modalCtrl=m,this.ameliaService=l,this.branch="main",this.days=[],this.hebrewDaysMap={Sunday:"\u05e8\u05d0\u05e9\u05d5\u05df",Monday:"\u05e9\u05e0\u05d9",Tuesday:"\u05e9\u05dc\u05d9\u05e9\u05d9",Wednesday:"\u05e8\u05d1\u05d9\u05e2\u05d9",Thursday:"\u05d7\u05de\u05d9\u05e9\u05d9",Friday:"\u05e9\u05d9\u05e9\u05d9",Saturday:"\u05e9\u05d1\u05ea"},this.daysOfWeekEnglish=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}ngOnInit(){this.loadWeeklyTrainings()}loadWeeklyTrainings(){const m=this.ameliaService.getTrainingsTitles(this.branch);this.days=this.daysOfWeekEnglish.map((l,M)=>({name:l,date:V().day(M).format("DD/MM/YYYY"),trainings:m[l]||[]}))}refreshTrainings(){var m=this;return(0,o.A)(function*(){try{yield m.ameliaService.fetchTitleTrainings("main"),m.loadWeeklyTrainings()}catch(l){console.error("Error refreshing trainings:",l)}try{yield m.ameliaService.fetchTitleTrainings("second"),m.loadWeeklyTrainings()}catch(l){console.error("Error refreshing trainings:",l)}})()}getDayInHebrew(m){return this.hebrewDaysMap[m]||m}getMaxTrainingsLength(){return Math.max(...this.days.map(m=>m.trainings.length),0)}getRange(m){return Array.from({length:m},(l,M)=>M)}getDayName(m){return this.daysOfWeekEnglish[m%7]}getDateByOffset(m){return V().add(m,"days").format("DD/MM/YYYY")}getBranchTitle(){return"main"===this.branch?"\u05e1\u05e0\u05d9\u05e3 \u05e8\u05d0\u05e9\u05d9":"\u05e1\u05e0\u05d9\u05e3 \u05de\u05e9\u05e0\u05d9"}dismiss(){this.modalCtrl.dismiss()}}return(v=A).\u0275fac=function(m){return new(m||v)(t.rXU(E.W3),t.rXU(C.J))},v.\u0275cmp=t.VBU({type:v,selectors:[["app-calendar-popup"]],inputs:{weeklyData:"weeklyData",branch:"branch"},decls:13,vars:2,consts:[[1,"modal-title"],["slot","end"],["fill","clear",3,"click"],[1,"modal-content"],[1,"calendar-table-wrapper"],[1,"calendar-table"],[1,"table-header"],["class","day-header",4,"ngFor","ngForOf"],["class","table-row",4,"ngFor","ngForOf"],[1,"day-header"],[1,"dayName"],[1,"dayDate"],[1,"table-row"],["class","table-cell training-cell",4,"ngFor","ngForOf"],[1,"table-cell","training-cell"],[4,"ngIf"],[1,"training-time"],[1,"training-title"],[1,"empty-slot"]],template:function(m,l){1&m&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),t.EFF(3,"\u05d4\u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd \u05d4\u05e7\u05e8\u05d5\u05d1\u05d9\u05dd"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return l.dismiss()}),t.EFF(6,"\u05e1\u05d2\u05d5\u05e8"),t.k0s()()()(),t.j41(7,"ion-content",3)(8,"div",4)(9,"div",5)(10,"div",6),t.DNE(11,Q,5,2,"div",7),t.k0s(),t.DNE(12,D,2,1,"div",8),t.k0s()()()),2&m&&(t.R7$(11),t.Y8G("ngForOf",l.days),t.R7$(),t.Y8G("ngForOf",l.getRange(l.getMaxTrainingsLength())))},dependencies:[Y.Sq,Y.bT,E.Jm,E.QW,E.W9,E.eU,E.BC,E.ai],styles:[".modal-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.modal-content[_ngcontent-%COMP%]{--background: #f8f9fa;padding:16px}.calendar-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;padding:8px}.calendar-table[_ngcontent-%COMP%]{display:grid;gap:1px;min-width:700px;background-color:#ddd}.table-header[_ngcontent-%COMP%]{display:contents}.day-header[_ngcontent-%COMP%]{background:#f60;color:#fff;text-align:center;padding:8px;border-radius:6px 6px 0 0;font-size:14px;font-weight:700}.table-row[_ngcontent-%COMP%]{display:contents}.table-cell[_ngcontent-%COMP%]{background:#fff;text-align:center;padding:8px;font-size:14px;min-height:60px}.training-time[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin:0;color:#333}.training-title[_ngcontent-%COMP%]{font-size:12px;margin:4px 0 0;color:#555}.empty-slot[_ngcontent-%COMP%]{color:#ccc;font-size:14px}@media (max-width: 768px){.calendar-table[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(120px,1fr))}.day-header[_ngcontent-%COMP%], .training-time[_ngcontent-%COMP%]{font-size:12px}}.dayName[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.dayDate[_ngcontent-%COMP%]{font-size:12px;margin-top:-20px;text-decoration:none;font-weight:200}"]}),A})();var R=y(3656),W=y(4796),it=y(4341);const ht=["popup"],_t=()=>[1,2,3,4],yt=v=>({"background-color":v}),w=(v,A,g,m)=>({"standby-enrolled":v,loading:A,success:g,error:m}),$=(v,A)=>({loading:v,success:A});function rt(v,A){1&v&&(t.j41(0,"ion-segment-button",12)(1,"ion-label"),t.EFF(2,"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"),t.k0s()())}function mt(v,A){1&v&&(t.j41(0,"ion-segment-button",13)(1,"ion-label"),t.EFF(2,"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"),t.k0s()())}function At(v,A){if(1&v&&(t.j41(0,"ion-segment-button",18)(1,"ion-label"),t.EFF(2),t.k0s(),t.j41(3,"ion-note"),t.EFF(4),t.k0s()()),2&v){const g=A.$implicit,m=t.XpG(2);t.FS9("value",g.date),t.Y8G("ngClass","shalom"===m.selectedFilterAllFav?"custom-underline-shalom":"favorites"===m.selectedFilterAllFav?"custom-underline-favorites":"custom-underline-default"),t.R7$(2),t.JRh(g.day),t.R7$(2),t.JRh(g.formattedDate)}}function It(v,A){if(1&v){const g=t.RV6();t.j41(0,"ion-icon",23),t.bIt("click",function(){t.eBV(g);const l=t.XpG(3);return t.Njj(l.openCalendarPopup())}),t.k0s()}}function Tt(v,A){if(1&v){const g=t.RV6();t.j41(0,"div",19)(1,"ion-button",20),t.bIt("click",function(){t.eBV(g);const l=t.XpG(2);return t.Njj(l.toggleFilterDropdown())}),t.nrm(2,"ion-icon",21),t.EFF(3," \u05e1\u05d9\u05e0\u05d5\u05df "),t.k0s(),t.DNE(4,It,1,0,"ion-icon",22),t.k0s()}if(2&v){const g=t.XpG(2);t.R7$(4),t.Y8G("ngIf",!g.isTrainer)}}function Mt(v,A){if(1&v&&(t.j41(0,"ion-select-option",32),t.EFF(1),t.k0s()),2&v){const g=A.$implicit;t.Y8G("value",g),t.R7$(),t.JRh(g)}}function lt(v,A){if(1&v){const g=t.RV6();t.j41(0,"ion-button",33),t.bIt("click",function(){t.eBV(g);const l=t.XpG(3);return t.Njj(l.resetTypeFilter())}),t.nrm(1,"ion-icon",34),t.k0s()}}function nt(v,A){if(1&v){const g=t.RV6();t.j41(0,"ion-list",24)(1,"ion-item")(2,"ion-label",25),t.EFF(3,"\u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df"),t.k0s(),t.j41(4,"ion-select",26),t.mxI("ngModelChange",function(l){t.eBV(g);const M=t.XpG(2);return t.DH7(M.selectedType,l)||(M.selectedType=l),t.Njj(l)}),t.bIt("ionChange",function(){t.eBV(g);const l=t.XpG(2);return t.Njj(l.onTypeChange())}),t.DNE(5,Mt,2,2,"ion-select-option",27),t.k0s(),t.DNE(6,lt,2,0,"ion-button",28),t.k0s(),t.j41(7,"ion-item")(8,"ion-label",25),t.EFF(9,"\u05d6\u05de\u05d9\u05e0\u05d5\u05ea"),t.k0s(),t.j41(10,"ion-segment",29),t.mxI("ngModelChange",function(l){t.eBV(g);const M=t.XpG(2);return t.DH7(M.availabilityFilter,l)||(M.availabilityFilter=l),t.Njj(l)}),t.bIt("ionChange",function(){t.eBV(g);const l=t.XpG(2);return t.Njj(l.onFilterChange())}),t.j41(11,"ion-segment-button",30)(12,"ion-label"),t.EFF(13,"\u05d4\u05db\u05dc"),t.k0s()(),t.j41(14,"ion-segment-button",31)(15,"ion-label"),t.EFF(16,"\u05d6\u05de\u05d9\u05df \u05d1\u05dc\u05d1\u05d3"),t.k0s()()()()()}if(2&v){const g=t.XpG(2);t.R7$(4),t.R50("ngModel",g.selectedType),t.R7$(),t.Y8G("ngForOf",g.availableTypes),t.R7$(),t.Y8G("ngIf",g.selectedType),t.R7$(4),t.R50("ngModel",g.availabilityFilter)}}function st(v,A){if(1&v){const g=t.RV6();t.j41(0,"div")(1,"ion-segment",14),t.mxI("ngModelChange",function(l){t.eBV(g);const M=t.XpG();return t.DH7(M.selectedDay,l)||(M.selectedDay=l),t.Njj(l)}),t.bIt("ionChange",function(l){let M;t.eBV(g);const k=t.XpG();return t.Njj(k.onDayChange(null!==(M=l.detail.value)&&void 0!==M?M:""))}),t.DNE(2,At,5,4,"ion-segment-button",15),t.k0s(),t.DNE(3,Tt,5,1,"div",16)(4,nt,17,4,"ion-list",17),t.k0s()}if(2&v){const g=t.XpG();t.R7$(),t.R50("ngModel",g.selectedDay),t.R7$(),t.Y8G("ngForOf",g.days),t.R7$(),t.Y8G("ngIf",!g.showSkeleton),t.R7$(),t.Y8G("ngIf",g.showDropdown)}}function S(v,A){1&v&&(t.j41(0,"ion-item",37)(1,"ion-thumbnail",38),t.nrm(2,"ion-skeleton-text",39),t.k0s(),t.j41(3,"ion-label")(4,"h3"),t.nrm(5,"ion-skeleton-text",40),t.k0s(),t.j41(6,"p"),t.nrm(7,"ion-skeleton-text",41),t.k0s(),t.j41(8,"p"),t.nrm(9,"ion-skeleton-text",42),t.k0s()()()),2&v&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0))}function F(v,A){1&v&&(t.j41(0,"ion-list")(1,"ion-list-header"),t.nrm(2,"ion-skeleton-text",35),t.k0s(),t.DNE(3,S,10,4,"ion-item",36),t.k0s()),2&v&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(),t.Y8G("ngForOf",t.lJ4(2,_t)))}function U(v,A){if(1&v&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&v){const g=A.$implicit;t.R7$(),t.SpI(" ",g," ")}}function ut(v,A){if(1&v&&(t.j41(0,"div",56)(1,"ul"),t.DNE(2,U,2,1,"li",57),t.k0s()()),2&v){const g=t.XpG().$implicit;t.R7$(2),t.Y8G("ngForOf",g.current_participants)}}function at(v,A){1&v&&(t.qex(0),t.j41(1,"button",58),t.nrm(2,"ion-icon",59),t.EFF(3," \u05e8\u05e9\u05d5\u05dd "),t.k0s(),t.bVm())}function ft(v,A){1&v&&(t.qex(0),t.EFF(1," \u05e8\u05e9\u05d5\u05dd \u05dc\u05d4\u05de\u05ea\u05e0\u05d4 "),t.bVm())}function Ct(v,A){1&v&&(t.qex(0),t.EFF(1," \u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05d4\u05de\u05ea\u05e0\u05d4 "),t.bVm())}function Rt(v,A){1&v&&(t.qex(0),t.nrm(1,"ion-spinner",63),t.bVm())}function Et(v,A){1&v&&(t.qex(0),t.nrm(1,"ion-icon",59),t.bVm())}function kt(v,A){1&v&&(t.qex(0),t.nrm(1,"ion-icon",64),t.bVm())}function Ft(v,A){if(1&v){const g=t.RV6();t.j41(0,"button",62),t.bIt("click",function(){let l;t.eBV(g);const M=t.XpG(2).$implicit,k=t.XpG();return t.Njj(k.addToStandbyList(null!==(l=null==M?null:M.id)&&void 0!==l?l:0,k.userId,k.userEmail))}),t.DNE(1,ft,2,0,"ng-container",10)(2,Ct,2,0,"ng-container",10)(3,Rt,2,0,"ng-container",10)(4,Et,2,0,"ng-container",10)(5,kt,2,0,"ng-container",10),t.k0s()}if(2&v){const g=t.XpG(2).$implicit,m=t.XpG();t.Y8G("ngClass",t.ziG(7,w,g.isStandbyEnrolled,m.isStandbyLoading&&!g.isStandbyEnrolled,m.isStandbySuccess&&!g.isStandbyEnrolled,g.isError&&!g.isStandbyEnrolled))("disabled",g.isStandbyEnrolled||m.isStandbyLoading||m.isStandbySuccess||g.isError),t.R7$(),t.Y8G("ngIf",g.isStandbyEnrolled),t.R7$(),t.Y8G("ngIf",!(g.isStandbyEnrolled||m.isStandbyLoading||m.isStandbySuccess||g.isError)),t.R7$(),t.Y8G("ngIf",!g.isStandbyEnrolled&&m.isStandbyLoading),t.R7$(),t.Y8G("ngIf",!g.isStandbyEnrolled&&m.isStandbySuccess),t.R7$(),t.Y8G("ngIf",!g.isStandbyEnrolled&&g.isError)}}function jt(v,A){1&v&&(t.qex(0),t.EFF(1,"\u05d4\u05e8\u05e9\u05de\u05d4"),t.bVm())}function St(v,A){1&v&&(t.qex(0),t.nrm(1,"ion-spinner",63),t.bVm())}function Ot(v,A){1&v&&(t.qex(0),t.nrm(1,"ion-icon",59),t.bVm())}function Dt(v,A){if(1&v){const g=t.RV6();t.j41(0,"button",65),t.bIt("click",function(){t.eBV(g);const l=t.XpG(2).$implicit,M=t.XpG();return t.Njj(M.enrollUser(l))}),t.DNE(1,jt,2,0,"ng-container",10)(2,St,2,0,"ng-container",10)(3,Ot,2,0,"ng-container",10),t.k0s()}if(2&v){const g=t.XpG(2).$implicit;t.Y8G("disabled",g.isLoading||g.isSuccess)("ngClass",t.l_i(5,$,g.isLoading,g.isSuccess)),t.R7$(),t.Y8G("ngIf",!g.isLoading&&!g.isSuccess),t.R7$(),t.Y8G("ngIf",g.isLoading),t.R7$(),t.Y8G("ngIf",g.isSuccess)}}function Lt(v,A){if(1&v&&(t.qex(0),t.DNE(1,Ft,6,12,"button",60)(2,Dt,4,8,"button",61),t.bVm()),2&v){const g=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",g.booked===g.total_participants),t.R7$(),t.Y8G("ngIf",g.booked<g.total_participants)}}function zt(v,A){if(1&v){const g=t.RV6();t.j41(0,"div",43)(1,"div",44)(2,"h3"),t.EFF(3),t.k0s(),t.j41(4,"ion-icon",45),t.bIt("click",function(){const l=t.eBV(g).$implicit,M=t.XpG();return t.Njj(M.toggleFavorite(l))}),t.k0s()(),t.j41(5,"div",46)(6,"div",47),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"div",48)(10,"div",49),t.nrm(11,"div",50),t.k0s(),t.j41(12,"div",51)(13,"div",52),t.bIt("mouseenter",function(){const l=t.eBV(g).$implicit,M=t.XpG();return t.Njj(M.showParticipantsPopup(l))})("mouseleave",function(){t.eBV(g);const l=t.XpG();return t.Njj(l.hideParticipantsPopup())}),t.EFF(14),t.nrm(15,"ion-icon",53),t.DNE(16,ut,3,1,"div",54),t.k0s()()()(),t.j41(17,"div",55),t.DNE(18,at,4,0,"ng-container",10)(19,Lt,3,2,"ng-container",10),t.k0s()()}if(2&v){const g=A.$implicit,m=t.XpG();t.R7$(3),t.JRh(g.title.name),t.R7$(),t.AVh("favorite",g.favorite),t.R7$(3),t.SpI(" ",t.i5U(8,12,g.start_time,"HH:mm")," "),t.R7$(4),t.xc7("width",m.calculateProgress(g)+"%"),t.Y8G("ngStyle",t.eq3(15,yt,"shalom"===m.selectedFilterAllFav?"#ff8366":"#59c7cd")),t.R7$(3),t.Lme(" ",g.booked,"/",g.total_participants," "),t.R7$(2),t.Y8G("ngIf",m.isPopupVisible&&m.activeAppointment===g),t.R7$(2),t.Y8G("ngIf",g.isUserBooked),t.R7$(),t.Y8G("ngIf",!g.isUserBooked)}}let Pt=(()=>{var v;class A{get showSkeleton(){return"shalom"===this.selectedFilterAllFav&&this.isShalomLoading||"all"===this.selectedFilterAllFav&&this.isBenYehudaLoading}constructor(m,l,M,k,P,G){this.platform=m,this.toastController=l,this.modalCtrl=M,this.http=k,this.authService=P,this.modalCalendar=G,this.customerID="",this.userEmail="",this.userFavLocation="",this.userRole="",this.showingParticipants=!1,this.isPopupVisible=!1,this.activeAppointment=null,this.selectedFilterAllFav="all",this.selectedType="",this.availabilityFilter="all",this.showDropdown=!1,this.availableTypes=[],this.filteredAppointments=[],this.bookedAppointments=[],this.combinedList=[],this.days=[],this.knownTrainingTypes=["\u05e4\u05d9\u05dc\u05d0\u05d8\u05d9\u05e1","\u05d9\u05d5\u05d2\u05d4","\u05d0\u05d9\u05de\u05d5\u05df \u05db\u05d5\u05d7","Parallel 15","Spinning","TRX","Booty&ABS","All In","HiiT","POWER",""],this.availableTimeslots=[],this.unfilteredList=[],this.isLoading=!0,this.isStandbyLoading=!1,this.isStandbySuccess=!1,this.isEnrollLoading=!1,this.isEnrollSuccess=!1,this.showToast=!1,this.toastMessage="",this.toastColor="success",this.errorMessage="",this.currentDateRange=null,this.allAvailableDays=[],this.tabLoadingState=!1,this.benYehudaDays=[],this.shalomDays=[],this.benYehudaAppointments=[],this.shalomAppointments=[],this.benYehudaTimeslots=[],this.shalomTimeslots=[],this.benYehudaLoaded=!1,this.shalomLoaded=!1,this.isShalomLoading=!1,this.isBenYehudaLoading=!0,this.isTrainer=!1,"trainer"===this.authService.getUserRole()&&(this.isTrainer=!0),this.userId=this.authService.getUserID(),this.userEmail=this.authService.getUserEmail(),this.customerID=this.authService.getCustomerID(),this.userFavLocation=this.authService.getUserFavLocation(),this.authService.fetchPackageCustomerId(this.customerID).subscribe({error:J=>{console.error("Error fetching package id",J)}})}ngOnInit(){var m=this;return(0,o.A)(function*(){console.log("selectedTab:",m.selectedFilterAllFav),m.isLoading=!0;try{const l=yield tt(m.authService.fetchUserFavLocation());m.userFavLocation=l.favorite_location,"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===m.userFavLocation||"\u05d4\u05db\u05dc"===m.userFavLocation?m.selectedFilterAllFav="all":"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===m.userFavLocation&&(m.selectedFilterAllFav="shalom"),"inactive"===m.userRole?m.presentToast("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd, \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc","danger"):"trial-users"===m.userRole&&m.presentToast("\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d8\u05e2\u05d5\u05df \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd, \u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05d9\u05e1\u05d9\u05d5\u05df","danger"),yield m.loadInitialData()}catch(l){console.error("Error during initialization:",l),m.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05e9\u05d9\u05db\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd","danger")}finally{m.isLoading=!1}})()}presentToast(m,l){var M=this;return(0,o.A)(function*(){yield(yield M.toastController.create({message:m,duration:3e3,color:l,position:"bottom"})).present()})()}extractAvailableDays(){const m=["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],l=(new Date).toISOString().split("T")[0],M=this.combinedList.filter(P=>!isNaN(new Date(P.start_time).getTime())).map(P=>new Date(P.start_time).toISOString().split("T")[0]),k=Array.from(new Set(M)).map(P=>{const G=new Date(P);return{date:P,day:m[G.getDay()],formattedDate:`${G.getDate()}.${G.getMonth()+1}`}});k.sort((P,G)=>P.date===l?-1:G.date===l?1:new Date(P.date).getTime()-new Date(G.date).getTime()),"all"===this.selectedFilterAllFav?this.benYehudaDays=k:"shalom"===this.selectedFilterAllFav&&(this.shalomDays=k),this.days="all"===this.selectedFilterAllFav?this.benYehudaDays:this.shalomDays,this.selectedDay=this.days.length>0?this.days[0].date:""}extractAvailableTypes(){const m=new Set(this.filteredAppointments.map(l=>l.title.name));this.availableTypes=Array.from(m)}getAppointmentsForSelectedDay(){return this.combinedList.filter(m=>{const l=V(m.start_time);return l.isValid()&&l.format("YYYY-MM-DD")===this.selectedDay})}loadInitialData(){var m=this;return(0,o.A)(function*(){"all"===m.selectedFilterAllFav?(m.isBenYehudaLoading=!0,setTimeout(()=>{},0)):"shalom"===m.selectedFilterAllFav&&(m.isShalomLoading=!0);try{const l=new Date,M=new Date(l);M.setDate(l.getDate()+20),m.currentDateRange={start:l,end:M};let k=m.userFavLocation;"\u05d4\u05db\u05dc"==m.userFavLocation&&(k="\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"),console.log("selectedthis",m.userFavLocation),yield m.fetchTrainingsForDateRange(l,M,k)}catch(l){console.error("Error loading initial data:",l),yield m.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d8\u05e2\u05d9\u05e0\u05ea \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd","danger")}finally{"all"===m.selectedFilterAllFav?(m.isBenYehudaLoading=!1,setTimeout(()=>{},0)):"shalom"===m.selectedFilterAllFav&&(m.isShalomLoading=!1)}})()}fetchTrainingsForDateRange(m,l,M){var k=this;return(0,o.A)(function*(){if("\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===M&&k.benYehudaLoaded)return k.combinedList=[...k.benYehudaAppointments],k.unfilteredList=[...k.combinedList],void k.updateFilteredAppointments();if("\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===M&&k.shalomLoaded)return k.combinedList=[...k.shalomAppointments],k.unfilteredList=[...k.combinedList],void k.updateFilteredAppointments();const P=k.authService.getUserID(),G=J=>V(J).format("YYYY-MM-DD");try{const J=G(m),dt=`https://k-studio.co.il/wp-json/custom-api/v1/get-trainings?startDate=${J}&endDate=${G(l)}&userID=${P}&location=${encodeURIComponent(M)}`,gt=yield tt(k.http.get(dt));for(let et=new Date(m);et<=l;et.setDate(et.getDate()+1)){const pt=G(new Date(et));k.allAvailableDays.includes(pt)||k.allAvailableDays.push(pt)}yield k.combineTimeslotsAndAppointments(gt),"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===M?(k.benYehudaAppointments=[...k.combinedList],k.benYehudaLoaded=!0):"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===M&&(k.shalomAppointments=[...k.combinedList],k.shalomLoaded=!0)}catch(J){throw console.error("Error fetching trainings:",J),J}})()}combineTimeslotsAndAppointments(m){var l=this;return(0,o.A)(function*(){try{const M=m.filter(q=>"timeslot"===q.type),k=m.filter(q=>"appointment"===q.type),P="all"===l.selectedFilterAllFav;P?(l.benYehudaTimeslots=M,l.benYehudaAppointments=k):(l.shalomTimeslots=M,l.shalomAppointments=k),l.combinedList=[...P?l.benYehudaTimeslots:l.shalomTimeslots,...P?l.benYehudaAppointments:l.shalomAppointments],l.combinedList.sort((q,H)=>new Date(q.start_time).getTime()-new Date(H.start_time).getTime()),l.unfilteredList=[...l.combinedList],l.extractAvailableDays();const G=l.authService.getUserFullName(),J=l.combinedList.map(function(){var q=(0,o.A)(function*(H){H.start_time&&!isNaN(Date.parse(H.start_time))?(H.isStandbyEnrolled=H.booked>=H.total_participants&&void 0!==H.id&&(yield l.checkStandbyEnrollment(l.userEmail,H.id)),Array.isArray(H.current_participants)?H.isUserBooked=H.current_participants.some(dt=>dt===G):(console.warn("current_participants is not an array for training:",H),H.isUserBooked=!1)):console.error("Invalid start_time for training:",H)});return function(H){return q.apply(this,arguments)}}());yield Promise.all(J),l.filteredAppointments=[...l.combinedList],console.log("filtered",l.filteredAppointments),l.updateFilteredAppointments()}catch(M){console.error("Error combining timeslots and appointments:",M)}})()}onDayChange(m){this.selectedDay=String(m||""),this.updateFilteredAppointments()}filterFavAll(m){var l=this;return(0,o.A)(function*(){const M=m.detail.value;if(console.log("selectedTab:",l.selectedFilterAllFav),l.combinedList=[],l.filteredAppointments=[],l.days=[],"favorites"===M){l.tabLoadingState=!0;try{const J=[...l.benYehudaAppointments,...l.shalomAppointments],q=[...l.benYehudaTimeslots,...l.shalomTimeslots];l.combinedList=[...q,...J],l.unfilteredList=[...l.combinedList],l.updateFilteredAppointments()}finally{l.tabLoadingState=!1}return}const P={all:"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4",shalom:"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"}[M],G="all"===M?l.benYehudaLoaded:l.shalomLoaded;"all"===M?(l.isBenYehudaLoading=!0,setTimeout(()=>{},0)):"shalom"===M&&(l.isShalomLoading=!0);try{if("all"===M?(l.days=l.benYehudaDays,l.benYehudaLoaded&&(l.combinedList=[...l.benYehudaTimeslots,...l.benYehudaAppointments],l.unfilteredList=[...l.combinedList],l.selectedDay=l.benYehudaDays.length>0?l.benYehudaDays[0].date:"",l.updateFilteredAppointments())):"shalom"===M&&(l.days=l.shalomDays,l.shalomLoaded&&(l.combinedList=[...l.shalomTimeslots,...l.shalomAppointments],l.unfilteredList=[...l.combinedList],l.selectedDay=l.shalomDays.length>0?l.shalomDays[0].date:"",console.log("combined List:",l.combinedList),l.updateFilteredAppointments())),!G){const J=new Date,q=new Date;q.setDate(J.getDate()+30),yield l.fetchTrainingsForDateRange(J,q,P)}}finally{"all"===M?l.isBenYehudaLoading=!1:l.isShalomLoading=!1}})()}toggleAvailabilityFilter(){this.availabilityFilter="all"===this.availabilityFilter?"available":"all",this.updateFilteredAppointments()}updateFilteredAppointments(){let m=[...this.unfilteredList];this.selectedDay&&(m=m.filter(l=>V(l.start_time).format("YYYY-MM-DD")===this.selectedDay)),"available"===this.availabilityFilter&&(m=m.filter(l=>l.booked<l.total_participants)),this.selectedType&&(m=m.filter(l=>l.title.name===this.selectedType)),"favorites"===this.selectedFilterAllFav&&(m=m.filter(l=>l.favorite)),m.sort((l,M)=>new Date(l.start_time).getTime()-new Date(M.start_time).getTime()),this.filteredAppointments=[...m],this.extractAvailableTypes()}onFilterChange(){this.updateFilteredAppointments()}onTypeChange(){console.log("Selected type:",this.selectedType),this.updateFilteredAppointments()}resetTypeFilter(){this.selectedType="",this.updateFilteredAppointments()}removePastFavorites(){const m=new Date,M=this.getFavoriteTrainings().filter(k=>{const P=this.combinedList.find(G=>G.id===k);return P&&new Date(P.start_time)>m});this.saveFavoriteTrainings(M)}closeModal(){document.body.classList.remove("no-scroll"),this.modalCtrl.dismiss()}toggleFavorite(m){m.favorite=!m.favorite;const l=this.getFavoriteTrainings();if(m.favorite)l.push(m.id);else{const M=l.indexOf(m.id);M>-1&&l.splice(M,1)}this.saveFavoriteTrainings(l)}getFavoriteTrainings(){const m=localStorage.getItem("favoriteTrainings");return m?JSON.parse(m):[]}saveFavoriteTrainings(m){localStorage.setItem("favoriteTrainings",JSON.stringify(m))}toggleFilterDropdown(){this.showDropdown=!this.showDropdown}calculateProgress(m){if(!m.current_participants||!m.total_participants)return 0;const l=m.current_participants.length/m.total_participants*100;return l>100?100:l}showParticipantsPopup(m){this.activeAppointment=m,this.isPopupVisible=!0}hideParticipantsPopup(){this.activeAppointment=null,this.isPopupVisible=!1}addToStandbyList(m,l,M){this.isStandbyLoading=!0,this.isStandbySuccess=!1,this.http.post("https://k-studio.co.il/wp-json/standby-list/v1/add",{appointment_id:m,customer_id:l,email:M}).subscribe(G=>{console.log("User added to standby list",G),this.isStandbyLoading=!1,this.isStandbySuccess=!0},G=>{console.error("Error adding user to standby list",G),this.isStandbyLoading=!1,this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4","danger")})}checkStandbyEnrollment(m,l){const k=(new T.Nl).set("email",m).set("trainingId",l.toString());return tt(this.http.get("https://k-studio.co.il/wp-json/standby-list/v1/check",{params:k})).then(P=>P.isEnrolled).catch(P=>(console.error("Error checking standby enrollment",P),!1))}enrollUser(m){m.isLoading=!0,m.isSuccess=!1,m.isError=!1;let l=m.serviceID;const k=m.start_time.slice(0,16);let P=m.providerId,G=this.authService.getCustomerID(),J=this.authService.getPackageCustomerId();const dt={type:"appointment",serviceId:l,providerId:P,locationId:null,notifyParticipants:0,bookings:[{customerId:G,status:"approved",duration:3600,persons:1,extras:[],customFields:{},utcOffset:-(new Date).getTimezoneOffset(),packageCustomerService:{packageCustomer:{id:J}}}],bookingStart:k,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone};console.log("enrollData",dt),this.platform.ready().then(()=>{const gt=JSON.stringify(dt);this.http.post("https://k-studio.co.il/wp-json/wn/v1/bookTrainingNEW",gt,{headers:{"Content-Type":"application/json"}}).subscribe(et=>{var pt,xt;if(null===et.message||null===et.data)return this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4: \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d7\u05d1\u05d9\u05dc\u05d4 \u05d6\u05de\u05d9\u05e0\u05d4","danger"),m.isError=!0,void(m.isLoading=!1);if(null!==(pt=et.data)&&void 0!==pt&&pt.timeSlotUnavailable)this.presentToast(et.message||"The time slot is unavailable","danger");else if(null!==(xt=et.data)&&void 0!==xt&&xt.customerAlreadyBooked)this.presentToast(et.message||"You have already booked this training","success");else if(et.message){m.isSuccess=!0,m.current_participants||(m.current_participants=[]),m.booked+=1;const Nt=`${this.authService.getUserFullName()}`;m.current_participants.push(Nt),m.isUserBooked=!0}else m.isSuccess=!0;m.isLoading=!1,setTimeout(()=>{m.isSuccess=!1},2e3)},et=>{console.error("Enrollment failed",JSON.stringify(et)),m.isLoading=!1,et.error&&et.error.includes('"packageCustomerId" is required for booking')?this.presentToast("\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d4 \u05d7\u05d1\u05d9\u05dc\u05d4 \u05d6\u05de\u05d9\u05e0\u05d4","danger"):this.presentToast("\u05e9\u05d2\u05d9\u05d0\u05d4","danger"),m.isError=!0})})}openCalendarPopup(){var m=this;return(0,o.A)(function*(){let l="";"all"===m.selectedFilterAllFav?l="main":"shalom"===m.selectedFilterAllFav&&(l="second"),yield(yield m.modalCalendar.create({component:N,componentProps:{branch:l}})).present()})()}getWeeklyTrainings(){return[]}}return(v=A).\u0275fac=function(m){return new(m||v)(t.rXU(R.OD),t.rXU(E.K_),t.rXU(E.W3),t.rXU(T.Qq),t.rXU(W.u),t.rXU(E.W3))},v.\u0275cmp=t.VBU({type:v,selectors:[["app-trainings"]],viewQuery:function(m,l){if(1&m&&t.GBs(ht,5),2&m){let M;t.mGM(M=t.lsd())&&(l.popup=M.first)}},decls:15,vars:6,consts:[["popup",""],[1,"popup-modal-trainings"],[1,"drag-handle"],[1,"content-container"],[1,"sticky-header"],[1,"header-tabs"],["mode","md",1,"segment-tab",3,"ngModelChange","ionChange","ngModel"],["value","all","class","header-tab",4,"ngIf"],["value","shalom","class","header-tab segment-button-checked-shalom",4,"ngIf"],["value","favorites",1,"header-tab","segment-button-checked-fav"],[4,"ngIf"],["class","card",4,"ngFor","ngForOf"],["value","all",1,"header-tab"],["value","shalom",1,"header-tab","segment-button-checked-shalom"],["scrollable","","mode","md",1,"days-tabs",3,"ngModelChange","ionChange","ngModel"],["class","custom-tabs",3,"value","ngClass",4,"ngFor","ngForOf"],["class","filter-header",4,"ngIf"],["class","filter-dropdown",4,"ngIf"],[1,"custom-tabs",3,"value","ngClass"],[1,"filter-header"],["fill","outline",1,"filter-button",3,"click"],["name","options-outline","slot","start"],["name","calendar-outline","class","calendar-icon",3,"click",4,"ngIf"],["name","calendar-outline",1,"calendar-icon",3,"click"],[1,"filter-dropdown"],[2,"text-indent","8px"],["interface","popover","placeholder","\u05d1\u05d7\u05e8 \u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["color","danger","fill","clear",3,"click",4,"ngIf"],[3,"ngModelChange","ionChange","ngModel"],["value","all"],["value","available"],[3,"value"],["color","danger","fill","clear",3,"click"],["name","close-circle"],[2,"width","80px",3,"animated"],["lines","none","class","skeleton-item",4,"ngFor","ngForOf"],["lines","none",1,"skeleton-item"],["slot","start"],[3,"animated"],[2,"width","80%",3,"animated"],[2,"width","60%",3,"animated"],[2,"width","30%",3,"animated"],[1,"card"],[1,"card-header"],["name","heart-outline",3,"click"],[1,"card-content"],[1,"time-date"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress",3,"ngStyle"],[1,"participants-container"],[1,"participants",3,"mouseenter","mouseleave"],["name","people-outline"],["class","participant-popup",4,"ngIf"],[1,"card-footer"],[1,"participant-popup"],[4,"ngFor","ngForOf"],["disabled","",1,"action-button","enrolled-button"],["name","checkmark-circle",1,"success-icon"],["class","action-button",3,"ngClass","disabled","click",4,"ngIf"],["class","action-button",3,"disabled","ngClass","click",4,"ngIf"],[1,"action-button",3,"click","ngClass","disabled"],["name","crescent"],["name","close-circle",1,"error-icon"],[1,"action-button",3,"click","disabled","ngClass"]],template:function(m,l){if(1&m){const M=t.RV6();t.j41(0,"ion-content",1,0),t.nrm(2,"div",2),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"ion-segment",6),t.mxI("ngModelChange",function(P){return t.eBV(M),t.DH7(l.selectedFilterAllFav,P)||(l.selectedFilterAllFav=P),t.Njj(P)}),t.bIt("ionChange",function(P){return t.eBV(M),t.Njj(l.filterFavAll(P))}),t.DNE(7,rt,3,0,"ion-segment-button",7)(8,mt,3,0,"ion-segment-button",8),t.j41(9,"ion-segment-button",9)(10,"ion-label"),t.EFF(11,"\u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd"),t.k0s()()()(),t.DNE(12,st,5,4,"div",10)(13,F,4,3,"ion-list",10)(14,zt,20,17,"div",11),t.k0s()()()}2&m&&(t.R7$(6),t.R50("ngModel",l.selectedFilterAllFav),t.R7$(),t.Y8G("ngIf","\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===l.userFavLocation||"\u05d4\u05db\u05dc"===l.userFavLocation),t.R7$(),t.Y8G("ngIf","\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===l.userFavLocation||"\u05d4\u05db\u05dc"===l.userFavLocation),t.R7$(4),t.Y8G("ngIf",!l.showSkeleton),t.R7$(),t.Y8G("ngIf",l.showSkeleton),t.R7$(),t.Y8G("ngForOf",l.filteredAppointments))},dependencies:[Y.YU,Y.Sq,Y.bT,Y.B3,it.BC,it.vS,E.Jm,E.W9,E.iq,E.uz,E.he,E.nf,E.AF,E.JI,E.Gp,E.eP,E.Nm,E.Ip,E.ds,E.w2,E.Zx,E.Je,Y.vh],styles:['@charset "UTF-8";.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background-color:#fff}.scrollable-list[_ngcontent-%COMP%]{height:calc(100vh - 130px);overflow-y:auto}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative}.calendar-icon[_ngcontent-%COMP%]{position:absolute;left:16px;font-size:24px;top:50%;transform:translateY(-50%)}.filter-button[_ngcontent-%COMP%]{font-size:16px;padding:8px 16px}.training-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;margin-bottom:20px;width:100%;box-sizing:border-box}.training-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.favorite-icon[_ngcontent-%COMP%]{font-size:24px;color:#5a5a5a}.training-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-top:-30px;color:#333;font-family:Alef}.training-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin-top:-20px;font-family:Alef}.progress-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}ion-progress-bar[_ngcontent-%COMP%]{--progress-background: #E0E0E0;--background: #9B59B6;border-radius:10px;height:10px;flex-grow:1;margin-left:10px}ion-label[_ngcontent-%COMP%]{font-size:2em;color:#333}ion-button[_ngcontent-%COMP%]{font-weight:700;--border-radius: 25px}.segment-tab[_ngcontent-%COMP%]   .days-tabs[_ngcontent-%COMP%]{overflow-x:hidden;--background: #fff;--border-radius: 10px;margin-top:10px}.filter-segment[_ngcontent-%COMP%]{color:red}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #000}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1em;font-weight:700;font-family:Alef}ion-segment-button[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:1em;color:#666;font-weight:700;font-family:Alef}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0;--padding-start: 0;--padding-end: 0;padding:0}.header-tab[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none;padding:none;--indicator-color: transparent}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]{display:flex;width:100%}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]{transition:all .3s ease}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab.dragging-mode[_ngcontent-%COMP%]{cursor:move;opacity:.7;transform:scale(1.05)}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]   .hide-tab-btn[_ngcontent-%COMP%]{margin-left:10px;color:red;cursor:pointer;opacity:.7;transition:opacity .2s}.header-tab[_ngcontent-%COMP%]   segment-tab[_ngcontent-%COMP%]   .header-tab[_ngcontent-%COMP%]   .hide-tab-btn[_ngcontent-%COMP%]:hover{opacity:1}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;background-color:#f0f0f0}.header-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none}.custom-tabs[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;background-color:#fff;box-shadow:0 4px 12px #0000000d;position:relative;--background-activated: transparent;--background-focused: transparent;--background: transparent;font-size:1em;--color-checked: #333;--color: #666;padding-bottom:10px;width:90%;margin-left:10px;--indicator-color: transparent}.segment-button-checked[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border-radius:12px;--indicator-color: transparent;color:#000}.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#59c7cd;border-radius:12px;transition:all .3s ease}.custom-underline-default.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#59c7cd;border-radius:12px;transition:all .3s ease}.custom-underline-shalom.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#ff8366;border-radius:12px;transition:all .3s ease}.custom-underline-favorites.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#373737;border-radius:12px;transition:all .3s ease}.segment-button-checked-shalom[_ngcontent-%COMP%]:after{background:#ff8366}.segment-button-checked-fav[_ngcontent-%COMP%]:after{background:#373737}.filter-button[_ngcontent-%COMP%]{--border-radius: 30px;--padding-start: 15px;--padding-end: 15px;--background: #fff;--box-shadow: 0px 4px 6px rgba(0, 0, 0, .1);--color: #000;--icon-size: 20px;--border-color: #E5E5E5;display:flex;justify-content:center;align-items:center;width:150px;margin:20px auto auto}.filter-button[_ngcontent-%COMP%]:hover{--background: #f5f5f5}.clear-filter-icon[_ngcontent-%COMP%]{font-size:24px;color:#e74c3c;margin-left:10px;cursor:pointer}.filter-dropdown[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px;background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;width:100%}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;--color: #333;--background: #fff;--border-radius: 10px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .1)}.popup-modal-trainings[_ngcontent-%COMP%]{height:80vh;border-top-left-radius:20px;border-top-right-radius:20px;background:#fff;padding:10px;box-shadow:0 -4px 12px #0000001a;overflow-y:auto;max-height:100vh}.drag-handle[_ngcontent-%COMP%]{width:10px;height:1px;background-color:transparent;border-radius:2.5px;margin:0 auto 10px}.content-container[_ngcontent-%COMP%]{padding:15px;justify-content:center}ion-content[_ngcontent-%COMP%]{--background: white}ion-tab-bar[_ngcontent-%COMP%]{--background: #fff;--color-selected: #3498db;--color: #666}ion-tab-button[_ngcontent-%COMP%]{--color-selected: #666;--color: #666}.card[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin:10px 0;border-radius:12px;box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;color:#333;font-family:Alef}.card-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.card-header[_ngcontent-%COMP%]   ion-icon.favorite[_ngcontent-%COMP%]{color:red}.time-date[_ngcontent-%COMP%]{font-size:14px;color:gray}.segment-button[_ngcontent-%COMP%]:not(.segment-button-checked):after{height:0}.progress-bar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.progress-bar[_ngcontent-%COMP%]{width:80%;background-color:#e0e0e0;border-radius:8px;height:6px}.progress-default[_ngcontent-%COMP%]{background-color:#59c7cd}.progress-shalom[_ngcontent-%COMP%]{background-color:#ff8366}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:6px;border-radius:8px;background-color:#59c7cd}.participants[_ngcontent-%COMP%]{font-size:12px;display:flex;align-items:center}.participants[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.card-footer[_ngcontent-%COMP%]{margin-top:10px}.action-button[_ngcontent-%COMP%]{width:100%;background-color:#454545;color:#fff;border:none;padding:10px;border-radius:8px;text-align:center;font-size:14px;cursor:pointer;transition:background-color .3s ease}.action-button.loading[_ngcontent-%COMP%]{background-color:#f0f0f0;cursor:not-allowed}.action-button.success[_ngcontent-%COMP%]{background-color:#4caf50}.success-icon[_ngcontent-%COMP%]{color:#fff;font-size:14px}ion-spinner[_ngcontent-%COMP%]{height:10px;width:10px}.action-button.full[_ngcontent-%COMP%]{background-color:#757575}.enrolled-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;cursor:not-allowed}.participants-container[_ngcontent-%COMP%]{background-color:#c5c5c563;position:relative;width:50px;border-radius:7px}.participant-popup[_ngcontent-%COMP%]{position:absolute;top:-10px;left:60px;background-color:#fff;border:none;padding:12px;box-shadow:0 8px 16px #00000026;width:180px;z-index:10;border-radius:12px;max-height:200px;overflow-y:auto;transition:opacity .3s ease,transform .3s ease;opacity:0;transform:translateY(-10px)}.participant-popup[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:14px}.participant-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.participant-popup[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;margin-bottom:5px}.participants[_ngcontent-%COMP%]{cursor:pointer;position:relative;justify-content:center}.participants[_ngcontent-%COMP%]:hover{text-decoration:underline}.participants[_ngcontent-%COMP%]:hover   .participant-popup[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.action-button.standby-enrolled[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#757575;cursor:not-allowed}.action-button.error[_ngcontent-%COMP%]{background-color:#ff4d4d;color:#fff}.action-button[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:14px;color:#fff}']}),A})()},9584:(wt,ot,y)=>{y.d(ot,{B:()=>K});var o=y(8359);class T extends o.yU{constructor(D,N){super()}schedule(D,N=0){return this}}const V={setInterval(z,D,...N){const{delegate:R}=V;return null!=R&&R.setInterval?R.setInterval(z,D,...N):setInterval(z,D,...N)},clearInterval(z){const{delegate:D}=V;return((null==D?void 0:D.clearInterval)||clearInterval)(z)},delegate:void 0};var Z=y(7908);const tt={now:()=>(tt.delegate||Date).now(),delegate:void 0};class t{constructor(D,N=t.now){this.schedulerActionCtor=D,this.now=N}schedule(D,N=0,R){return new this.schedulerActionCtor(this,D).schedule(R,N)}}t.now=tt.now;const C=new class E extends t{constructor(D,N=t.now){super(D,N),this.actions=[],this._active=!1}flush(D){const{actions:N}=this;if(this._active)return void N.push(D);let R;this._active=!0;do{if(R=D.execute(D.state,D.delay))break}while(D=N.shift());if(this._active=!1,R){for(;D=N.shift();)D.unsubscribe();throw R}}}(class ct extends T{constructor(D,N){super(D,N),this.scheduler=D,this.work=N,this.pending=!1}schedule(D,N=0){var R;if(this.closed)return this;this.state=D;const W=this.id,it=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(it,W,N)),this.pending=!0,this.delay=N,this.id=null!==(R=this.id)&&void 0!==R?R:this.requestAsyncId(it,this.id,N),this}requestAsyncId(D,N,R=0){return V.setInterval(D.flush.bind(D,this),R)}recycleAsyncId(D,N,R=0){if(null!=R&&this.delay===R&&!1===this.pending)return N;null!=N&&V.clearInterval(N)}execute(D,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(D,N);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,N){let W,R=!1;try{this.work(D)}catch(it){R=!0,W=it||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:D,scheduler:N}=this,{actions:R}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Z.o)(R,this),null!=D&&(this.id=this.recycleAsyncId(N,D,null)),this.delay=null,super.unsubscribe()}}});var Q=y(9974),j=y(4360);function K(z,D=C){return(0,Q.N)((N,R)=>{let W=null,it=null,ht=null;const _t=()=>{if(W){W.unsubscribe(),W=null;const w=it;it=null,R.next(w)}};function yt(){const w=ht+z,$=D.now();if($<w)return W=this.schedule(void 0,w-$),void R.add(W);_t()}N.subscribe((0,j._)(R,w=>{it=w,ht=D.now(),W||(W=D.schedule(yt,z),R.add(W))},()=>{_t(),R.complete()},void 0,()=>{it=W=null}))})}},5262:(wt,ot,y)=>{y.d(ot,{Bu:()=>St,Q_:()=>B,_G:()=>Xt,w6:()=>Zt});var o=y(177),T=y(3953),V=y(6860),Z=y(1413),ct=y(8359),E=(y(4402),y(7673),y(7336)),C=y(8141),Y=y(9584),Q=y(5964),j=y(6354),K=y(6697),D=y(4085),N=y(4572),R=y(8793),W=y(1985),ht=y(9172),_t=y(6977);const w=new Set;let $,rt=(()=>{var h;class i{constructor(c,_){this._platform=c,this._nonce=_,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):At}matchMedia(c){return(this._platform.WEBKIT||this._platform.BLINK)&&function mt(h,i){if(!w.has(h))try{$||($=document.createElement("style"),i&&$.setAttribute("nonce",i),$.setAttribute("type","text/css"),document.head.appendChild($)),$.sheet&&($.sheet.insertRule(`@media ${h} {body{ }}`,0),w.add(h))}catch(s){console.error(s)}}(c,this._nonce),this._matchMedia(c)}}return(h=i).\u0275fac=function(c){return new(c||h)(T.KVO(V.OD),T.KVO(T.BIS,8))},h.\u0275prov=T.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),i})();function At(h){return{matches:"all"===h||""===h,media:h,addListener:()=>{},removeListener:()=>{}}}let It=(()=>{var h;class i{constructor(c,_){this._mediaMatcher=c,this._zone=_,this._queries=new Map,this._destroySubject=new Z.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(c){return Tt((0,D.FG)(c)).some(x=>this._registerQuery(x).mql.matches)}observe(c){const x=Tt((0,D.FG)(c)).map(L=>this._registerQuery(L).observable);let O=(0,N.z)(x);return O=(0,R.x)(O.pipe((0,K.s)(1)),O.pipe(function it(h){return(0,Q.p)((i,s)=>h<=s)}(1),(0,Y.B)(0))),O.pipe((0,j.T)(L=>{const X={matches:!1,breakpoints:{}};return L.forEach(({matches:vt,query:Bt})=>{X.matches=X.matches||vt,X.breakpoints[Bt]=vt}),X}))}_registerQuery(c){if(this._queries.has(c))return this._queries.get(c);const _=this._mediaMatcher.matchMedia(c),O={observable:new W.c(L=>{const X=vt=>this._zone.run(()=>L.next(vt));return _.addListener(X),()=>{_.removeListener(X)}}).pipe((0,ht.Z)(_),(0,j.T)(({matches:L})=>({query:c,matches:L})),(0,_t.Q)(this._destroySubject)),mql:_};return this._queries.set(c,O),O}}return(h=i).\u0275fac=function(c){return new(c||h)(T.KVO(rt),T.KVO(T.SKi))},h.\u0275prov=T.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),i})();function Tt(h){return h.map(i=>i.split(",")).reduce((i,s)=>i.concat(s)).map(i=>i.trim())}class kt{constructor(i,s){this._letterKeyStream=new Z.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Z.B,this.selectedItem=this._selectedItem;const c="number"==typeof(null==s?void 0:s.debounceInterval)?s.debounceInterval:200;null!=s&&s.skipPredicate&&(this._skipPredicateFn=s.skipPredicate),this.setItems(i),this._setupKeyHandler(c)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){const s=i.keyCode;i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(s>=E.A&&s<=E.Z||s>=E.f2&&s<=E.bn)&&this._letterKeyStream.next(String.fromCharCode(s))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe((0,C.M)(s=>this._pressedLetters.push(s)),(0,Y.B)(i),(0,Q.p)(()=>this._pressedLetters.length>0),(0,j.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(s=>{for(let x=1;x<this._items.length+1;x++){var c,_;const L=this._items[(this._selectedItemIndex+x)%this._items.length];if((null===(c=this._skipPredicateFn)||void 0===c||!c.call(this,L))&&0===(null===(_=L.getLabel)||void 0===_?void 0:_.call(L).toLocaleUpperCase().trim().indexOf(s))){this._selectedItem.next(L);break}}this._pressedLetters=[]})}}class Ft{constructor(i,s){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=ct.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=c=>c.disabled,this.tabOut=new Z.B,this.change=new Z.B,i instanceof T.rOR?this._itemChangesSubscription=i.changes.subscribe(c=>this._itemsChanged(c.toArray())):(0,T.Hps)(i)&&(this._effectRef=(0,T.QZP)(()=>this._itemsChanged(i()),{injector:s}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();const s=this._getItemsArray();return this._typeahead=new kt(s,{debounceInterval:"number"==typeof i?i:void 0,skipPredicate:c=>this._skipPredicateFn(c)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(c=>{this.setActiveItem(c)}),this}cancelTypeahead(){var i;return null===(i=this._typeahead)||void 0===i||i.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,s=10){return this._pageUpAndDown={enabled:i,delta:s},this}setActiveItem(i){const s=this._activeItem;this.updateActiveItem(i),this._activeItem!==s&&this.change.next(this._activeItemIndex)}onKeydown(i){var s;const c=i.keyCode,x=["altKey","ctrlKey","metaKey","shiftKey"].every(L=>!i[L]||this._allowedModifierKeys.indexOf(L)>-1);switch(c){case E.wn:return void this.tabOut.next();case E.n6:if(this._vertical&&x){this.setNextItemActive();break}return;case E.i7:if(this._vertical&&x){this.setPreviousItemActive();break}return;case E.LE:if(this._horizontal&&x){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case E.UQ:if(this._horizontal&&x){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case E.yZ:if(this._homeAndEnd&&x){this.setFirstItemActive();break}return;case E.Kp:if(this._homeAndEnd&&x){this.setLastItemActive();break}return;case E.w_:if(this._pageUpAndDown.enabled&&x){const L=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(L>0?L:0,1);break}return;case E.dB:if(this._pageUpAndDown.enabled&&x){const L=this._activeItemIndex+this._pageUpAndDown.delta,X=this._getItemsArray().length;this._setActiveItemByIndex(L<X?L:X-1,-1);break}return;default:var O;return void((x||(0,E.rp)(i,"shiftKey"))&&(null===(O=this._typeahead)||void 0===O||O.handleKey(i)))}null===(s=this._typeahead)||void 0===s||s.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){var s;const c=this._getItemsArray(),_="number"==typeof i?i:c.indexOf(i),x=c[_];this._activeItem=null==x?null:x,this._activeItemIndex=_,null===(s=this._typeahead)||void 0===s||s.setCurrentSelectedItemIndex(_)}destroy(){var i,s,c;this._typeaheadSubscription.unsubscribe(),null===(i=this._itemChangesSubscription)||void 0===i||i.unsubscribe(),null===(s=this._effectRef)||void 0===s||s.destroy(),null===(c=this._typeahead)||void 0===c||c.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const s=this._getItemsArray();for(let c=1;c<=s.length;c++){const _=(this._activeItemIndex+i*c+s.length)%s.length;if(!this._skipPredicateFn(s[_]))return void this.setActiveItem(_)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,s){const c=this._getItemsArray();if(c[i]){for(;this._skipPredicateFn(c[i]);)if(!c[i+=s])return;this.setActiveItem(i)}}_getItemsArray(){return(0,T.Hps)(this._items)?this._items():this._items instanceof T.rOR?this._items.toArray():this._items}_itemsChanged(i){var s;if(null===(s=this._typeahead)||void 0===s||s.setItems(i),this._activeItem){const _=i.indexOf(this._activeItem);var c;_>-1&&_!==this._activeItemIndex&&(this._activeItemIndex=_,null===(c=this._typeahead)||void 0===c||c.setCurrentSelectedItemIndex(_))}}}class St extends Ft{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}function Xt(h){return 0===h.buttons||0===h.detail}function Zt(h){const i=h.touches&&h.touches[0]||h.changedTouches&&h.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}var r=function(h){return h[h.NONE=0]="NONE",h[h.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",h[h.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",h}(r||{});const d="cdk-high-contrast-black-on-white",f="cdk-high-contrast-white-on-black",I="cdk-high-contrast-active";let B=(()=>{var h;class i{constructor(c,_){this._platform=c,this._document=_,this._breakpointSubscription=(0,T.WQX)(It).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return r.NONE;const c=this._document.createElement("div");c.style.backgroundColor="rgb(1,2,3)",c.style.position="absolute",this._document.body.appendChild(c);const _=this._document.defaultView||window,x=_&&_.getComputedStyle?_.getComputedStyle(c):null,O=(x&&x.backgroundColor||"").replace(/ /g,"");switch(c.remove(),O){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return r.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return r.BLACK_ON_WHITE}return r.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const c=this._document.body.classList;c.remove(I,d,f),this._hasCheckedHighContrastMode=!0;const _=this.getHighContrastMode();_===r.BLACK_ON_WHITE?c.add(I,d):_===r.WHITE_ON_BLACK&&c.add(I,f)}}}return(h=i).\u0275fac=function(c){return new(c||h)(T.KVO(V.OD),T.KVO(o.qQ))},h.\u0275prov=T.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),i})()},4085:(wt,ot,y)=>{y.d(ot,{FG:()=>ct,OE:()=>V,he:()=>T,i8:()=>t});var o=y(3953);function T(C){return null!=C&&"false"!=`${C}`}function V(C,Y=0){return function Z(C){return!isNaN(parseFloat(C))&&!isNaN(Number(C))}(C)?Number(C):2===arguments.length?Y:0}function ct(C){return Array.isArray(C)?C:[C]}function t(C){return C instanceof o.aKT?C.nativeElement:C}},7336:(wt,ot,y)=>{y.d(ot,{A:()=>ft,A$:()=>E,FX:()=>tt,Fm:()=>ct,Ge:()=>gt,Kp:()=>D,LE:()=>it,UQ:()=>R,W3:()=>t,Z:()=>dt,bn:()=>S,dB:()=>z,eg:()=>ce,f2:()=>rt,i7:()=>W,n6:()=>ht,rp:()=>le,t6:()=>j,w_:()=>K,wn:()=>V,yZ:()=>N});const V=9,ct=13,tt=16,t=17,E=18,j=32,K=33,z=34,D=35,N=36,R=37,W=38,it=39,ht=40,rt=48,S=57,ft=65,dt=90,gt=91,ce=224;function le(Kt,...se){return se.length?se.some(de=>Kt[de]):Kt.altKey||Kt.shiftKey||Kt.ctrlKey||Kt.metaKey}},6860:(wt,ot,y)=>{y.d(ot,{BQ:()=>Q,Fb:()=>_t,OD:()=>Z,v8:()=>yt,vc:()=>ht});var o=y(3953),T=y(177);let V;try{V=typeof Intl<"u"&&Intl.v8BreakIterator}catch{V=!1}let C,Z=(()=>{var w;class ${constructor(mt){this._platformId=mt,this.isBrowser=this._platformId?(0,T.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!V)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(w=$).\u0275fac=function(mt){return new(mt||w)(o.KVO(o.Agw))},w.\u0275prov=o.jDH({token:w,factory:w.\u0275fac,providedIn:"root"}),$})();function Q(w){return function Y(){if(null==C&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>C=!0}))}finally{C=C||!1}return C}()?w:!!w.capture}function ht(){let w=typeof document<"u"&&document?document.activeElement:null;for(;w&&w.shadowRoot;){const $=w.shadowRoot.activeElement;if($===w)break;w=$}return w}function _t(w){return w.composedPath?w.composedPath()[0]:w.target}function yt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8834:(wt,ot,y)=>{y.d(ot,{Hl:()=>lt});var o=y(3953),T=y(8820);let lt=(()=>{var nt;class st{}return(nt=st).\u0275fac=function(F){return new(F||nt)},nt.\u0275mod=o.$C({type:nt}),nt.\u0275inj=o.G2t({imports:[T.yE,T.pZ,T.yE]}),st})()},8820:(wt,ot,y)=>{y.d(ot,{$E:()=>Nt,yE:()=>Mt,O5:()=>Ut,pZ:()=>Vt,ug:()=>pt});var o=y(3953),T=y(5262),V=y(177);let Y=(()=>{var a;class n{}return(a=n).\u0275fac=function(d){return new(d||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({}),n})();var j=y(6860),K=y(4085);const Tt=new o.nKC("mat-sanity-checks",{providedIn:"root",factory:function It(){return!0}});let Mt=(()=>{var a;class n{constructor(d,f,I){this._sanityChecks=f,this._document=I,this._hasDoneGlobalChecks=!1,d._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(d){return!(0,j.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[d])}}return(a=n).\u0275fac=function(d){return new(d||a)(o.KVO(T.Q_),o.KVO(Tt,8),o.KVO(V.qQ))},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[Y,Y]}),n})();var k=function(a){return a[a.FADING_IN=0]="FADING_IN",a[a.VISIBLE=1]="VISIBLE",a[a.FADING_OUT=2]="FADING_OUT",a[a.HIDDEN=3]="HIDDEN",a}(k||{});class P{constructor(n,r,d,f=!1){this._renderer=n,this.element=r,this.config=d,this._animationForciblyDisabledThroughCss=f,this.state=k.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const G=(0,j.BQ)({passive:!0,capture:!0});class J{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const r=(0,j.Fb)(n);var d;r&&(null===(d=this._events.get(n.type))||void 0===d||d.forEach((f,I)=>{(I===r||I.contains(r))&&f.forEach(B=>B.handleEvent(n))}))}}addHandler(n,r,d,f){const I=this._events.get(r);if(I){const B=I.get(d);B?B.add(f):I.set(d,new Set([f]))}else this._events.set(r,new Map([[d,new Set([f])]])),n.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,G)})}removeHandler(n,r,d){const f=this._events.get(n);if(!f)return;const I=f.get(r);I&&(I.delete(d),0===I.size&&f.delete(r),0===f.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,G)))}}const q={enterDuration:225,exitDuration:150},dt=(0,j.BQ)({passive:!0,capture:!0}),gt=["mousedown","touchstart"],et=["mouseup","mouseleave","touchend","touchcancel"];class pt{constructor(n,r,d,f){this._target=n,this._ngZone=r,this._platform=f,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,f.isBrowser&&(this._containerElement=(0,K.i8)(d))}fadeInRipple(n,r,d={}){const f=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),I={...q,...d.animation};d.centered&&(n=f.left+f.width/2,r=f.top+f.height/2);const B=d.radius||function xt(a,n,r){const d=Math.max(Math.abs(a-r.left),Math.abs(a-r.right)),f=Math.max(Math.abs(n-r.top),Math.abs(n-r.bottom));return Math.sqrt(d*d+f*f)}(n,r,f),bt=n-f.left,h=r-f.top,i=I.enterDuration,s=document.createElement("div");s.classList.add("mat-ripple-element"),s.style.left=bt-B+"px",s.style.top=h-B+"px",s.style.height=2*B+"px",s.style.width=2*B+"px",null!=d.color&&(s.style.backgroundColor=d.color),s.style.transitionDuration=`${i}ms`,this._containerElement.appendChild(s);const c=window.getComputedStyle(s),x=c.transitionDuration,O="none"===c.transitionProperty||"0s"===x||"0s, 0s"===x||0===f.width&&0===f.height,L=new P(this,s,d,O);s.style.transform="scale3d(1, 1, 1)",L.state=k.FADING_IN,d.persistent||(this._mostRecentTransientRipple=L);let X=null;return!O&&(i||I.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const vt=()=>{X&&(X.fallbackTimer=null),clearTimeout(re),this._finishRippleTransition(L)},Bt=()=>this._destroyRipple(L),re=setTimeout(Bt,i+100);s.addEventListener("transitionend",vt),s.addEventListener("transitioncancel",Bt),X={onTransitionEnd:vt,onTransitionCancel:Bt,fallbackTimer:re}}),this._activeRipples.set(L,X),(O||!i)&&this._finishRippleTransition(L),L}fadeOutRipple(n){if(n.state===k.FADING_OUT||n.state===k.HIDDEN)return;const r=n.element,d={...q,...n.config.animation};r.style.transitionDuration=`${d.exitDuration}ms`,r.style.opacity="0",n.state=k.FADING_OUT,(n._animationForciblyDisabledThroughCss||!d.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const r=(0,K.i8)(n);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,gt.forEach(d=>{pt._eventManager.addHandler(this._ngZone,d,r,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{et.forEach(r=>{this._triggerElement.addEventListener(r,this,dt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===k.FADING_IN?this._startFadeOutTransition(n):n.state===k.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){const r=n===this._mostRecentTransientRipple,{persistent:d}=n.config;n.state=k.VISIBLE,!d&&(!r||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){var r;const d=null!==(r=this._activeRipples.get(n))&&void 0!==r?r:null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=k.HIDDEN,null!==d&&(n.element.removeEventListener("transitionend",d.onTransitionEnd),n.element.removeEventListener("transitioncancel",d.onTransitionCancel),null!==d.fallbackTimer&&clearTimeout(d.fallbackTimer)),n.element.remove()}_onMousedown(n){const r=(0,T._G)(n),d=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!d&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!(0,T.w6)(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=n.changedTouches;if(r)for(let d=0;d<r.length;d++)this.fadeInRipple(r[d].clientX,r[d].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(n.state===k.VISIBLE||n.config.terminateOnPointerUp&&n.state===k.FADING_IN)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(gt.forEach(r=>pt._eventManager.removeHandler(r,n,this)),this._pointerUpEventsRegistered&&(et.forEach(r=>n.removeEventListener(r,this,dt)),this._pointerUpEventsRegistered=!1))}}pt._eventManager=new J;const Nt=new o.nKC("mat-ripple-global-options");let Vt=(()=>{var a;class n{}return(a=n).\u0275fac=function(d){return new(d||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[Mt,Mt]}),n})(),Ut=(()=>{var a;class n{}return(a=n).\u0275fac=function(d){return new(d||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[Mt]}),n})()},2054:(wt,ot,y)=>{y.d(ot,{Fg:()=>qt});var o=y(3953),Z=(y(4085),y(6860),y(8820));y(8359),y(6365),y(8750),y(983),y(3794),y(6648),y(1413),y(1985),y(6354),y(5964),y(9584);let W=(()=>{var u;class p{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return(u=p).\u0275fac=function(e){return new(e||u)},u.\u0275prov=o.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),p})(),_t=(()=>{var u;class p{}return(u=p).\u0275fac=function(e){return new(e||u)},u.\u0275mod=o.$C({type:u}),u.\u0275inj=o.G2t({providers:[W]}),p})();var yt=y(177);let $=(()=>{var u;class p{}return(u=p).\u0275fac=function(e){return new(e||u)},u.\u0275mod=o.$C({type:u}),u.\u0275inj=o.G2t({imports:[Z.yE,Z.yE]}),p})();y(5262),y(4402),y(7673),y(7336),y(4341),y(6977);let qt=(()=>{var u;class p{}return(u=p).\u0275fac=function(e){return new(e||u)},u.\u0275mod=o.$C({type:u}),u.\u0275inj=o.G2t({imports:[_t,yt.MD,Z.yE,Z.pZ,Z.O5,$]}),p})()},5911:(wt,ot,y)=>{y.d(ot,{s5:()=>E});var o=y(3953),T=y(8820);let E=(()=>{var C;class Y{}return(C=Y).\u0275fac=function(j){return new(j||C)},C.\u0275mod=o.$C({type:C}),C.\u0275inj=o.G2t({imports:[T.yE,T.yE]}),Y})()}}]);