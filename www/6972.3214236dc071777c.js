"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6972],{6972:(k,b,_)=>{_.r(b),_.d(b,{HomePageModule:()=>Nt});var g=_(177),s=_(4341),h=_(2054),m=_(8834),M=_(5911),l=_(791),t=_(3953),d=_(8820);let Q=(()=>{var r;class c{}return(r=c).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[d.yE,g.MD,d.yE]}),c})();var Y=_(685),F=_(467),Z=_(8132);function q(r,c){1&r&&(t.j41(0,"p",5),t.EFF(1,"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05d4\u05ea\u05e8\u05d0\u05d5\u05ea"),t.k0s())}function tt(r,c){if(1&r){const o=t.RV6();t.j41(0,"ion-item-sliding",null,1)(2,"ion-item-options",7)(3,"ion-item-option",8),t.bIt("click",function(){const n=t.eBV(o).index,i=t.sdS(1),a=t.XpG(2);return t.Njj(a.deleteNotification(n,i))}),t.j41(4,"button",9),t.bIt("click",function(){const n=t.eBV(o).index,i=t.sdS(1),a=t.XpG(2);return t.Njj(a.deleteNotification(n,i))}),t.nrm(5,"ion-icon",10),t.k0s()()(),t.j41(6,"ion-item"),t.nrm(7,"ion-icon",11),t.j41(8,"ion-label")(9,"h2",12),t.EFF(10),t.k0s(),t.j41(11,"p",13),t.EFF(12),t.k0s()()()()}if(2&r){const o=c.$implicit;t.R7$(10),t.JRh(o.title),t.R7$(2),t.JRh(o.message)}}function et(r,c){if(1&r&&(t.j41(0,"ion-list"),t.DNE(1,tt,13,2,"ion-item-sliding",6),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.notifications)}}let nt=(()=>{var r;class c{constructor(e){this.modalCtrl=e,this.notifications=[]}ngOnInit(){this.notifications=JSON.parse(localStorage.getItem("notifications")||"[]")}deleteNotification(e,n){this.notifications.splice(e,1),localStorage.setItem("notifications",JSON.stringify(this.notifications)),n.close()}dismiss(){this.modalCtrl.dismiss()}}return(r=c).\u0275fac=function(e){return new(e||r)(t.rXU(l.W3))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-notification-popup"]],decls:4,vars:2,consts:[["popup",""],["slidingItem",""],[1,"notification-popup-content"],["class","no-notifications",4,"ngIf"],[4,"ngIf"],[1,"no-notifications"],[4,"ngFor","ngForOf"],["side","start"],["color","danger",3,"click"],["ion-button","",1,"trash-icon",3,"click"],["name","trash"],["name","megaphone-outline","slot","start"],[1,"notification-title"],[1,"notification-desc"]],template:function(e,n){1&e&&(t.j41(0,"ion-content",2,0),t.DNE(2,q,2,0,"p",3)(3,et,2,1,"ion-list",4),t.k0s()),2&e&&(t.R7$(2),t.Y8G("ngIf",!n.notifications||0===n.notifications.length),t.R7$(),t.Y8G("ngIf",n.notifications&&n.notifications.length>0))},dependencies:[g.Sq,g.bT,l.W9,l.iq,l.uz,l.LU,l.CE,l.A7,l.he,l.nf],styles:[".notification-popup-content[_ngcontent-%COMP%]{background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px;padding:20px;box-shadow:0 -5px 20px #0003}.notification-popup[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{height:50vh;top:auto;bottom:0;border-top-left-radius:20px;border-top-right-radius:20px;transition:height .3s ease-in-out}.no-notifications[_ngcontent-%COMP%]{font-family:Alef;text-align:center;padding-top:150px;color:gray}.notification-title[_ngcontent-%COMP%]{color:#3a3a3a;font-family:Alef;font-size:1.5em}button.trash-icon[_ngcontent-%COMP%]{background:none}.notification-desc[_ngcontent-%COMP%]{color:#000;font-family:Alef;font-size:1em}.notification-popup[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .4s ease-out}@keyframes _ngcontent-%COMP%_slide-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}"]}),c})();var it=_(59),R=_(7586);class D{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(c,o=!1){return this.onePassHasher.start().appendStr(c).end(o)}static hashAsciiStr(c,o=!1){return this.onePassHasher.start().appendAsciiStr(c).end(o)}static _hex(c){const o=D.hexChars,e=D.hexOut;let n,i,a,v;for(v=0;v<4;v+=1)for(i=8*v,n=c[v],a=0;a<8;a+=2)e[i+1+a]=o.charAt(15&n),n>>>=4,e[i+0+a]=o.charAt(15&n),n>>>=4;return e.join("")}static _md5cycle(c,o){let e=c[0],n=c[1],i=c[2],a=c[3];e+=(n&i|~n&a)+o[0]-680876936|0,e=(e<<7|e>>>25)+n|0,a+=(e&n|~e&i)+o[1]-389564586|0,a=(a<<12|a>>>20)+e|0,i+=(a&e|~a&n)+o[2]+606105819|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&e)+o[3]-1044525330|0,n=(n<<22|n>>>10)+i|0,e+=(n&i|~n&a)+o[4]-176418897|0,e=(e<<7|e>>>25)+n|0,a+=(e&n|~e&i)+o[5]+1200080426|0,a=(a<<12|a>>>20)+e|0,i+=(a&e|~a&n)+o[6]-1473231341|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&e)+o[7]-45705983|0,n=(n<<22|n>>>10)+i|0,e+=(n&i|~n&a)+o[8]+1770035416|0,e=(e<<7|e>>>25)+n|0,a+=(e&n|~e&i)+o[9]-1958414417|0,a=(a<<12|a>>>20)+e|0,i+=(a&e|~a&n)+o[10]-42063|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&e)+o[11]-1990404162|0,n=(n<<22|n>>>10)+i|0,e+=(n&i|~n&a)+o[12]+1804603682|0,e=(e<<7|e>>>25)+n|0,a+=(e&n|~e&i)+o[13]-40341101|0,a=(a<<12|a>>>20)+e|0,i+=(a&e|~a&n)+o[14]-1502002290|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&e)+o[15]+1236535329|0,n=(n<<22|n>>>10)+i|0,e+=(n&a|i&~a)+o[1]-165796510|0,e=(e<<5|e>>>27)+n|0,a+=(e&i|n&~i)+o[6]-1069501632|0,a=(a<<9|a>>>23)+e|0,i+=(a&n|e&~n)+o[11]+643717713|0,i=(i<<14|i>>>18)+a|0,n+=(i&e|a&~e)+o[0]-373897302|0,n=(n<<20|n>>>12)+i|0,e+=(n&a|i&~a)+o[5]-701558691|0,e=(e<<5|e>>>27)+n|0,a+=(e&i|n&~i)+o[10]+38016083|0,a=(a<<9|a>>>23)+e|0,i+=(a&n|e&~n)+o[15]-660478335|0,i=(i<<14|i>>>18)+a|0,n+=(i&e|a&~e)+o[4]-405537848|0,n=(n<<20|n>>>12)+i|0,e+=(n&a|i&~a)+o[9]+568446438|0,e=(e<<5|e>>>27)+n|0,a+=(e&i|n&~i)+o[14]-1019803690|0,a=(a<<9|a>>>23)+e|0,i+=(a&n|e&~n)+o[3]-187363961|0,i=(i<<14|i>>>18)+a|0,n+=(i&e|a&~e)+o[8]+1163531501|0,n=(n<<20|n>>>12)+i|0,e+=(n&a|i&~a)+o[13]-1444681467|0,e=(e<<5|e>>>27)+n|0,a+=(e&i|n&~i)+o[2]-51403784|0,a=(a<<9|a>>>23)+e|0,i+=(a&n|e&~n)+o[7]+1735328473|0,i=(i<<14|i>>>18)+a|0,n+=(i&e|a&~e)+o[12]-1926607734|0,n=(n<<20|n>>>12)+i|0,e+=(n^i^a)+o[5]-378558|0,e=(e<<4|e>>>28)+n|0,a+=(e^n^i)+o[8]-2022574463|0,a=(a<<11|a>>>21)+e|0,i+=(a^e^n)+o[11]+1839030562|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^e)+o[14]-35309556|0,n=(n<<23|n>>>9)+i|0,e+=(n^i^a)+o[1]-1530992060|0,e=(e<<4|e>>>28)+n|0,a+=(e^n^i)+o[4]+1272893353|0,a=(a<<11|a>>>21)+e|0,i+=(a^e^n)+o[7]-155497632|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^e)+o[10]-1094730640|0,n=(n<<23|n>>>9)+i|0,e+=(n^i^a)+o[13]+681279174|0,e=(e<<4|e>>>28)+n|0,a+=(e^n^i)+o[0]-358537222|0,a=(a<<11|a>>>21)+e|0,i+=(a^e^n)+o[3]-722521979|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^e)+o[6]+76029189|0,n=(n<<23|n>>>9)+i|0,e+=(n^i^a)+o[9]-640364487|0,e=(e<<4|e>>>28)+n|0,a+=(e^n^i)+o[12]-421815835|0,a=(a<<11|a>>>21)+e|0,i+=(a^e^n)+o[15]+530742520|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^e)+o[2]-995338651|0,n=(n<<23|n>>>9)+i|0,e+=(i^(n|~a))+o[0]-198630844|0,e=(e<<6|e>>>26)+n|0,a+=(n^(e|~i))+o[7]+1126891415|0,a=(a<<10|a>>>22)+e|0,i+=(e^(a|~n))+o[14]-1416354905|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~e))+o[5]-57434055|0,n=(n<<21|n>>>11)+i|0,e+=(i^(n|~a))+o[12]+1700485571|0,e=(e<<6|e>>>26)+n|0,a+=(n^(e|~i))+o[3]-1894986606|0,a=(a<<10|a>>>22)+e|0,i+=(e^(a|~n))+o[10]-1051523|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~e))+o[1]-2054922799|0,n=(n<<21|n>>>11)+i|0,e+=(i^(n|~a))+o[8]+1873313359|0,e=(e<<6|e>>>26)+n|0,a+=(n^(e|~i))+o[15]-30611744|0,a=(a<<10|a>>>22)+e|0,i+=(e^(a|~n))+o[6]-1560198380|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~e))+o[13]+1309151649|0,n=(n<<21|n>>>11)+i|0,e+=(i^(n|~a))+o[4]-145523070|0,e=(e<<6|e>>>26)+n|0,a+=(n^(e|~i))+o[11]-1120210379|0,a=(a<<10|a>>>22)+e|0,i+=(e^(a|~n))+o[2]+718787259|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~e))+o[9]-343485551|0,n=(n<<21|n>>>11)+i|0,c[0]=e+c[0]|0,c[1]=n+c[1]|0,c[2]=i+c[2]|0,c[3]=a+c[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(D.stateIdentity),this}appendStr(c){const o=this._buffer8,e=this._buffer32;let i,a,n=this._bufferLength;for(a=0;a<c.length;a+=1){if(i=c.charCodeAt(a),i<128)o[n++]=i;else if(i<2048)o[n++]=192+(i>>>6),o[n++]=63&i|128;else if(i<55296||i>56319)o[n++]=224+(i>>>12),o[n++]=i>>>6&63|128,o[n++]=63&i|128;else{if(i=1024*(i-55296)+(c.charCodeAt(++a)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");o[n++]=240+(i>>>18),o[n++]=i>>>12&63|128,o[n++]=i>>>6&63|128,o[n++]=63&i|128}n>=64&&(this._dataLength+=64,D._md5cycle(this._state,e),n-=64,e[0]=e[16])}return this._bufferLength=n,this}appendAsciiStr(c){const o=this._buffer8,e=this._buffer32;let i,n=this._bufferLength,a=0;for(;;){for(i=Math.min(c.length-a,64-n);i--;)o[n++]=c.charCodeAt(a++);if(n<64)break;this._dataLength+=64,D._md5cycle(this._state,e),n=0}return this._bufferLength=n,this}appendByteArray(c){const o=this._buffer8,e=this._buffer32;let i,n=this._bufferLength,a=0;for(;;){for(i=Math.min(c.length-a,64-n);i--;)o[n++]=c[a++];if(n<64)break;this._dataLength+=64,D._md5cycle(this._state,e),n=0}return this._bufferLength=n,this}getState(){const c=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[c[0],c[1],c[2],c[3]]}}setState(c){const o=c.buffer,e=c.state,n=this._state;let i;for(this._dataLength=c.length,this._bufferLength=c.buflen,n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],i=0;i<o.length;i+=1)this._buffer8[i]=o.charCodeAt(i)}end(c=!1){const o=this._bufferLength,e=this._buffer8,n=this._buffer32,i=1+(o>>2);this._dataLength+=o;const a=8*this._dataLength;if(e[o]=128,e[o+1]=e[o+2]=e[o+3]=0,n.set(D.buffer32Identity.subarray(i),i),o>55&&(D._md5cycle(this._state,n),n.set(D.buffer32Identity)),a<=4294967295)n[14]=a;else{const v=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===v)return;const O=parseInt(v[2],16),S=parseInt(v[1],16)||0;n[14]=O,n[15]=S}return D._md5cycle(this._state,n),c?this._state:D._hex(this._state)}}if(D.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),D.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),D.hexChars="0123456789abcdef",D.hexOut=[],D.onePassHasher=new D,"5d41402abc4b2a76b9719d911017c592"!==D.hashStr("hello"))throw new Error("Md5 self test failed.");var U=_(1626),ot=_(1985),H=_(6354),V=_(9437),W=_(7673),at=_(8141),rt=_(8810),st=_(5312),ct=_(3656),lt=_(3931),X=_(4796);let dt=(()=>{var r;class c{constructor(e,n,i,a){this.platform=e,this.httpA=n,this.http=i,this.authService=a,this.headers=new U.Lr({"Content-Type":"application/json",Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"})}getLast60DaysAppointmentsForUser(){const e=new Date,n=this.formatDate(new Date(e.setDate(e.getDate()+30))),i=this.formatDate(new Date(e.setDate(e.getDate()-60))),a=`${st.c.apiBaseUrl}/appointments&dates=${i},${n}&skipServices=1&skipProviders=1`,v=this.authService.getUserEmail(),O={Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"};return new ot.c(S=>{this.platform.ready().then(()=>{this.platform.is("cordova")?this.httpA.get(a,{},O).then(P=>{var L;const j=(null===(L=JSON.parse(P.data).data)||void 0===L?void 0:L.appointments)||{};let z=[];for(const N in j)j.hasOwnProperty(N)&&Array.isArray(j[N].appointments)&&j[N].appointments.forEach(T=>{T.bookings&&Array.isArray(T.bookings)&&T.bookings.forEach(E=>{var $;if((null===($=E.customer)||void 0===$?void 0:$.email)===v){E.googleCalendarEventId=T.googleCalendarEventId;const Et={...T,matchedBooking:E,userBookingStatus:E.status};z.push(Et)}})});S.next(z),S.complete()}).catch(P=>{S.error(`Error fetching appointments: ${P}`)}):this.http.get(a,{headers:this.headers}).subscribe(P=>{var L;const B=(null===(L=P.data)||void 0===L?void 0:L.appointments)||{};let j=[];for(const z in B)B.hasOwnProperty(z)&&Array.isArray(B[z].appointments)&&B[z].appointments.forEach(N=>{N.bookings&&Array.isArray(N.bookings)&&N.bookings.forEach(T=>{var E;if((null===(E=T.customer)||void 0===E?void 0:E.email)===v){T.googleCalendarEventId=N.googleCalendarEventId;const $={...N,matchedBooking:T,userBookingStatus:T.status};j.push($)}})});S.next(j),S.complete()},P=>{S.error(`Error fetching appointments: ${P}`)})})})}fetchAvailablePackageSlots(e){return this.http.get(`https://k-studio.co.il/wp-json/wn/v1/package-purchases/${e}`,{}).pipe((0,H.T)(i=>{if(i&&i.data&&i.data.length>0){const a=i.data[0].packages;if(a&&a.length>0){const v=a[0].purchases;if(v&&v.length>0){const O=v[0].purchase[0].available,P=new Date(v[0].purchased);return P.setDate(P.getDate()+30),{availableSlots:O,expiryDate:`${P.getDate().toString().padStart(2,"0")}/${(P.getMonth()+1).toString().padStart(2,"0")}/${P.getFullYear()}`}}}}return{availableSlots:0,expiryDate:""}}),(0,V.W)(i=>(console.error("API Error:",i),(0,W.of)({availableSlots:0,expiryDate:""}))))}getUserPackageCustomerID(){const n=`https://k-studio.co.il/wp-json/wn/v1/package-purchases/${this.authService.getPackageCustomerId()}`;return this.http.get(n,{}).pipe((0,H.T)(i=>{i&&i.data&&i.data[0]&&i.data[0].packages[0]&&i.data[0].packages[0].purchases[0]&&i.data[0].packages[0].purchases[0].packageCustomerId&&this.authService.storePackageCustomerID(i.data[0].packages[0].purchases[0].packageCustomerId)}),(0,V.W)(i=>(console.error("API Error:",i),(0,W.of)({availableSlots:0,expiryDate:""}))))}fetchUserPurchases(e){return this.http.get(`https://k-studio.co.il/wp-json/wn/v1/user-purchases/${e}`,{}).pipe((0,H.T)(i=>(i.forEach(a=>{a.invoice_link||(a.invoice_link="")}),i||[])),(0,V.W)(i=>(console.error("Error fetching user purchases:",i),(0,W.of)([]))))}updateFavoriteLocation(e){const i="https://k-studio.co.il/wp-json/custom-api/v1/set-favorite-location?user_id="+this.authService.getUserID();return this.http.post(i,{favorite_location:e}).pipe((0,at.M)(()=>console.log("HTTP request sent")),(0,H.T)(v=>(this.authService.storeFavLocation(e),v)),(0,V.W)(v=>(console.error("HTTP Error:",v),(0,rt.$)(()=>new Error("Failed to update favorite location")))))}cancelBooking(e){return this.http.post(`https://k-studio.co.il/wp-json/wn/v1/cancel-booking/${e}`,{})}formatDate(e){return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}}return(r=c).\u0275fac=function(e){return new(e||r)(t.KVO(ct.OD),t.KVO(lt.B),t.KVO(U.Qq),t.KVO(X.u))},r.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),c})();var ut=_(4938);const pt=["popup"],J=r=>({active:r}),ft=()=>[1,2,3,4];function gt(r,c){if(1&r){const o=t.RV6();t.j41(0,"ion-content",14)(1,"ion-list")(2,"ion-item"),t.nrm(3,"ion-icon",15),t.j41(4,"div",16)(5,"input",17),t.mxI("ngModelChange",function(n){t.eBV(o);const i=t.XpG();return t.DH7(i.selectedLocation,n)||(i.selectedLocation=n),t.Njj(n)}),t.bIt("change",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.updateFavLocation("\u05d4\u05db\u05dc"))}),t.k0s(),t.j41(6,"label",18),t.EFF(7," \u05d4\u05db\u05dc "),t.k0s(),t.j41(8,"input",19),t.mxI("ngModelChange",function(n){t.eBV(o);const i=t.XpG();return t.DH7(i.selectedLocation,n)||(i.selectedLocation=n),t.Njj(n)}),t.bIt("change",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.updateFavLocation("\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"))}),t.k0s(),t.j41(9,"label",20),t.EFF(10," \u05e9.\u05e2\u05dc\u05d9\u05db\u05dd "),t.k0s(),t.j41(11,"input",21),t.mxI("ngModelChange",function(n){t.eBV(o);const i=t.XpG();return t.DH7(i.selectedLocation,n)||(i.selectedLocation=n),t.Njj(n)}),t.bIt("change",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.updateFavLocation("\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"))}),t.k0s(),t.j41(12,"label",22),t.EFF(13," \u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4 "),t.k0s(),t.nrm(14,"div",23),t.k0s()(),t.j41(15,"ion-item",24),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.logout())}),t.nrm(16,"ion-icon",25),t.j41(17,"ion-label"),t.EFF(18,"\u05d4\u05ea\u05e0\u05ea\u05e7"),t.k0s()()()()}if(2&r){const o=t.XpG();t.R7$(5),t.R50("ngModel",o.selectedLocation),t.R7$(),t.Y8G("ngClass",t.eq3(6,J,"\u05d4\u05db\u05dc"===o.favLocation)),t.R7$(2),t.R50("ngModel",o.selectedLocation),t.R7$(),t.Y8G("ngClass",t.eq3(8,J,"\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd"===o.favLocation)),t.R7$(2),t.R50("ngModel",o.selectedLocation),t.R7$(),t.Y8G("ngClass",t.eq3(10,J,"\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4"===o.favLocation))}}function mt(r,c){if(1&r&&(t.j41(0,"div",26)(1,"ion-chip"),t.nrm(2,"ion-icon",27),t.j41(3,"ion-label"),t.EFF(4),t.k0s()(),t.j41(5,"ion-chip"),t.nrm(6,"ion-icon",28),t.j41(7,"ion-label"),t.EFF(8),t.k0s()()()),2&r){const o=t.XpG();t.R7$(4),t.SpI("",o.slotsLeft," \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd \u05e0\u05d5\u05ea\u05e8\u05d5"),t.R7$(4),t.SpI("\u05ea\u05d5\u05e7\u05e3: ",o.nextRenewalDate,"")}}function ht(r,c){1&r&&(t.j41(0,"ion-item",31)(1,"ion-thumbnail",32),t.nrm(2,"ion-skeleton-text",33),t.k0s(),t.j41(3,"ion-label")(4,"h3"),t.nrm(5,"ion-skeleton-text",34),t.k0s(),t.j41(6,"p"),t.nrm(7,"ion-skeleton-text",35),t.k0s(),t.j41(8,"p"),t.nrm(9,"ion-skeleton-text",36),t.k0s()()()),2&r&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0))}function _t(r,c){1&r&&(t.j41(0,"ion-list")(1,"ion-list-header"),t.nrm(2,"ion-skeleton-text",29),t.k0s(),t.DNE(3,ht,10,4,"ion-item",30),t.k0s()),2&r&&(t.R7$(2),t.Y8G("animated",!0),t.R7$(),t.Y8G("ngForOf",t.lJ4(2,ft)))}function bt(r,c){if(1&r){const o=t.RV6();t.j41(0,"div",40)(1,"ion-button",41),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.toggleFilterDropdown())}),t.nrm(2,"ion-icon",42),t.EFF(3," \u05e1\u05d9\u05e0\u05d5\u05df "),t.k0s()()}}function vt(r,c){if(1&r){const o=t.RV6();t.j41(0,"ion-list",43)(1,"ion-item")(2,"ion-label",44),t.EFF(3,"\u05d4\u05e6\u05d2"),t.k0s(),t.j41(4,"ion-segment",45),t.mxI("ngModelChange",function(n){t.eBV(o);const i=t.XpG(2);return t.DH7(i.availabilityFilter,n)||(i.availabilityFilter=n),t.Njj(n)}),t.bIt("ionChange",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.onFilterChange())}),t.j41(5,"ion-segment-button",46)(6,"ion-label",47),t.EFF(7,"\u05d4\u05db\u05dc"),t.k0s()(),t.j41(8,"ion-segment-button",48)(9,"ion-label",47),t.nrm(10,"ion-icon",49),t.k0s()(),t.j41(11,"ion-segment-button",50)(12,"ion-label",47),t.nrm(13,"ion-icon",51),t.k0s()()()()()}if(2&r){const o=t.XpG(2);t.R7$(4),t.R50("ngModel",o.availabilityFilter)}}function yt(r,c){1&r&&t.nrm(0,"ion-icon",57)}function Ct(r,c){if(1&r){const o=t.RV6();t.j41(0,"ion-card",52),t.bIt("click",function(){const n=t.eBV(o).$implicit,i=t.XpG(2);return t.Njj("approved"===n.userBookingStatus?i.showActions(n):null)}),t.j41(1,"ion-card-header")(2,"div",53),t.nrm(3,"ion-icon",54),t.DNE(4,yt,1,0,"ion-icon",55),t.k0s(),t.j41(5,"ion-label",56)(6,"h2"),t.EFF(7),t.k0s(),t.j41(8,"p"),t.EFF(9),t.nI1(10,"date"),t.nI1(11,"date"),t.k0s()()()()}if(2&r){const o=c.$implicit,e=t.XpG(2);t.R7$(3),t.Y8G("name",e.getStatusIcon(o.userBookingStatus))("color",e.getStatusColor(o.userBookingStatus)),t.R7$(),t.Y8G("ngIf","approved"==o.userBookingStatus),t.R7$(3),t.JRh(o.title),t.R7$(2),t.Lme("",t.i5U(10,6,o.bookingStart,"dd/MM/yyyy")," | ",t.i5U(11,9,o.bookingStart,"HH:mm")," ")}}function wt(r,c){if(1&r&&(t.j41(0,"div"),t.DNE(1,bt,4,0,"div",37)(2,vt,14,1,"ion-list",38),t.j41(3,"ion-list"),t.DNE(4,Ct,12,12,"ion-card",39),t.k0s()()),2&r){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.isLoading),t.R7$(),t.Y8G("ngIf",o.showDropdown),t.R7$(2),t.Y8G("ngForOf",o.filteredAppointments)}}function Pt(r,c){if(1&r){const o=t.RV6();t.j41(0,"ion-card",52),t.bIt("click",function(){const n=t.eBV(o).$implicit,i=t.XpG(2);return t.Njj(i.downloadInvoice(n))}),t.j41(1,"ion-card-header")(2,"div",53),t.nrm(3,"ion-icon",54)(4,"ion-icon",57),t.k0s(),t.j41(5,"ion-label",56)(6,"h2"),t.EFF(7),t.k0s(),t.j41(8,"p"),t.EFF(9),t.k0s()()()()}if(2&r){const o=c.$implicit,e=t.XpG(2);t.R7$(3),t.Y8G("name",e.getStatusIcon(o.status))("color",e.getStatusColor(o.status)),t.R7$(4),t.SpI("\u05d4\u05d6\u05de\u05e0\u05d4 \u05de\u05e1' ",o.orderNumber,""),t.R7$(2),t.JRh(o.products[0].name)}}function xt(r,c){if(1&r&&(t.j41(0,"div")(1,"ion-list"),t.DNE(2,Pt,10,4,"ion-card",39),t.k0s()()),2&r){const o=t.XpG();t.R7$(2),t.Y8G("ngForOf",o.userPurchases)}}let Dt=(()=>{var r;class c{constructor(e,n,i,a,v,O,S){this.gestureCtrl=e,this.modalCtrl=n,this.actionSheetCtrl=i,this.profileService=a,this.authService=v,this.toastController=O,this.ameliaService=S,this.userRole="",this.userPhoto="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png",this.userEmail="",this.userID="",this.customerID="",this.knownTrainingTypes=["\u05e4\u05d9\u05dc\u05d0\u05d8\u05d9\u05e1","\u05d9\u05d5\u05d2\u05d4","\u05d0\u05d9\u05de\u05d5\u05df \u05db\u05d5\u05d7","Parallel 15","Spinning","TRX","Booty&ABS","All In","HiiT","POWER",""],this.selectedTab="trainings",this.isLoading=!0,this.errorMessage="",this.availabilityFilter="",this.showDropdown=!1,this.selectedType="",this.userAppointments=[],this.filteredAppointments=[],this.unfilteredAppointments=[],this.userPurchases=[],this.gravatarUrl="",this.locationEnabled=!1,this.favLocation="",this.selectedLocation="\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd",this.userName=this.authService.getUserFullName(),this.userRole=this.translateUserRole(this.authService.getUserRole()),this.customerID=this.authService.getCustomerID(),this.userID=this.authService.getUserID(),this.userEmail=this.authService.getUserEmail(),this.setGravatarUrl(),this.authService.fetchUserFavLocation().subscribe({next:P=>{this.favLocation=P.favorite_location,this.selectedLocation=P.favorite_location},error:P=>{console.error("Error fetching user fav location",P)}}),this.authService.fetchPackageCustomerId(this.customerID).subscribe({next:P=>{},error:P=>{console.error("Error fetching package id",P)}})}setGravatarUrl(){if(this.userEmail){const e=D.hashStr(this.userEmail.trim().toLowerCase());this.gravatarUrl=`https://www.gravatar.com/avatar/${e}?d=identicon`}}formatDate(e){return e.replace(/\//g,".")}ngOnInit(){var e=this;return(0,F.A)(function*(){e.profileService.fetchAvailablePackageSlots(e.customerID).subscribe(({availableSlots:i,expiryDate:a})=>{e.slotsLeft=i,e.nextRenewalDate=e.formatDate(a)},i=>{console.error("Error fetching available slots and expiry date:",i),e.slotsLeft=0,e.nextRenewalDate=""}),e.trainingsByDay=e.ameliaService.getTrainingsTitles(),e.profileService.getUserPackageCustomerID(),(!e.trainingsByDay||Object.keys(e.trainingsByDay).every(i=>0===e.trainingsByDay[i].length))&&(yield e.ameliaService.fetchTitleTrainings(),e.trainingsByDay=e.ameliaService.getTrainingsTitles());const n=localStorage.getItem("userFilterChoice");n&&(e.availabilityFilter=n),e.authService.fetchUserRole().subscribe(i=>{e.authService.storeUserRole(i.roles[0]),e.userRole=e.translateUserRole(i.roles[0])}),e.loadUserAppointmentsLast60Days(),e.updateFilteredAppointments()})()}presentToast(e,n){var i=this;return(0,F.A)(function*(){yield(yield i.toastController.create({message:e,duration:3e3,color:n,position:"bottom"})).present()})()}loadUserAppointmentsLast60Days(){var e=this;this.isLoading=!0,this.profileService.getLast60DaysAppointmentsForUser().subscribe(function(){var n=(0,F.A)(function*(i){const a=[];for(const v of i)if(v.matchedBooking){v.userBookingStatus=v.userBookingStatus;const P=R(v.bookingStart).format("YYYY-MM-DD"),L=R(v.bookingStart).format("HH:mm"),B=e.getAppointmentTitleByDateTime(P,L).then(j=>{v.title=j||"\u05db\u05dc\u05dc\u05d9"}).catch(j=>{console.error("Error fetching appointment title:",j),v.title="\u05db\u05dc\u05dc\u05d9"});a.push(B)}yield Promise.all(a),e.userAppointments=i.sort((v,O)=>R(O.bookingStart).diff(R(v.bookingStart))),e.filteredAppointments=[...e.userAppointments],e.updateFilteredAppointments(),e.isLoading=!1});return function(i){return n.apply(this,arguments)}}(),n=>{this.isLoading=!1,console.error("Error loading appointments:",n)})}getDayFromDate(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][R(e,"DD/MM/YYYY").toDate().getDay()]}getAppointmentTitleByDateTime(e,n){var i=this;return(0,F.A)(function*(){const a=R(e,"YYYY-MM-DD").format("DD/MM/YYYY"),v=i.getDayFromDate(a);if(i.trainingsByDay[v]){const O=i.trainingsByDay[v].find(S=>S.time===n);if(O)return O.title}return"\u05db\u05dc\u05dc\u05d9"})()}translateUserRole(e){return"author"===e?"\u05de\u05ea\u05d0\u05de\u05e0\u05ea":"administrator"===e?"\u05de\u05e0\u05d4\u05dc":"activesubscription"===e?"\u05de\u05e0\u05d5\u05d9 \u05e4\u05e2\u05d9\u05dc":"trainer"===e?"\u05de\u05d0\u05de\u05df":"team"===e?"\u05e6\u05d5\u05d5\u05ea":"trial-users"===e?"\u05de\u05ea\u05d0\u05de\u05e0\u05ea \u05e0\u05d9\u05e1\u05d9\u05d5\u05df":"inactive"===e?"\u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc\u05d4":"personal"===e?"\u05de\u05ea\u05d0\u05de\u05e0\u05ea \u05d0\u05d9\u05e9\u05d9\u05ea":""}ngAfterViewInit(){document.querySelectorAll(".scroll-y").forEach(i=>{i instanceof HTMLElement&&(i.style.overflowY="hidden")}),this.gestureCtrl.create({el:this.popup.nativeElement,gestureName:"swipe-to-close",onMove:i=>{i.deltaY>100&&this.modalCtrl.dismiss()}}).enable(!0)}closePopup(){this.modalCtrl.dismiss()}showActions(e){var n=this;return(0,F.A)(function*(){yield(yield n.actionSheetCtrl.create({header:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea",buttons:[{text:"\u05d1\u05d9\u05d8\u05d5\u05dc \u05d0\u05d9\u05de\u05d5\u05df",role:"destructive",icon:"close-circle-outline",handler:()=>{n.cancelBooking(e.matchedBooking.id)}},{text:"\u05e1\u05d2\u05d5\u05e8",icon:"close",role:"cancel"}]})).present()})()}downloadInvoice(e){e.invoice_link?window.open(e.invoice_link,"_blank"):(console.error("No invoice link available for this order."),this.errorMessage="\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e4\u05d9\u05e7 \u05d7\u05e9\u05d1\u05d5\u05e0\u05d9\u05ea \u05d1\u05e2\u05d1\u05d5\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4 \u05d6\u05d5.",this.presentToast(this.errorMessage,"danger"))}getStatusIcon(e){switch(e){case"approved":case"completed":return"checkmark-circle-outline";case"canceled":case"cancelled":return"close-circle-outline";case"pending":return"time-outline";case"refunded":return"cash-outline";default:return"alert-circle-outline"}}getStatusColor(e){switch(e){case"approved":case"completed":return"success";case"canceled":case"cancelled":return"danger";case"pending":case"refunded":return"warning";default:return"medium"}}translateStatus(e){switch(e){case"approved":return"\u05de\u05d0\u05d5\u05e9\u05e8";case"cancelled":return"\u05d1\u05d5\u05d8\u05dc";case"pending":return"\u05de\u05de\u05ea\u05d9\u05df";default:return"\u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"}}cancelBooking(e){this.profileService.cancelBooking(e).subscribe(n=>{n.data.cancelBookingUnavailable?(this.errorMessage="\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d1\u05d8\u05dc \u05d0\u05d9\u05de\u05d5\u05df \u05d6\u05d4",this.presentToast(this.errorMessage,"danger")):(this.errorMessage="\u05d4\u05d0\u05d9\u05de\u05d5\u05df \u05d1\u05d5\u05d8\u05dc \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",this.presentToast(this.errorMessage,"success"))},n=>{this.errorMessage="\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d1\u05d8\u05dc \u05d0\u05d9\u05de\u05d5\u05df \u05d6\u05d4, \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05e0\u05d9\u05ea",this.presentToast(this.errorMessage,"danger"),console.error("Error occurred while canceling the booking",n)})}loadUserPurchases(){this.profileService.fetchUserPurchases(this.userID).subscribe(e=>{this.userPurchases=e})}onTabChange(e){this.selectedTab=e.detail.value,"purchases"==this.selectedTab&&this.loadUserPurchases()}toggleFilterDropdown(){this.showDropdown=!this.showDropdown}onFilterChange(){this.updateFilteredAppointments(),localStorage.setItem("userFilterChoice",this.availabilityFilter)}updateFilteredAppointments(){let e=[...this.userAppointments];"approved"===this.availabilityFilter?e=e.filter(n=>"approved"===n.userBookingStatus):"cancelled"===this.availabilityFilter&&(e=e.filter(n=>"canceled"===n.userBookingStatus)),this.filteredAppointments=e}logout(){this.authService.logout(),window.location.reload(),console.log("Logged out")}updateFavLocation(e){this.favLocation=e,this.selectedLocation=e,this.profileService.updateFavoriteLocation(e).subscribe(n=>{},n=>{console.error("Error:",n)})}}return(r=c).\u0275fac=function(e){return new(e||r)(t.rXU(l.wH),t.rXU(l.W3),t.rXU(l.GD),t.rXU(dt),t.rXU(X.u),t.rXU(l.K_),t.rXU(ut.J))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-profile-popup"]],viewQuery:function(e,n){if(1&e&&t.GBs(pt,5),2&e){let i;t.mGM(i=t.lsd())&&(n.popup=i.first)}},decls:24,vars:7,consts:[["popup","","mainContentProfile",""],[1,"popup-modal"],[1,"drag-handle"],[1,"profile-section"],["alt","User Avatar",1,"avatar",3,"src"],["name","settings-outline","id","settings-trigger",1,"settings-icon"],["trigger","settings-trigger","triggerAction","click","dismissOnSelect","false",1,"profilePopover"],["class","subscriptionDetails",4,"ngIf"],[1,"inside-container"],[1,"header-tabs"],["mode","md",1,"segment-tab",3,"ngModelChange","ionChange","ngModel"],["value","trainings",1,"header-tab"],["value","purchases",1,"header-tab"],[4,"ngIf"],[1,"scroll-y-hidden","ion-padding"],["slot","start","name","location-outline"],[1,"custom-three-way-toggle"],["type","radio","id","right","name","location","value","\u05d4\u05db\u05dc",3,"ngModelChange","change","ngModel"],["for","right",3,"ngClass"],["type","radio","id","center","name","location","value","\u05e9\u05dc\u05d5\u05dd \u05e2\u05dc\u05d9\u05db\u05dd",3,"ngModelChange","change","ngModel"],["for","center",3,"ngClass"],["type","radio","id","left","name","location","value","\u05d1\u05df \u05d9\u05d4\u05d5\u05d3\u05d4",3,"ngModelChange","change","ngModel"],["for","left",3,"ngClass"],[1,"slider"],["button","",3,"click"],["slot","start","name","log-out-outline"],[1,"subscriptionDetails"],["name","barbell-outline","color","medium"],["name","calendar-outline","color","medium"],[2,"width","80px",3,"animated"],["lines","none","class","skeleton-item",4,"ngFor","ngForOf"],["lines","none",1,"skeleton-item"],["slot","start"],[3,"animated"],[2,"width","80%",3,"animated"],[2,"width","60%",3,"animated"],[2,"width","30%",3,"animated"],["class","filter-header",4,"ngIf"],["class","filter-dropdown",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[1,"filter-header"],["fill","outline",1,"filter-button",3,"click"],["name","options-outline","slot","start"],[1,"filter-dropdown"],[2,"text-indent","8px"],[3,"ngModelChange","ionChange","ngModel"],["value","all",1,"sub-label-segment"],[1,"sub-label"],["value","approved",1,"sub-label-segment"],["name","checkmark-circle-outline","slot","start","color","success"],["value","cancelled",1,"sub-label-segment"],["name","close-circle-outline","slot","start","color","danger"],[3,"click"],[1,"icon-container"],[1,"status-icon",3,"name","color"],["name","chevron-forward-outline","class","arrow-icon",4,"ngIf"],[1,"training-details"],["name","chevron-forward-outline",1,"arrow-icon"]],template:function(e,n){if(1&e){const i=t.RV6();t.j41(0,"ion-content",1,0),t.nrm(3,"div",2),t.j41(4,"div",3),t.nrm(5,"img",4),t.j41(6,"h2"),t.EFF(7),t.k0s(),t.nrm(8,"ion-icon",5),t.j41(9,"ion-popover",6),t.DNE(10,gt,19,12,"ng-template"),t.k0s(),t.DNE(11,mt,9,2,"div",7),t.k0s(),t.j41(12,"div",8)(13,"div",9)(14,"ion-segment",10),t.mxI("ngModelChange",function(v){return t.eBV(i),t.DH7(n.selectedTab,v)||(n.selectedTab=v),t.Njj(v)}),t.bIt("ionChange",function(v){return t.eBV(i),t.Njj(n.onTabChange(v))}),t.j41(15,"ion-segment-button",11)(16,"ion-label"),t.EFF(17,"\u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd"),t.k0s()(),t.j41(18,"ion-segment-button",12)(19,"ion-label"),t.EFF(20,"\u05e8\u05db\u05d9\u05e9\u05d5\u05ea"),t.k0s()()()(),t.DNE(21,_t,4,3,"ion-list",13)(22,wt,5,3,"div",13)(23,xt,3,1,"div",13),t.k0s()()}2&e&&(t.R7$(5),t.Y8G("src",n.gravatarUrl,t.B4B),t.R7$(2),t.JRh(n.userName),t.R7$(4),t.Y8G("ngIf",n.nextRenewalDate),t.R7$(3),t.R50("ngModel",n.selectedTab),t.R7$(7),t.Y8G("ngIf",n.isLoading),t.R7$(),t.Y8G("ngIf","trainings"===n.selectedTab),t.R7$(),t.Y8G("ngIf","purchases"===n.selectedTab))},dependencies:[g.YU,g.Sq,g.bT,s.me,s.Fm,s.BC,s.vS,l.Jm,l.b_,l.ME,l.ZB,l.W9,l.iq,l.uz,l.he,l.nf,l.AF,l.Gp,l.eP,l.ds,l.Zx,l.CF,l.Je,g.vh],styles:['.popup-modal[_ngcontent-%COMP%]{height:80vh;border-top-left-radius:20px;border-top-right-radius:20px;background:#fff;padding:10px;box-shadow:0 -4px 12px #0000001a;overflow-y:auto;max-height:100vh}.drag-handle[_ngcontent-%COMP%]{width:40px;height:5px;background-color:transparent;border-radius:2.5px;margin:0 auto 15px}.profile-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.packageInfo[_ngcontent-%COMP%]{font-family:Alef;text-align:center;font-weight:700}.header-tab[_ngcontent-%COMP%]{justify-content:center;align-items:center;width:100%;padding:0;border:none;box-shadow:none;padding:none;--indicator-color: transparent}.header-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none}.segment-button-checked[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border-radius:12px;--indicator-color: transparent;color:#000}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1em;font-weight:700;font-family:Alef}.sub-label-segment[_ngcontent-%COMP%]{font-size:1.2em;display:flex;align-items:center;justify-content:center;text-align:center;gap:4px}.sub-label-segment[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.2em;vertical-align:middle}.ion-segment-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#59c7cd;border-radius:12px;transition:all .3s ease}.settings-icon[_ngcontent-%COMP%]{font-size:24px;position:absolute;top:5%;right:15px;color:#888;cursor:pointer;opacity:.7}.avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;margin-bottom:20px}h2[_ngcontent-%COMP%]{font-size:1.5em;color:#333;text-align:right;line-height:10px}p[_ngcontent-%COMP%]{font-size:1em;color:#666;text-align:right}ion-card[_ngcontent-%COMP%]{margin-bottom:10px;border-radius:15px;box-shadow:0 4px 8px #0000001a;display:flex;flex-direction:row;align-items:center}ion-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;padding-left:35%;width:100%}.training-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;margin:0 auto}.training-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;margin-top:15px}.training-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin:0}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-self:center;position:absolute;left:10px;top:35%}.status-icon[_ngcontent-%COMP%]{font-size:24px;color:red;margin-left:10px}.arrow-icon[_ngcontent-%COMP%]{font-size:24px;color:#888}ion-segment-button.ion-activated[_ngcontent-%COMP%]{--background: #3498db;--color: red;box-shadow:0 4px 12px #007bff4d}.ios[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{font-size:1.1em}.subscriptionDetails[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;flex-direction:column}.filter-segment[_ngcontent-%COMP%]{color:red}.filter-button[_ngcontent-%COMP%]{--border-radius: 30px;--padding-start: 15px;--padding-end: 15px;--background: #fff;--box-shadow: 0px 4px 6px rgba(0, 0, 0, .1);--color: #000;--icon-size: 20px;--border-color: #E5E5E5;display:flex;justify-content:center;align-items:center;width:150px;margin:20px auto 10px}.filter-button[_ngcontent-%COMP%]:hover{--background: #f5f5f5}.filter-dropdown[_ngcontent-%COMP%]{margin-bottom:15px;background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;width:100%}.sub-label[_ngcontent-%COMP%]{color:#2c2c2c;font-weight:400!important;font-size:18px}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #000}ion-popover[_ngcontent-%COMP%]{--width: 95%;--border-radius: 12px;--box-shadow: 0px 4px 8px rgba(0, 0, 0, .1);overflow-y:hidden!important}ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-medium)}ion-toggle[_ngcontent-%COMP%]{margin-left:auto;--handle-background: var(--ion-color-primary)}ion-popover[_ngcontent-%COMP%]{--background: #ffffff;--border-radius: 12px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .1);--padding: 16px}.popover-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.popover-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;border-radius:8px;transition:background-color .2s ease-in-out}.popover-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.popover-button[_ngcontent-%COMP%]{color:#fff;background-color:orange;border-radius:20px;padding:8px 16px;font-weight:700}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{overflow:hidden!important;height:auto!important}ion-popover[_ngcontent-%COMP%]   .scroll-content[_ngcontent-%COMP%]{overflow-y:hidden!important}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.scrollbar[_ngcontent-%COMP%]{display:none!important}.scroll-y-hidden[_ngcontent-%COMP%]{overflow-y:hidden!important}ion-toggle[_ngcontent-%COMP%]{padding:12px;margin-left:auto;--handle-background: var(--ion-color-primary);--background: var(--ion-color-light);--track-background: #ddd;--track-background-checked: #ddd;--handle-background: #59c7cd;--handle-background-checked: #ff8366;--handle-width: 25px;--handle-height: 27px;--handle-max-height: auto;--handle-spacing: 6px;--handle-border-radius: 4px;--handle-box-shadow: none}ion-toggle[_ngcontent-%COMP%]::part(track){height:10px;width:65px;overflow:visible}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:var(--ion-color-medium);margin:0}.fav-location[_ngcontent-%COMP%]{font-size:.75rem;color:var(--ion-color-medium);margin:4px 0 0}ion-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:700}ion-item[_ngcontent-%COMP%]{--border-width: 0;--inner-border-width: 0;border:none;box-shadow:none}.title[_ngcontent-%COMP%]{font-size:.9rem;color:var(--ion-color-dark);line-height:1.2;margin-bottom:2px}.description[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-medium);line-height:1.2;margin:0}.custom-three-way-toggle[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;width:100%;max-width:300px}.custom-three-way-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.custom-three-way-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;flex:1;text-align:center;z-index:1;color:#050505;font-size:14px;line-height:40px}.custom-three-way-toggle[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:33.33%;height:100%;background-color:#ff8366;transition:all .3s ease;z-index:0;border-radius:20px}.custom-three-way-toggle[_ngcontent-%COMP%]   input#left[_ngcontent-%COMP%]:checked ~ .slider[_ngcontent-%COMP%]{color:#fff;background-color:#59c7cd;transform:translate(0)}.custom-three-way-toggle[_ngcontent-%COMP%]   input#center[_ngcontent-%COMP%]:checked ~ .slider[_ngcontent-%COMP%]{color:#fff;background-color:#ff8366;transform:translate(100%)}.custom-three-way-toggle[_ngcontent-%COMP%]   input#right[_ngcontent-%COMP%]:checked ~ .slider[_ngcontent-%COMP%]{color:#fff;background-color:orange;transform:translate(200%)}.custom-three-way-toggle[_ngcontent-%COMP%]   input#left[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.custom-three-way-toggle[_ngcontent-%COMP%]   input#center[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.custom-three-way-toggle[_ngcontent-%COMP%]   input#right[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}']}),c})();var Mt=_(345);let Ot=(()=>{var r;class c{constructor(e,n,i){this.http=e,this.sanitizer=n,this.router=i,this.sanitizedWordPressUrl=null}ngOnInit(){this.loadWordPressPage(),window.addEventListener("message",this.handlePostMessage.bind(this))}loadWordPressPage(){this.sanitizedWordPressUrl=this.sanitizer.bypassSecurityTrustResourceUrl("https://k-studio.co.il/purchases-angular/")}handlePostMessage(e){e.data&&e.data.productId&&e.data.checkoutUrl&&this.purchaseProduct(e.data.productId,e.data.checkoutUrl)}purchaseProduct(e,n){const i=localStorage.getItem("auth_token");if(!i)return void alert("User is not logged in.");const v=new U.Lr({"Content-Type":"application/json",Authorization:`Bearer ${i}`});this.http.post("https://k-studio.co.il/wp-json/jwt-auth/v1/token/validate",{},{headers:v}).subscribe(O=>{console.log("User authenticated successfully:",O),window.location.href=`${n}?jwt_token=${i}`},O=>{console.error("Error authenticating user:",O),alert("Authentication failed. Please log in again.")})}loginAndRedirectToCart(){const e=localStorage.getItem("auth_token");if(!e)return void console.error("No auth token found");const n=new U.Lr({Authorization:`Bearer ${e}`});this.http.post("https://k-studio.co.il/wp-json/jwt-auth/v1/token/validate",{},{headers:n}).subscribe(i=>{i.success?window.location.href="https://k-studio.co.il/?add-to-cart=9735":console.error("Authentication failed")},i=>{console.error("Error during login",i)})}}return(r=c).\u0275fac=function(e){return new(e||r)(t.rXU(U.Qq),t.rXU(Mt.up),t.rXU(Y.Ix))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-purchase"]],decls:4,vars:1,consts:[[3,"click"],["width","100%","height","100%","frameborder","0",3,"src"]],template:function(e,n){1&e&&(t.j41(0,"ion-content")(1,"button",0),t.bIt("click",function(){return n.loginAndRedirectToCart()}),t.EFF(2,"Add to Cart"),t.k0s(),t.nrm(3,"iframe",1),t.k0s()),2&e&&(t.R7$(3),t.Y8G("src",n.sanitizedWordPressUrl,t.f$h))},dependencies:[l.W9]}),c})();var St=_(5058),It=_(3952),G=_.n(It);let kt=(()=>{var r;class c{constructor(e){this.http=e,this.apiURL="https://k-studio.co.il/wp-json/wn/v1/blocks"}getBlocks(){return this.http.get(this.apiURL)}}return(r=c).\u0275fac=function(e){return new(e||r)(t.KVO(U.Qq))},r.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),c})();const At=["mainContent"];function Ft(r,c){1&r&&(t.j41(0,"div"),t.nrm(1,"ion-skeleton-text",21)(2,"ion-skeleton-text",21)(3,"ion-skeleton-text",21),t.k0s())}function Lt(r,c){if(1&r&&(t.j41(0,"div",22),t.nrm(1,"img",23),t.j41(2,"ion-card-header",24)(3,"ion-card-title",25),t.EFF(4),t.k0s()(),t.j41(5,"ion-card-content",26),t.EFF(6),t.k0s()()),2&r){const o=c.$implicit;t.R7$(),t.Y8G("src",o.image,t.B4B),t.R7$(3),t.JRh(o.title),t.R7$(2),t.SpI(" ",o.description," ")}}(0,St.kz)();const jt=[{path:"",component:(()=>{var r;class c{constructor(e,n,i,a,v){this.blocksService=e,this.modalCtrl=n,this.modalCtrl1=i,this.modalCtrl2=a,this.authService=v,this.userName="Ruth Black",this.userMembershipType="Premium Member",this.upcomingLessons=[],this.fitnessTips=[],this.isLoading=!0}ngOnInit(){setTimeout(()=>{new Z.S(".swiper-container",{slidesPerView:"auto",spaceBetween:10,centeredSlides:!1,loop:!0,freeMode:!1,pagination:{el:".swiper-pagination",clickable:!0}})},0),this.blocksService.getBlocks().subscribe(e=>{this.fitnessTips=e,this.isLoading=!1},e=>{console.error("Error fetching blocks",e),this.isLoading=!1})}setupOneSignal(){var e=this;G().Debug.setLogLevel(6),G().initialize("83270e8d-d7ee-4904-91a7-47d1f71e9dd6");const n=this.authService.getUserEmail();n?G().User.addTag("email",n):G().User.addTag("email","error"),G().Notifications.addEventListener("click",function(){var i=(0,F.A)(function*(a){let v=a.notification;e.storeNotification(v),console.log("Notification clicked: ",v)});return function(a){return i.apply(this,arguments)}}()),G().Notifications.requestPermission(!0).then(i=>{console.log("Notification permission granted "+i)})}storeNotification(e){console.log("store notifications:",e);let n=JSON.parse(localStorage.getItem("notifications")||"[]");n.unshift({title:e.title,message:e.body,timestamp:new Date}),n.length>5&&(n=n.slice(0,5)),localStorage.setItem("notifications",JSON.stringify(n))}openNotifications(){var e=this;return(0,F.A)(function*(){const n=yield e.modalCtrl1.create({component:nt,cssClass:"notification-popup",presentingElement:yield e.modalCtrl1.getTop(),breakpoints:[0,.5,1],initialBreakpoint:.5});return yield n.present(),e.setDisableScroll(!0),n.onDidDismiss().then(()=>{e.setDisableScroll(!1)}),yield n.present()})()}openWhatsApp(){window.open("https://wa.me/+972547937089","_blank")}openTrainings(){var e=this;return(0,F.A)(function*(){const n=yield e.modalCtrl.create({component:it.T,cssClass:"trainings-popup",presentingElement:yield e.modalCtrl.getTop(),breakpoints:[0,.85,1],initialBreakpoint:.85});return yield n.present(),e.setDisableScroll(!0),n.onDidDismiss().then(()=>{e.setDisableScroll(!1)}),yield n.present()})()}setDisableScroll(e){var n=this;return(0,F.A)(function*(){(yield n.mainContent.getScrollElement()).style.overflowY=e?"hidden":"scroll"})()}openProfile(){var e=this;return(0,F.A)(function*(){if(e.authService.isLoggedIn()){const n=yield e.modalCtrl2.create({component:Dt,cssClass:"profile-popup",presentingElement:yield e.modalCtrl2.getTop(),breakpoints:[0,.85,1],initialBreakpoint:.85});yield n.present(),e.setDisableScroll(!0),n.onDidDismiss().then(()=>{e.setDisableScroll(!1)})}else console.log("User Not Logged In!")})()}openPurchase(){var e=this;return(0,F.A)(function*(){if(e.authService.isLoggedIn())return yield(yield e.modalCtrl2.create({component:Ot,cssClass:"app-purchase",presentingElement:yield e.modalCtrl2.getTop(),breakpoints:[0,.85,1],initialBreakpoint:.85})).present();console.log("User Not Logged In!")})()}}return(r=c).\u0275fac=function(e){return new(e||r)(t.rXU(kt),t.rXU(l.W3),t.rXU(l.W3),t.rXU(l.W3),t.rXU(X.u))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-home"]],viewQuery:function(e,n){if(1&e&&t.GBs(At,5),2&e){let i;t.mGM(i=t.lsd())&&(n.mainContent=i.first)}},decls:34,vars:2,consts:[["mainContent",""],[1,"ion-padding","ion-iphone"],[1,"header-row"],["fill","clear",1,"bell-icon",3,"click"],["slot","icon-only","name","notifications-outline"],["color","dark"],[1,"page-title","home"],["fill","clear",1,"whatsapp-icon",3,"click"],["slot","icon-only","name","logo-whatsapp"],[1,"news-card"],[4,"ngIf"],[1,"swiper-container"],[1,"swiper-wrapper"],["class","swiper-slide",4,"ngFor","ngForOf"],[1,"swiper-pagination"],[1,"custom-nav-bar"],[1,"nav-item"],["name","home-outline"],[1,"nav-item",3,"click"],["name","barbell-outline"],["name","person-outline"],["animated","",2,"width","100%","height","150px"],[1,"swiper-slide"],["alt","tip image",1,"fitness-card-img",3,"src"],[1,"fitness-card-header"],[1,"fitness-card-title"],[1,"fitness-card-content"]],template:function(e,n){if(1&e){const i=t.RV6();t.j41(0,"ion-content",1,0)(2,"div",2)(3,"ion-button",3),t.bIt("click",function(){return t.eBV(i),t.Njj(n.openNotifications())}),t.nrm(4,"ion-icon",4),t.k0s(),t.j41(5,"ion-text",5)(6,"h1",6),t.EFF(7,"K Studio"),t.k0s()(),t.j41(8,"ion-button",7),t.bIt("click",function(){return t.eBV(i),t.Njj(n.openWhatsApp())}),t.nrm(9,"ion-icon",8),t.k0s()(),t.j41(10,"ion-card",9)(11,"ion-card-header")(12,"ion-card-title"),t.EFF(13,"\u05de\u05d4 \u05d7\u05d3\u05e9?"),t.k0s()(),t.j41(14,"ion-card-content"),t.EFF(15," \u05db\u05d0\u05df \u05ea\u05d5\u05db\u05dc\u05d9 \u05dc\u05de\u05e6\u05d5\u05d0 \u05d8\u05d9\u05e4\u05d9\u05dd \u05d5\u05e0\u05d5\u05e9\u05d0\u05d9\u05dd \u05d7\u05d3\u05e9\u05d9\u05dd \u05de\u05d0\u05d9\u05ea\u05e0\u05d5 \u05d0\u05dc\u05d9\u05d9\u05da. "),t.k0s()(),t.DNE(16,Ft,4,0,"div",10),t.j41(17,"div",11)(18,"div",12),t.DNE(19,Lt,7,3,"div",13),t.k0s(),t.nrm(20,"div",14),t.k0s()(),t.j41(21,"div",15)(22,"div",16),t.nrm(23,"ion-icon",17),t.j41(24,"ion-label"),t.EFF(25,"\u05d1\u05d9\u05ea"),t.k0s()(),t.j41(26,"div",18),t.bIt("click",function(){return t.eBV(i),t.Njj(n.openTrainings())}),t.nrm(27,"ion-icon",19),t.j41(28,"ion-label"),t.EFF(29,"\u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd"),t.k0s()(),t.j41(30,"div",18),t.bIt("click",function(){return t.eBV(i),t.Njj(n.openProfile())}),t.nrm(31,"ion-icon",20),t.j41(32,"ion-label"),t.EFF(33,"\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"),t.k0s()()()}2&e&&(t.R7$(16),t.Y8G("ngIf",n.isLoading),t.R7$(3),t.Y8G("ngForOf",n.fitnessTips))},dependencies:[g.Sq,g.bT,l.Jm,l.b_,l.I9,l.ME,l.tN,l.W9,l.iq,l.he,l.ds,l.IO],styles:[".swiper-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:70px}.swiper-wrapper[_ngcontent-%COMP%]{display:flex;width:200vh}.swiper-slide[_ngcontent-%COMP%]{width:900px;max-width:900px;height:10%;background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:20px;margin-right:10px}.ion-iphone[_ngcontent-%COMP%]{padding-top:constant(safe-area-inset-top)!important;padding-top:env(safe-area-inset-top)!important}.fitness-card[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:15px;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}.fitness-card-img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:15px 15px 0 0;object-position:top}.fitness-card-header[_ngcontent-%COMP%]{height:60px;padding:15px;text-align:center;display:flex;align-items:center;justify-content:center}.fitness-card-title[_ngcontent-%COMP%]{font-size:1.4em;color:#333;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fitness-card-content[_ngcontent-%COMP%]{-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:block;padding:15px;height:auto;font-size:1em;line-height:1.5;color:#5d5d5d;font-weight:400}ion-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:#333;margin-bottom:20px;text-align:right;font-family:Alef}ion-header[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #feca57, #ff6b6b);--color: #ffffff}ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--box-shadow: none}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgb(200 200 200 / 80%), rgba(255, 255, 255, .6));display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding:20px}.page-title[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:#333;margin:0;flex-grow:1;text-align:center;padding-top:10px}.home[_ngcontent-%COMP%]{font-family:Teko;font-size:36px}.news-card[_ngcontent-%COMP%]{border-radius:20px;background:linear-gradient(135deg,#c38a49,#ccb08a);color:#fff}.header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:10px 15px;position:relative}ion-button[_ngcontent-%COMP%]   .whatsapp-icon[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #6ee39a, #128C7E);--box-shadow: 0 4px 12px rgba(255, 107, 107, .4);border-radius:10px;font-family:Alef,sans-serif;font-weight:500}ion-button[_ngcontent-%COMP%]   .bell-button[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #feca57, #ffa1a1);--box-shadow: 0 4px 12px rgba(255, 107, 107, .4);border-radius:10px;font-family:Alef,sans-serif;font-weight:500}ion-button[color=secondary][_ngcontent-%COMP%]{--background: #54a0ff}ion-header[_ngcontent-%COMP%]{--background: #2e86de;--color: #ffffff}ion-toolbar[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:space-between;align-items:center}ion-icon[_ngcontent-%COMP%]{font-size:24px}.bell-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff;background:linear-gradient(135deg,#feca57,#ffa1a1);border-radius:10px;box-shadow:0 4px 12px #0000001a}.whatsapp-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff;background:linear-gradient(135deg,#6ee39a,#128c7e);border-radius:10px;box-shadow:0 4px 12px #0000001a}.app-logo[_ngcontent-%COMP%]{height:35px;width:auto;margin:0 auto}ion-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:#333;margin-top:20px;margin-bottom:20px;text-align:right}ion-card[_ngcontent-%COMP%]{background:#fffc;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;margin:20px 0}.custom-nav-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;height:60px;background-color:#fff;border-top:1px solid #e0e0e0;display:flex;justify-content:space-around;align-items:center;box-shadow:0 -2px 10px #0000001a;z-index:1000}.ios[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]{margin-top:5%}.ios[_ngcontent-%COMP%]   .ion-padding[_ngcontent-%COMP%]{margin-bottom:20%}.nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;color:#666;font-size:12px}.nav-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5px;--color: #666}.nav-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px;color:#666}.nav-item-active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .nav-item-active[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#3498db}.nav-item[_ngcontent-%COMP%]:hover   ion-icon[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%]:hover   ion-label[_ngcontent-%COMP%]{color:#3498db}.nav-item[_ngcontent-%COMP%]:active   ion-icon[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%]:active   ion-label[_ngcontent-%COMP%]{color:#2980b9}"]}),c})()}];let Tt=(()=>{var r;class c{}return(r=c).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[Y.iI.forChild(jt),Y.iI]}),c})(),Nt=(()=>{var r;class c{}return(r=c).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[g.MD,s.YN,l.bv,Tt,h.Fg,m.Hl,M.s5,Q]}),c})()},1492:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.LogLevel=void 0;var _=function(s){return s[s.None=0]="None",s[s.Fatal=1]="Fatal",s[s.Error=2]="Error",s[s.Warn=3]="Warn",s[s.Info=4]="Info",s[s.Debug=5]="Debug",s[s.Verbose=6]="Verbose",s}(_||(b.LogLevel=_={})),g=function(){function s(){}return s.prototype.setLogLevel=function(h){window.cordova.exec(function(){},function(){},"OneSignalPush","setLogLevel",[h])},s.prototype.setAlertLevel=function(h){window.cordova.exec(function(){},function(){},"OneSignalPush","setAlertLevel",[h])},s}();b.default=g},9639:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var _=function(){function g(){this._inAppMessageClickListeners=[],this._willDisplayInAppMessageListeners=[],this._didDisplayInAppMessageListeners=[],this._willDismissInAppMessageListeners=[],this._didDismissInAppMessageListeners=[]}return g.prototype._processFunctionList=function(s,h){for(var m=0;m<s.length;m++)s[m](h)},g.prototype.addEventListener=function(s,h){var m=this;if("click"===s)this._inAppMessageClickListeners.push(h),window.cordova.exec(function(y){m._processFunctionList(m._inAppMessageClickListeners,y)},function(){},"OneSignalPush","setInAppMessageClickHandler",[]);else if("willDisplay"===s)this._willDisplayInAppMessageListeners.push(h),window.cordova.exec(function(y){m._processFunctionList(m._willDisplayInAppMessageListeners,y)},function(){},"OneSignalPush","setOnWillDisplayInAppMessageHandler",[]);else if("didDisplay"===s)this._didDisplayInAppMessageListeners.push(h),window.cordova.exec(function(y){m._processFunctionList(m._didDisplayInAppMessageListeners,y)},function(){},"OneSignalPush","setOnDidDisplayInAppMessageHandler",[]);else if("willDismiss"===s)this._willDismissInAppMessageListeners.push(h),window.cordova.exec(function(y){m._processFunctionList(m._willDismissInAppMessageListeners,y)},function(){},"OneSignalPush","setOnWillDismissInAppMessageHandler",[]);else{if("didDismiss"!==s)return;this._didDismissInAppMessageListeners.push(h),window.cordova.exec(function(y){m._processFunctionList(m._didDismissInAppMessageListeners,y)},function(){},"OneSignalPush","setOnDidDismissInAppMessageHandler",[])}},g.prototype.removeEventListener=function(s,h){if("click"===s)-1!==(m=this._inAppMessageClickListeners.indexOf(h))&&this._inAppMessageClickListeners.splice(m,1);else if("willDisplay"===s)-1!==(m=this._willDisplayInAppMessageListeners.indexOf(h))&&this._willDisplayInAppMessageListeners.splice(m,1);else if("didDisplay"===s)-1!==(m=this._didDisplayInAppMessageListeners.indexOf(h))&&this._willDisplayInAppMessageListeners.splice(m,1);else if("willDismiss"===s)-1!==(m=this._willDismissInAppMessageListeners.indexOf(h))&&this._willDismissInAppMessageListeners.splice(m,1);else{if("didDismiss"!==s)return;var m;-1!==(m=this._didDismissInAppMessageListeners.indexOf(h))&&this._didDismissInAppMessageListeners.splice(m,1)}},g.prototype.addTrigger=function(s,h){var m,M=((m={})[s]=h,m);this.addTriggers(M)},g.prototype.addTriggers=function(s){Object.keys(s).forEach(function(h){"string"!=typeof s[h]&&(s[h]=JSON.stringify(s[h]))}),window.cordova.exec(function(){},function(){},"OneSignalPush","addTriggers",[s])},g.prototype.removeTrigger=function(s){this.removeTriggers([s])},g.prototype.removeTriggers=function(s){Array.isArray(s)||console.error("OneSignal: removeTriggers: argument must be of type Array"),window.cordova.exec(function(){},function(){},"OneSignalPush","removeTriggers",[s])},g.prototype.clearTriggers=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","clearTriggers")},g.prototype.setPaused=function(s){window.cordova.exec(function(){},function(){},"OneSignalPush","setPaused",[s])},g.prototype.getPaused=function(){return new Promise(function(s,h){window.cordova.exec(s,h,"OneSignalPush","isPaused",[])})},g}();b.default=_},9430:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var _=function(){function g(){}return g.prototype.enter=function(s,h,m,M){null==m&&(m=function(){}),null==M&&(M=function(){}),window.cordova.exec(m,M,"OneSignalPush","enterLiveActivity",[s,h])},g.prototype.exit=function(s,h,m){null==h&&(h=function(){}),null==m&&(m=function(){}),window.cordova.exec(h,m,"OneSignalPush","exitLiveActivity",[s])},g.prototype.setPushToStartToken=function(s,h){window.cordova.exec(function(){},function(){},"OneSignalPush","setPushToStartToken",[s,h])},g.prototype.removePushToStartToken=function(s){window.cordova.exec(function(){},function(){},"OneSignalPush","removePushToStartToken",[s])},g.prototype.setupDefault=function(s){window.cordova.exec(function(){},function(){},"OneSignalPush","setupDefaultLiveActivity",[s])},g.prototype.startDefault=function(s,h,m){window.cordova.exec(function(){},function(){},"OneSignalPush","startDefaultLiveActivity",[s,h,m])},g}();b.default=_},70:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var _=function(){function g(){}return g.prototype.requestPermission=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","requestLocationPermission",[])},g.prototype.setShared=function(s){window.cordova.exec(function(){},function(){},"OneSignalPush","setLocationShared",[s])},g.prototype.isShared=function(){return new Promise(function(s,h){window.cordova.exec(s,h,"OneSignalPush","isLocationShared",[])})},g}();b.default=_},2252:(k,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NotificationWillDisplayEvent=void 0;var g=_(311),s=function(){function h(m){this.notification=new g.OSNotification(m)}return h.prototype.preventDefault=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","preventDefault",[this.notification.notificationId])},h.prototype.getNotification=function(){return this.notification},h}();b.NotificationWillDisplayEvent=s},557:function(k,b,_){var g=this&&this.__awaiter||function(l,t,d,p){return new(d||(d=Promise))(function(f,w){function x(C){try{u(p.next(C))}catch(A){w(A)}}function I(C){try{u(p.throw(C))}catch(A){w(A)}}function u(C){C.done?f(C.value):function y(f){return f instanceof d?f:new d(function(w){w(f)})}(C.value).then(x,I)}u((p=p.apply(l,t||[])).next())})},s=this&&this.__generator||function(l,t){var p,y,f,w,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return w={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w;function x(u){return function(C){return function I(u){if(p)throw new TypeError("Generator is already executing.");for(;w&&(w=0,u[0]&&(d=0)),d;)try{if(p=1,y&&(f=2&u[0]?y.return:u[0]?y.throw||((f=y.return)&&f.call(y),0):y.next)&&!(f=f.call(y,u[1])).done)return f;switch(y=0,f&&(u=[2&u[0],f.value]),u[0]){case 0:case 1:f=u;break;case 4:return d.label++,{value:u[1],done:!1};case 5:d.label++,y=u[1],u=[0];continue;case 7:u=d.ops.pop(),d.trys.pop();continue;default:if(!(f=(f=d.trys).length>0&&f[f.length-1])&&(6===u[0]||2===u[0])){d=0;continue}if(3===u[0]&&(!f||u[1]>f[0]&&u[1]<f[3])){d.label=u[1];break}if(6===u[0]&&d.label<f[1]){d.label=f[1],f=u;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(u);break}f[2]&&d.ops.pop(),d.trys.pop();continue}u=t.call(l,d)}catch(C){u=[6,C],y=0}finally{p=f=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,C])}}};Object.defineProperty(b,"__esModule",{value:!0}),b.OSNotificationPermission=void 0;var h=_(2252),m=function(l){return l[l.NotDetermined=0]="NotDetermined",l[l.Denied=1]="Denied",l[l.Authorized=2]="Authorized",l[l.Provisional=3]="Provisional",l[l.Ephemeral=4]="Ephemeral",l}(m||(b.OSNotificationPermission=m={})),M=function(){function l(){this._permissionObserverList=[],this._notificationClickedListeners=[],this._notificationWillDisplayListeners=[]}return l.prototype._processFunctionList=function(t,d){for(var p=0;p<t.length;p++)t[p](d)},l.prototype._setPropertyAndObserver=function(){var t=this;window.cordova.exec(function(p){t._permission=p},function(){},"OneSignalPush","getPermissionInternal"),this.addEventListener("permissionChange",function(p){t._permission=p})},l.prototype.hasPermission=function(){return this._permission||!1},l.prototype.getPermissionAsync=function(){return g(this,void 0,void 0,function(){return s(this,function(t){return[2,new Promise(function(d,p){window.cordova.exec(d,p,"OneSignalPush","getPermissionInternal")})]})})},l.prototype.permissionNative=function(){return new Promise(function(t,d){window.cordova.exec(t,d,"OneSignalPush","permissionNative",[])})},l.prototype.requestPermission=function(t){var d=null!=t&&t;return new Promise(function(p,y){window.cordova.exec(p,y,"OneSignalPush","requestPermission",[d])})},l.prototype.canRequestPermission=function(){return new Promise(function(t,d){window.cordova.exec(t,d,"OneSignalPush","canRequestPermission",[])})},l.prototype.registerForProvisionalAuthorization=function(t){window.cordova.exec(t,function(){},"OneSignalPush","registerForProvisionalAuthorization",[])},l.prototype.addEventListener=function(t,d){var p=this;if("click"===t)this._notificationClickedListeners.push(d),window.cordova.exec(function(x){p._processFunctionList(p._notificationClickedListeners,x)},function(){},"OneSignalPush","addNotificationClickListener",[]);else if("foregroundWillDisplay"===t)this._notificationWillDisplayListeners.push(d),window.cordova.exec(function(x){p._notificationWillDisplayListeners.forEach(function(I){I(new h.NotificationWillDisplayEvent(x))}),window.cordova.exec(function(){},function(){},"OneSignalPush","proceedWithWillDisplay",[x.notificationId])},function(){},"OneSignalPush","addForegroundLifecycleListener",[]);else{if("permissionChange"!==t)return;this._permissionObserverList.push(d),window.cordova.exec(function(x){p._processFunctionList(p._permissionObserverList,x)},function(){},"OneSignalPush","addPermissionObserver",[])}},l.prototype.removeEventListener=function(t,d){if("click"===t)-1!==(p=this._notificationClickedListeners.indexOf(d))&&this._notificationClickedListeners.splice(p,1);else if("foregroundWillDisplay"===t)-1!==(p=this._notificationWillDisplayListeners.indexOf(d))&&this._notificationWillDisplayListeners.splice(p,1);else{if("permissionChange"!==t)return;var p;-1!==(p=this._permissionObserverList.indexOf(d))&&this._permissionObserverList.splice(p,1)}},l.prototype.clearAll=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","clearAllNotifications",[])},l.prototype.removeNotification=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeNotification",[t])},l.prototype.removeGroupedNotifications=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeGroupedNotifications",[t])},l}();b.default=M},311:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.OSNotification=void 0;var _=function(){function g(s){this.notificationId=s.notificationId,this.body=s.body,this.title=s.title,this.additionalData=s.additionalData,this.rawPayload="string"==typeof s.rawPayload?JSON.parse(s.rawPayload):s.rawPayload,this.launchURL=s.launchURL,this.sound=s.sound,s.actionButtons&&(this.actionButtons=s.actionButtons),s.groupKey&&(this.groupKey=s.groupKey),s.ledColor&&(this.ledColor=s.ledColor),typeof s.priority<"u"&&(this.priority=s.priority),s.smallIcon&&(this.smallIcon=s.smallIcon),s.largeIcon&&(this.largeIcon=s.largeIcon),s.bigPicture&&(this.bigPicture=s.bigPicture),s.collapseId&&(this.collapseId=s.collapseId),s.groupMessage&&(this.groupMessage=s.groupMessage),s.fromProjectNumber&&(this.fromProjectNumber=s.fromProjectNumber),s.smallIconAccentColor&&(this.smallIconAccentColor=s.smallIconAccentColor),s.lockScreenVisibility&&(this.lockScreenVisibility=s.lockScreenVisibility),s.androidNotificationId&&(this.androidNotificationId=s.androidNotificationId),s.groupedNotifications&&s.groupedNotifications.length&&(this.groupedNotifications=s.groupedNotifications),s.badge&&(this.badge=s.badge),s.category&&(this.category=s.category),s.threadId&&(this.threadId=s.threadId),s.subtitle&&(this.subtitle=s.subtitle),s.templateId&&(this.templateId=s.templateId),s.attachments&&(this.attachments=s.attachments),s.templateName&&(this.templateName=s.templateName),s.mutableContent&&(this.mutableContent=s.mutableContent),s.badgeIncrement&&(this.badgeIncrement=s.badgeIncrement),s.contentAvailable&&(this.contentAvailable=s.contentAvailable),s.relevanceScore&&(this.relevanceScore=s.relevanceScore),s.interruptionLevel&&(this.interruptionLevel=s.interruptionLevel)}return g.prototype.display=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","displayNotification",[this.notificationId])},g}();b.OSNotification=_},1560:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var _=function(){function g(){this._subscriptionObserverList=[]}return g.prototype._processFunctionList=function(s,h){for(var m=0;m<s.length;m++)s[m](h)},g.prototype._setPropertiesAndObserver=function(){var s=this;window.cordova.exec(function(l){s._id=l},function(){},"OneSignalPush","getPushSubscriptionId"),window.cordova.exec(function(l){s._token=l},function(){},"OneSignalPush","getPushSubscriptionToken"),window.cordova.exec(function(l){s._optedIn=l},function(){},"OneSignalPush","getPushSubscriptionOptedIn"),this.addEventListener("change",function(l){s._id=l.current.id,s._token=l.current.token,s._optedIn=l.current.optedIn})},Object.defineProperty(g.prototype,"id",{get:function(){return console.warn("OneSignal: This method has been deprecated. Use getIdAsync instead for getting push subscription id."),this._id},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"token",{get:function(){return console.warn("OneSignal: This method has been deprecated. Use getTokenAsync instead for getting push subscription token."),this._token},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"optedIn",{get:function(){return console.warn("OneSignal: This method has been deprecated. Use getOptedInAsync instead for getting push subscription opted in status."),this._optedIn||!1},enumerable:!1,configurable:!0}),g.prototype.getIdAsync=function(){return new Promise(function(s,h){window.cordova.exec(s,h,"OneSignalPush","getPushSubscriptionId")})},g.prototype.getTokenAsync=function(){return new Promise(function(s,h){window.cordova.exec(s,h,"OneSignalPush","getPushSubscriptionToken")})},g.prototype.getOptedInAsync=function(){return new Promise(function(s,h){window.cordova.exec(s,h,"OneSignalPush","getPushSubscriptionOptedIn")})},g.prototype.addEventListener=function(s,h){var m=this;this._subscriptionObserverList.push(h),window.cordova.exec(function(l){m._processFunctionList(m._subscriptionObserverList,l)},function(){},"OneSignalPush","addPushSubscriptionObserver",[])},g.prototype.removeEventListener=function(s,h){var m=this._subscriptionObserverList.indexOf(h);-1!==m&&this._subscriptionObserverList.splice(m,1)},g.prototype.optIn=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","optInPushSubscription")},g.prototype.optOut=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","optOutPushSubscription")},g}();b.default=_},8229:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var _=function(){function g(){}return g.prototype.addOutcome=function(s){window.cordova.exec(function(){},function(){},"OneSignalPush","addOutcome",[s])},g.prototype.addUniqueOutcome=function(s){window.cordova.exec(function(){},function(){},"OneSignalPush","addUniqueOutcome",[s])},g.prototype.addOutcomeWithValue=function(s,h){window.cordova.exec(function(){},function(){},"OneSignalPush","addOutcomeWithValue",[s,h])},g}();b.default=_},3962:function(k,b,_){var g=this&&this.__awaiter||function(l,t,d,p){return new(d||(d=Promise))(function(f,w){function x(C){try{u(p.next(C))}catch(A){w(A)}}function I(C){try{u(p.throw(C))}catch(A){w(A)}}function u(C){C.done?f(C.value):function y(f){return f instanceof d?f:new d(function(w){w(f)})}(C.value).then(x,I)}u((p=p.apply(l,t||[])).next())})},s=this&&this.__generator||function(l,t){var p,y,f,w,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return w={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w;function x(u){return function(C){return function I(u){if(p)throw new TypeError("Generator is already executing.");for(;w&&(w=0,u[0]&&(d=0)),d;)try{if(p=1,y&&(f=2&u[0]?y.return:u[0]?y.throw||((f=y.return)&&f.call(y),0):y.next)&&!(f=f.call(y,u[1])).done)return f;switch(y=0,f&&(u=[2&u[0],f.value]),u[0]){case 0:case 1:f=u;break;case 4:return d.label++,{value:u[1],done:!1};case 5:d.label++,y=u[1],u=[0];continue;case 7:u=d.ops.pop(),d.trys.pop();continue;default:if(!(f=(f=d.trys).length>0&&f[f.length-1])&&(6===u[0]||2===u[0])){d=0;continue}if(3===u[0]&&(!f||u[1]>f[0]&&u[1]<f[3])){d.label=u[1];break}if(6===u[0]&&d.label<f[1]){d.label=f[1],f=u;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(u);break}f[2]&&d.ops.pop(),d.trys.pop();continue}u=t.call(l,d)}catch(C){u=[6,C],y=0}finally{p=f=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,C])}}},h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(b,"__esModule",{value:!0});var m=h(_(1560)),M=function(){function l(){this.pushSubscription=new m.default,this._userStateObserverList=[]}return l.prototype._processFunctionList=function(t,d){for(var p=0;p<t.length;p++)t[p](d)},l.prototype.setLanguage=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","setLanguage",[t])},l.prototype.addAlias=function(t,d){var p,y=((p={})[t]=d,p);window.cordova.exec(function(){},function(){},"OneSignalPush","addAliases",[y])},l.prototype.addAliases=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","addAliases",[t])},l.prototype.removeAlias=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeAliases",[t])},l.prototype.removeAliases=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeAliases",t)},l.prototype.addEmail=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","addEmail",[t])},l.prototype.removeEmail=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeEmail",[t])},l.prototype.addSms=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","addSms",[t])},l.prototype.removeSms=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeSms",[t])},l.prototype.addTag=function(t,d){var p,y=((p={})[t]=d,p);window.cordova.exec(function(){},function(){},"OneSignalPush","addTags",[y])},l.prototype.addTags=function(t){var d=t;Object.keys(t).forEach(function(p){"string"!=typeof d[p]&&(d[p]=JSON.stringify(d[p]))}),window.cordova.exec(function(){},function(){},"OneSignalPush","addTags",[d])},l.prototype.removeTag=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeTags",[t])},l.prototype.removeTags=function(t){window.cordova.exec(function(){},function(){},"OneSignalPush","removeTags",t)},l.prototype.getTags=function(){return new Promise(function(t,d){window.cordova.exec(t,d,"OneSignalPush","getTags",[])})},l.prototype.addEventListener=function(t,d){var p=this;this._userStateObserverList.push(d),window.cordova.exec(function(f){p._processFunctionList(p._userStateObserverList,f)},function(){},"OneSignalPush","addUserStateObserver",[])},l.prototype.removeEventListener=function(t,d){var p=this._userStateObserverList.indexOf(d);-1!==p&&this._userStateObserverList.splice(p,1)},l.prototype.getOnesignalId=function(){return g(this,void 0,void 0,function(){return s(this,function(t){return[2,new Promise(function(d,p){window.cordova.exec(d,p,"OneSignalPush","getOnesignalId",[])})]})})},l.prototype.getExternalId=function(){return g(this,void 0,void 0,function(){return s(this,function(t){return[2,new Promise(function(d,p){window.cordova.exec(d,p,"OneSignalPush","getExternalId",[])})]})})},l}();b.default=M},3952:function(k,b,_){var g=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(b,"__esModule",{value:!0}),b.NotificationWillDisplayEvent=b.OSNotificationPermission=b.OSNotification=b.LogLevel=b.OneSignalPlugin=void 0;var s=g(_(3962)),h=g(_(1492)),m=g(_(8229)),M=g(_(70)),l=g(_(9639)),t=g(_(557)),d=g(_(9430)),p=function(){function u(){this.User=new s.default,this.Debug=new h.default,this.Session=new m.default,this.Location=new M.default,this.InAppMessages=new l.default,this.Notifications=new t.default,this.LiveActivities=new d.default,this._appID=""}return u.prototype.initialize=function(C){var A=this;this._appID=C,window.cordova.exec(function(){A.User.pushSubscription._setPropertiesAndObserver(),A.Notifications._setPropertyAndObserver()},function(){},"OneSignalPush","init",[this._appID])},u.prototype.login=function(C){window.cordova.exec(function(){},function(){},"OneSignalPush","login",[C])},u.prototype.logout=function(){window.cordova.exec(function(){},function(){},"OneSignalPush","logout")},u.prototype.setConsentRequired=function(C){window.cordova.exec(function(){},function(){},"OneSignalPush","setPrivacyConsentRequired",[C])},u.prototype.setConsentGiven=function(C){window.cordova.exec(function(){},function(){},"OneSignalPush","setPrivacyConsentGiven",[C])},u}();b.OneSignalPlugin=p;var y=new p;window.plugins||(window.plugins={}),window.plugins.OneSignal||(window.plugins.OneSignal=y);var f=_(1492);Object.defineProperty(b,"LogLevel",{enumerable:!0,get:function(){return f.LogLevel}});var w=_(311);Object.defineProperty(b,"OSNotification",{enumerable:!0,get:function(){return w.OSNotification}});var x=_(557);Object.defineProperty(b,"OSNotificationPermission",{enumerable:!0,get:function(){return x.OSNotificationPermission}});var I=_(2252);Object.defineProperty(b,"NotificationWillDisplayEvent",{enumerable:!0,get:function(){return I.NotificationWillDisplayEvent}}),b.default=y}}]);