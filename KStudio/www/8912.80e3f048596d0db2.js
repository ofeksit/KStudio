"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8912],{3632:(vt,J,v)=>{v.d(J,{T:()=>yt});var o=v(467),E=v(7586),V=v(5312),a=v(3953),X=v(3656),N=v(791),$=v(4938),D=v(1626),Q=v(4796),H=v(3931),B=v(177),U=v(4341);const j=["popup"],T=()=>[1,2,3,4];function L(O,Z){1&O&&(a.j41(0,"ion-item",13)(1,"ion-thumbnail",14),a.nrm(2,"ion-skeleton-text",15),a.k0s(),a.j41(3,"ion-label")(4,"h3"),a.nrm(5,"ion-skeleton-text",16),a.k0s(),a.j41(6,"p"),a.nrm(7,"ion-skeleton-text",17),a.k0s(),a.j41(8,"p"),a.nrm(9,"ion-skeleton-text",18),a.k0s()()()),2&O&&(a.R7$(2),a.Y8G("animated",!0),a.R7$(3),a.Y8G("animated",!0),a.R7$(2),a.Y8G("animated",!0),a.R7$(2),a.Y8G("animated",!0))}function F(O,Z){1&O&&(a.j41(0,"ion-list")(1,"ion-list-header"),a.nrm(2,"ion-skeleton-text",11),a.k0s(),a.DNE(3,L,10,4,"ion-item",12),a.k0s()),2&O&&(a.R7$(2),a.Y8G("animated",!0),a.R7$(),a.Y8G("ngForOf",a.lJ4(2,T)))}function K(O,Z){if(1&O&&(a.j41(0,"ion-segment-button",25)(1,"ion-label"),a.EFF(2),a.k0s(),a.j41(3,"ion-note"),a.EFF(4),a.k0s()()),2&O){const M=Z.$implicit;a.FS9("value",M.date),a.R7$(2),a.JRh(M.day),a.R7$(2),a.JRh(M.formattedDate)}}function q(O,Z){if(1&O&&(a.j41(0,"ion-select-option",34),a.EFF(1),a.k0s()),2&O){const M=Z.$implicit;a.Y8G("value",M),a.R7$(),a.JRh(M)}}function lt(O,Z){if(1&O){const M=a.RV6();a.j41(0,"ion-button",35),a.bIt("click",function(){a.eBV(M);const _=a.XpG(3);return a.Njj(_.resetTypeFilter())}),a.nrm(1,"ion-icon",36),a.k0s()}}function ut(O,Z){if(1&O){const M=a.RV6();a.j41(0,"ion-list",26)(1,"ion-item")(2,"ion-label",27),a.EFF(3,"\u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df"),a.k0s(),a.j41(4,"ion-select",28),a.mxI("ngModelChange",function(_){a.eBV(M);const g=a.XpG(2);return a.DH7(g.selectedType,_)||(g.selectedType=_),a.Njj(_)}),a.bIt("ionChange",function(){a.eBV(M);const _=a.XpG(2);return a.Njj(_.onTypeChange())}),a.DNE(5,q,2,2,"ion-select-option",29),a.k0s(),a.DNE(6,lt,2,0,"ion-button",30),a.k0s(),a.j41(7,"ion-item")(8,"ion-label",27),a.EFF(9,"\u05d6\u05de\u05d9\u05e0\u05d5\u05ea"),a.k0s(),a.j41(10,"ion-segment",31),a.mxI("ngModelChange",function(_){a.eBV(M);const g=a.XpG(2);return a.DH7(g.availabilityFilter,_)||(g.availabilityFilter=_),a.Njj(_)}),a.bIt("ionChange",function(){a.eBV(M);const _=a.XpG(2);return a.Njj(_.onFilterChange())}),a.j41(11,"ion-segment-button",32)(12,"ion-label"),a.EFF(13,"\u05d4\u05db\u05dc"),a.k0s()(),a.j41(14,"ion-segment-button",33)(15,"ion-label"),a.EFF(16,"\u05d6\u05de\u05d9\u05df \u05d1\u05dc\u05d1\u05d3"),a.k0s()()()()()}if(2&O){const M=a.XpG(2);a.R7$(4),a.R50("ngModel",M.selectedType),a.R7$(),a.Y8G("ngForOf",M.availableTypes),a.R7$(),a.Y8G("ngIf",M.selectedType),a.R7$(4),a.R50("ngModel",M.availabilityFilter)}}function bt(O,Z){if(1&O){const M=a.RV6();a.j41(0,"div")(1,"ion-segment",19),a.mxI("ngModelChange",function(_){a.eBV(M);const g=a.XpG();return a.DH7(g.selectedDay,_)||(g.selectedDay=_),a.Njj(_)}),a.bIt("ionChange",function(){a.eBV(M);const _=a.XpG();return a.Njj(_.onDayChange())}),a.DNE(2,K,5,3,"ion-segment-button",20),a.k0s(),a.j41(3,"div",21)(4,"ion-button",22),a.bIt("click",function(){a.eBV(M);const _=a.XpG();return a.Njj(_.toggleFilterDropdown())}),a.nrm(5,"ion-icon",23),a.EFF(6," \u05e1\u05d9\u05e0\u05d5\u05df "),a.k0s()(),a.DNE(7,ut,17,4,"ion-list",24),a.k0s()}if(2&O){const M=a.XpG();a.R7$(),a.R50("ngModel",M.selectedDay),a.R7$(),a.Y8G("ngForOf",M.days),a.R7$(5),a.Y8G("ngIf",M.showDropdown)}}function k(O,Z){if(1&O&&(a.j41(0,"li"),a.EFF(1),a.k0s()),2&O){const M=Z.$implicit;a.R7$(),a.SpI(" ",M," ")}}function z(O,Z){if(1&O&&(a.j41(0,"div",51)(1,"ul"),a.DNE(2,k,2,1,"li",52),a.k0s()()),2&O){const M=a.XpG().$implicit;a.R7$(2),a.Y8G("ngForOf",M.current_participants)}}function it(O,Z){if(1&O){const M=a.RV6();a.j41(0,"button",53),a.bIt("click",function(){a.eBV(M);const _=a.XpG().$implicit,g=a.XpG();return a.Njj(g.enrollUser(_))}),a.EFF(1," \u05d4\u05e8\u05e9\u05de\u05d4 "),a.k0s()}}function st(O,Z){if(1&O){const M=a.RV6();a.j41(0,"button",53),a.bIt("click",function(){let _;a.eBV(M);const g=a.XpG().$implicit,y=a.XpG();return a.Njj(y.addToStandbyList(null!==(_=null==g?null:g.id)&&void 0!==_?_:0,y.userId,y.userEmail))}),a.EFF(1," \u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05d4\u05de\u05ea\u05e0\u05d4 "),a.k0s()}}function kt(O,Z){if(1&O){const M=a.RV6();a.j41(0,"div",37)(1,"div",38)(2,"h3"),a.EFF(3),a.k0s(),a.j41(4,"ion-icon",39),a.bIt("click",function(){const _=a.eBV(M).$implicit,g=a.XpG();return a.Njj(g.toggleFavorite(_))}),a.k0s()(),a.j41(5,"div",40)(6,"div",41),a.EFF(7),a.nI1(8,"date"),a.k0s(),a.j41(9,"div",42)(10,"div",43),a.nrm(11,"div",44),a.k0s(),a.j41(12,"div",45)(13,"div",46),a.bIt("mouseenter",function(){const _=a.eBV(M).$implicit,g=a.XpG();return a.Njj(g.showParticipantsPopup(_))})("mouseleave",function(){a.eBV(M);const _=a.XpG();return a.Njj(_.hideParticipantsPopup())}),a.EFF(14),a.nrm(15,"ion-icon",47),a.DNE(16,z,3,1,"div",48),a.k0s()()()(),a.j41(17,"div",49),a.DNE(18,it,2,0,"button",50)(19,st,2,0,"button",50),a.k0s()()}if(2&O){const M=Z.$implicit,u=a.XpG();a.R7$(3),a.JRh(M.title.name),a.R7$(),a.AVh("favorite",M.favorite),a.R7$(3),a.SpI(" ",a.i5U(8,11,M.start_time,"HH:mm")," "),a.R7$(4),a.xc7("width",u.calculateProgress(M)+"%"),a.R7$(3),a.Lme(" ",M.booked,"/",M.total_participants," "),a.R7$(2),a.Y8G("ngIf",u.isPopupVisible&&u.activeAppointment===M),a.R7$(2),a.Y8G("ngIf",M.booked<M.total_participants),a.R7$(),a.Y8G("ngIf",M.booked==M.total_participants)}}let yt=(()=>{var O;class Z{constructor(u,_,g,y,w,R,S,W){this.platform=u,this.toastController=_,this.ameliaService=g,this.gestureCtrl=y,this.modalCtrl=w,this.http=R,this.authService=S,this.httpA=W,this.selectedFilterAllFav="all",this.selectedType="",this.availabilityFilter="all",this.showDropdown=!1,this.availableTypes=[],this.availableTimeslots=[],this.bookedAppointments=[],this.combinedList=[],this.days=[],this.showingParticipants=!1,this.isPopupVisible=!1,this.activeAppointment=null,this.knownTrainingTypes=["\u05e4\u05d9\u05dc\u05d0\u05d8\u05d9\u05e1","\u05d9\u05d5\u05d2\u05d4","\u05d0\u05d9\u05de\u05d5\u05df \u05db\u05d5\u05d7","Parallel 15","Spinning","TRX","Booty&ABS","All In","HiiT","POWER",""],this.userEmail="",this.isLoading=!0,this.filteredAppointments=[],this.unfilteredList=[],this.showToast=!1,this.toastMessage="",this.toastColor="success",this.errorMessage="",this.userId=this.authService.getUserID(),this.userEmail=this.authService.getUserEmail()}ngOnInit(){var u=this;return(0,o.A)(function*(){"inactive"==u.authService.getUserRole()&&(u.errorMessage="\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d1\u05e6\u05e2 \u05d0\u05d9\u05de\u05d5\u05e0\u05d9\u05dd,  \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc",u.presentToast(u.errorMessage,"danger")),u.isLoading=!0,u.trainingsByDay=u.ameliaService.getTrainingsTitles(),(!u.trainingsByDay||Object.keys(u.trainingsByDay).every(_=>0===u.trainingsByDay[_].length))&&(yield u.ameliaService.fetchTitleTrainings(),u.trainingsByDay=u.ameliaService.getTrainingsTitles()),Promise.all([u.fetchAvailableTimeslots(),u.fetchBookedAppointments()]).then(()=>{u.combineTimeslotsAndAppointments(),u.unfilteredList=[...u.combinedList],u.selectedDay=u.days.length>0?u.days[0].date:"",u.updateFilteredAppointments();const _=u.getFavoriteTrainings();u.combinedList.forEach(g=>{g.id&&_.includes(g.id)&&(g.favorite=!0)}),u.isLoading=!1}).catch(()=>{u.isLoading=!1})})()}presentToast(u,_){var g=this;return(0,o.A)(function*(){yield(yield g.toastController.create({message:u,duration:3e3,color:_,position:"bottom"})).present()})()}ngAfterViewInit(){setTimeout(()=>{this.gestureCtrl.create({el:this.popup.nativeElement,gestureName:"swipe-to-close",onMove:_=>{_.deltaY>100&&this.modalCtrl.dismiss()}}).enable(!0)})}getServicesByRole(){const _=localStorage.getItem("user_role");return this.http.get(`https://k-studio.co.il/wp-json/angular/v1/get-services/${_||"guest"}`)}fetchAvailableTimeslots(){var u=this;return(0,o.A)(function*(){const _=new Date,g=new Date(_);g.setDate(_.getDate()+20);const y=new Date(_);y.setDate(_.getDate()+7);const w=R=>`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`;return new Promise((R,S)=>{u.getServicesByRole().subscribe(function(){var W=(0,o.A)(function*(tt){if(0===tt.length)return S("No service IDs found");const ct=tt.map(nt=>{const dt=`${V.c.apiBaseUrl}/slots&serviceId=${nt}&page=booking&startDateTime=${w(_)}&endDateTime=${w(g)}`;return u.httpA.get(dt,{},{Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"}).then(at=>JSON.parse(at.data)).catch(at=>{S(`Error fetching timeslots for service ID ${nt}: ${at}`)})});Promise.all(ct).then(function(){var nt=(0,o.A)(function*(dt){u.availableTimeslots=[];for(const at of dt)if(at&&at.data&&at.data.slots){const xt=at.data.slots;for(const _t of Object.keys(xt))for(const ft of Object.keys(xt[_t])){const ot=new Date(`${_t}T${ft}`).toISOString(),et=new Date(`${_t}T${ft}`).toISOString();let pt;pt=new Date(ot)<=y?{name:yield u.getAppointmentTitleByDateTime(_t,ft)}:{name:"\u05d0\u05d9\u05de\u05d5\u05df \u05e7\u05d1\u05d5\u05e6\u05ea\u05d9"},u.availableTimeslots.push({start_time:ot,end_time:et,type:"timeslot",title:pt,favorite:!1,current_participants:[],total_participants:8,booked:0})}}R()});return function(dt){return nt.apply(this,arguments)}}()).catch(nt=>S(nt))});return function(tt){return W.apply(this,arguments)}}(),W=>S(W))})})()}fetchBookedAppointments(){var u=this;const _=new Date,g=new Date(_);g.setDate(_.getDate()+30);const y=new Date(_);y.setDate(_.getDate()+7);const w=R=>`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`;return new Promise((R,S)=>{this.platform.ready().then(()=>{this.platform.is("cordova")?this.getServicesByRole().subscribe(W=>{const tt=`${V.c.apiBaseUrl}/appointments&dates=${w(_)},${w(g)}&page=1&skipServices=1&skipProviders=1`;this.httpA.get(tt,{},{Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk"}).then(function(){var ct=(0,o.A)(function*(nt){const at=JSON.parse(nt.data).data.appointments;console.log("appointments",at);const xt=new Date,_t=Object.values(at).flatMap(ft=>ft.appointments.filter(ot=>"approved"===ot.status&&!1===ot.past&&new Date(ot.bookingStart)>xt&&W.includes(ot.serviceId)).map(function(){var ot=(0,o.A)(function*(et){let pt;return pt=new Date(et.bookingStart)<=y?yield u.getAppointmentTitleByAppointment(et):"\u05d0\u05d9\u05de\u05d5\u05df \u05e7\u05d1\u05d5\u05e6\u05ea\u05d9",{id:et.id,start_time:et.bookingStart,end_time:et.bookingEnd,type:"appointment",title:{name:pt},serviceID:et.serviceId,favorite:!1,current_participants:et.bookings.filter(gt=>"approved"===gt.status).map(gt=>`${gt.customer.firstName} ${gt.customer.lastName}`),total_participants:8,booked:et.bookings.filter(gt=>"approved"===gt.status).length,providerId:et.providerId}});return function(et){return ot.apply(this,arguments)}}()));u.bookedAppointments=yield Promise.all(_t),R()});return function(nt){return ct.apply(this,arguments)}}()).catch(ct=>{S(`Error fetching appointments: ${ct}`)})},W=>S(W)):S("Cordova is not available, please run on a device or emulator.")})})}combineTimeslotsAndAppointments(){this.combinedList=[...this.availableTimeslots,...this.bookedAppointments],this.unfilteredList=[...this.combinedList],this.combinedList=this.combinedList.filter(u=>{const _=new Date(u.start_time),g=new Date(u.end_time);return!isNaN(_.getTime())&&!isNaN(g.getTime())}),this.extractAvailableDays(),this.combinedList.sort((u,_)=>new Date(u.start_time).getTime()-new Date(_.start_time).getTime())}extractAvailableDays(){const u=["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],_=(new Date).toISOString().split("T")[0],g=this.combinedList.filter(y=>{const w=new Date(y.start_time);return!isNaN(w.getTime())}).map(y=>new Date(y.start_time).toISOString().split("T")[0]);this.days=Array.from(new Set(g)).map(y=>{const w=new Date(y);return{date:y,day:u[w.getDay()],formattedDate:`${w.getDate()}.${w.getMonth()+1}`}}),this.days.sort((y,w)=>y.date===_?-1:w.date===_?1:new Date(y.date).getTime()-new Date(w.date).getTime()),this.selectedDay=this.days.length>0?this.days[0].date:""}extractAvailableTypes(){const u=new Set(this.filteredAppointments.map(_=>_.title.name));this.availableTypes=Array.from(u)}getAppointmentsForSelectedDay(){return this.combinedList.filter(u=>{const _=E(u.start_time);return _.isValid()&&_.format("YYYY-MM-DD")===this.selectedDay})}onDayChange(){this.updateFilteredAppointments()}filterFavAll(u){this.selectedFilterAllFav=u.detail.value,this.updateFilteredAppointments()}toggleAvailabilityFilter(){this.availabilityFilter="all"===this.availabilityFilter?"available":"all",this.updateFilteredAppointments()}updateFilteredAppointments(){let u=[...this.unfilteredList];this.selectedDay&&(u=u.filter(_=>E(_.start_time).format("YYYY-MM-DD")===this.selectedDay)),"available"===this.availabilityFilter&&(u=u.filter(_=>_.booked<_.total_participants)),this.selectedType&&(console.log("Applying type filter:",this.selectedType),u=u.filter(_=>_.title.name===this.selectedType)),"favorites"===this.selectedFilterAllFav&&(u=u.filter(_=>_.favorite)),this.filteredAppointments=u,this.extractAvailableTypes()}onFilterChange(){this.updateFilteredAppointments()}onTypeChange(){console.log("Selected type:",this.selectedType),this.updateFilteredAppointments()}resetTypeFilter(){this.selectedType="",this.updateFilteredAppointments()}removePastFavorites(){const u=new Date,g=this.getFavoriteTrainings().filter(y=>{const w=this.combinedList.find(R=>R.id===y);return w&&new Date(w.start_time)>u});this.saveFavoriteTrainings(g)}closeModal(){document.body.classList.remove("no-scroll"),this.modalCtrl.dismiss()}toggleFavorite(u){u.favorite=!u.favorite;const _=this.getFavoriteTrainings();if(u.favorite)_.push(u.id);else{const g=_.indexOf(u.id);g>-1&&_.splice(g,1)}this.saveFavoriteTrainings(_)}getFavoriteTrainings(){const u=localStorage.getItem("favoriteTrainings");return u?JSON.parse(u):[]}saveFavoriteTrainings(u){localStorage.setItem("favoriteTrainings",JSON.stringify(u))}toggleFilterDropdown(){this.showDropdown=!this.showDropdown}calculateProgress(u){if(!u.current_participants||!u.total_participants)return 0;const _=u.current_participants.length/u.total_participants*100;return _>100?100:_}isFull(u){return u.current_participants>=u.total_participants}showParticipantsPopup(u){this.activeAppointment=u,this.isPopupVisible=!0}hideParticipantsPopup(){this.activeAppointment=null,this.isPopupVisible=!1}getAppointmentTitleByAppointment(u){var _=this;return(0,o.A)(function*(){const g=E(u.bookingStart,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY"),y=_.getDayFromDate(g.trim()),w=E(u.bookingStart,"YYYY-MM-DD HH:mm:ss").format("HH:mm");if(_.trainingsByDay[y]){const R=_.trainingsByDay[y].find(S=>S.time===w);if(R)return R.title}return"\u05db\u05dc\u05dc\u05d9"})()}getDayFromDate(u){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][E(u,"DD/MM/YYYY").toDate().getDay()]}getAppointmentTitleByDateTime(u,_){var g=this;return(0,o.A)(function*(){const y=E(u,"YYYY-MM-DD").format("DD/MM/YYYY"),w=g.getDayFromDate(y);if(g.trainingsByDay[w]){const R=g.trainingsByDay[w].find(S=>S.time===_);if(R)return R.title}return"\u05db\u05dc\u05dc\u05d9"})()}addToStandbyList(u,_,g){console.log("user id:",_),console.log("email",g),this.http.post("https://k-studio.co.il/wp-json/standby-list/v1/add",{appointment_id:u,customer_id:_,email:g}).subscribe(R=>{console.log("User added to standby list",R),this.errorMessage="\u05e0\u05d5\u05e1\u05e4\u05ea \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 \u05dc\u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05d4\u05de\u05ea\u05e0\u05d4",this.presentToast(this.errorMessage,"success")},R=>{console.error("Error adding user to standby list",R)})}enrollUser(u){let _=u.serviceID;const y=u.start_time.slice(0,16);console.log(y);let w=u.providerId,R=this.authService.getCustomerID();this.authService.getUserEmail();const tt={serviceId:_,providerId:w,bookings:[{customerId:R,status:"approved",duration:3600,persons:1,extras:[],customFields:{},packageCustomerService:{packageCustomer:{id:this.authService.getPackageCustomerId()}}}],bookingStart:y};console.log("data",tt),this.http.post("/api/appointments",tt,{headers:{Amelia:"C7YZnwLJ90FF42GOCkEFT9z856v6r5SQ2QWpdhGBexQk","Content-Type":"application/json"}}).subscribe(ct=>{console.log("Enrollment successful",ct)},ct=>{console.error("Enrollment failed",ct)})}}return(O=Z).\u0275fac=function(u){return new(u||O)(a.rXU(X.OD),a.rXU(N.K_),a.rXU($.J),a.rXU(N.wH),a.rXU(N.W3),a.rXU(D.Qq),a.rXU(Q.u),a.rXU(H.B))},O.\u0275cmp=a.VBU({type:O,selectors:[["app-trainings"]],viewQuery:function(u,_){if(1&u&&a.GBs(j,5),2&u){let g;a.mGM(g=a.lsd())&&(_.popup=g.first)}},decls:16,vars:4,consts:[["popup",""],[1,"popup-modal-trainings"],[1,"drag-handle"],[1,"content-container"],[1,"sticky-header"],[1,"header-tabs"],["mode","md",1,"segment-tab",3,"ngModelChange","ionChange","ngModel"],["value","all",1,"header-tab"],["value","favorites",1,"header-tab"],[4,"ngIf"],["class","card",4,"ngFor","ngForOf"],[2,"width","80px",3,"animated"],["lines","none","class","skeleton-item",4,"ngFor","ngForOf"],["lines","none",1,"skeleton-item"],["slot","start"],[3,"animated"],[2,"width","80%",3,"animated"],[2,"width","60%",3,"animated"],[2,"width","30%",3,"animated"],["scrollable","","mode","md",1,"days-tabs",3,"ngModelChange","ionChange","ngModel"],["class","custom-tabs",3,"value",4,"ngFor","ngForOf"],[1,"filter-header"],["fill","outline",1,"filter-button",3,"click"],["name","options-outline","slot","start"],["class","filter-dropdown",4,"ngIf"],[1,"custom-tabs",3,"value"],[1,"filter-dropdown"],[2,"text-indent","8px"],["interface","popover","placeholder","\u05d1\u05d7\u05e8 \u05e1\u05d5\u05d2 \u05d0\u05d9\u05de\u05d5\u05df",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["color","danger","fill","clear",3,"click",4,"ngIf"],[3,"ngModelChange","ionChange","ngModel"],["value","all"],["value","available"],[3,"value"],["color","danger","fill","clear",3,"click"],["name","close-circle"],[1,"card"],[1,"card-header"],["name","heart-outline",3,"click"],[1,"card-content"],[1,"time-date"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress"],[1,"participants-container"],[1,"participants",3,"mouseenter","mouseleave"],["name","people-outline"],["class","participant-popup",4,"ngIf"],[1,"card-footer"],["class","action-button",3,"click",4,"ngIf"],[1,"participant-popup"],[4,"ngFor","ngForOf"],[1,"action-button",3,"click"]],template:function(u,_){if(1&u){const g=a.RV6();a.j41(0,"ion-content",1,0),a.nrm(2,"div",2),a.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"ion-segment",6),a.mxI("ngModelChange",function(w){return a.eBV(g),a.DH7(_.selectedFilterAllFav,w)||(_.selectedFilterAllFav=w),a.Njj(w)}),a.bIt("ionChange",function(w){return a.eBV(g),a.Njj(_.filterFavAll(w))}),a.j41(7,"ion-segment-button",7)(8,"ion-label"),a.EFF(9,"\u05d4\u05db\u05dc"),a.k0s()(),a.j41(10,"ion-segment-button",8)(11,"ion-label"),a.EFF(12,"\u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd"),a.k0s()()()(),a.DNE(13,F,4,3,"ion-list",9)(14,bt,8,3,"div",9)(15,kt,20,14,"div",10),a.k0s()()()}2&u&&(a.R7$(6),a.R50("ngModel",_.selectedFilterAllFav),a.R7$(7),a.Y8G("ngIf",_.isLoading),a.R7$(),a.Y8G("ngIf",!_.isLoading),a.R7$(),a.Y8G("ngForOf",_.filteredAppointments))},dependencies:[B.Sq,B.bT,U.BC,U.vS,N.Jm,N.W9,N.iq,N.uz,N.he,N.nf,N.AF,N.JI,N.Gp,N.eP,N.Nm,N.Ip,N.ds,N.Zx,N.Je,B.vh],styles:['.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background-color:#fff}.scrollable-list[_ngcontent-%COMP%]{height:calc(100vh - 130px);overflow-y:auto}.training-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;margin-bottom:20px;width:100%;box-sizing:border-box}.training-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.favorite-icon[_ngcontent-%COMP%]{font-size:24px;color:#5a5a5a}.training-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-top:-30px;color:#333;font-family:Alef}.training-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin-top:-20px;font-family:Alef}.progress-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}ion-progress-bar[_ngcontent-%COMP%]{--progress-background: #E0E0E0;--background: #9B59B6;border-radius:10px;height:10px;flex-grow:1;margin-left:10px}ion-label[_ngcontent-%COMP%]{font-size:2em;color:#333}ion-button[_ngcontent-%COMP%]{font-weight:700;--border-radius: 25px}.segment-tab[_ngcontent-%COMP%]   .days-tabs[_ngcontent-%COMP%]{overflow-x:hidden;--background: #fff;--border-radius: 10px;margin-top:10px}.filter-segment[_ngcontent-%COMP%]{color:red}ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1em;font-weight:700;font-family:Alef}ion-segment-button[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:1em;color:#666;font-weight:700;font-family:Alef}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0;--padding-start: 0;--padding-end: 0;padding:0}.header-tab[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none;padding:none;--indicator-color: transparent}.header-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;width:100%;padding:0;border:none;box-shadow:none}.custom-tabs[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;background-color:#fff;box-shadow:0 4px 12px #0000000d;position:relative;--background-activated: transparent;--background-focused: transparent;--background: transparent;font-size:1em;--color-checked: #333;--color: #666;padding-bottom:10px;width:90%;margin-left:10px;--indicator-color: transparent}.segment-button-checked[_ngcontent-%COMP%]{position:relative;transition:all .3s ease;border-radius:12px;--indicator-color: transparent;color:#000}.segment-button-checked[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:4px;background:#826251;border-radius:12px;transition:all .3s ease}.filter-button[_ngcontent-%COMP%]{--border-radius: 30px;--padding-start: 15px;--padding-end: 15px;--background: #fff;--box-shadow: 0px 4px 6px rgba(0, 0, 0, .1);--color: #000;--icon-size: 20px;--border-color: #E5E5E5;display:flex;justify-content:center;align-items:center;width:150px;margin:20px auto auto}.filter-button[_ngcontent-%COMP%]:hover{--background: #f5f5f5}.clear-filter-icon[_ngcontent-%COMP%]{font-size:24px;color:#e74c3c;margin-left:10px;cursor:pointer}.filter-dropdown[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px;background-color:#fff;border-radius:15px;box-shadow:0 4px 12px #0000001a;padding:15px;width:100%}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;--color: #333;--background: #fff;--border-radius: 10px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .1)}.popup-modal-trainings[_ngcontent-%COMP%]{height:80vh;border-top-left-radius:20px;border-top-right-radius:20px;background:#fff;padding:10px;box-shadow:0 -4px 12px #0000001a;overflow-y:auto;max-height:100vh}.drag-handle[_ngcontent-%COMP%]{width:10px;height:1px;background-color:transparent;border-radius:2.5px;margin:0 auto 10px}.content-container[_ngcontent-%COMP%]{padding:15px;justify-content:center}ion-content[_ngcontent-%COMP%]{--background: white}ion-tab-bar[_ngcontent-%COMP%]{--background: #fff;--color-selected: #3498db;--color: #666}ion-tab-button[_ngcontent-%COMP%]{--color-selected: #666;--color: #666}.card[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin:10px 0;border-radius:12px;box-shadow:0 4px 8px #0000001a}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;color:#333;font-family:Alef}.card-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.card-header[_ngcontent-%COMP%]   ion-icon.favorite[_ngcontent-%COMP%]{color:red}.time-date[_ngcontent-%COMP%]{font-size:14px;color:gray}.segment-button[_ngcontent-%COMP%]:not(.segment-button-checked):after{height:0}.progress-bar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.progress-bar[_ngcontent-%COMP%]{width:80%;background-color:#e0e0e0;border-radius:8px;height:6px}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:6px;border-radius:8px;background-color:#568ea3}.participants[_ngcontent-%COMP%]{font-size:12px;display:flex;align-items:center}.participants[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:4px}.card-footer[_ngcontent-%COMP%]{margin-top:10px}.action-button[_ngcontent-%COMP%]{width:100%;background-color:#454545;color:#fff;border:none;padding:10px;border-radius:8px;text-align:center;font-size:14px;cursor:pointer}.action-button.full[_ngcontent-%COMP%]{background-color:#757575}.participants-container[_ngcontent-%COMP%]{background-color:#c5c5c563;position:relative;width:50px;border-radius:7px}.participant-popup[_ngcontent-%COMP%]{position:absolute;top:-10px;left:60px;background-color:#fff;border:none;padding:12px;box-shadow:0 8px 16px #00000026;width:180px;z-index:10;border-radius:12px;transition:opacity .3s ease,transform .3s ease;opacity:0;transform:translateY(-10px)}.participant-popup[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:14px}.participant-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.participant-popup[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;margin-bottom:5px}.participants[_ngcontent-%COMP%]{cursor:pointer;position:relative;justify-content:center}.participants[_ngcontent-%COMP%]:hover{text-decoration:underline}.participants[_ngcontent-%COMP%]:hover   .participant-popup[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}']}),Z})()},5312:(vt,J,v)=>{v.d(J,{c:()=>o});const o={production:!0,apiBaseUrl:"https://k-studio.co.il/wp-admin/admin-ajax.php?action=wpamelia_api&call=/api/v1"}},9584:(vt,J,v)=>{v.d(J,{B:()=>U});var o=v(8359);class E extends o.yU{constructor(T,L){super()}schedule(T,L=0){return this}}const Y={setInterval(j,T,...L){const{delegate:F}=Y;return null!=F&&F.setInterval?F.setInterval(j,T,...L):setInterval(j,T,...L)},clearInterval(j){const{delegate:T}=Y;return((null==T?void 0:T.clearInterval)||clearInterval)(j)},delegate:void 0};var V=v(7908);const X={now:()=>(X.delegate||Date).now(),delegate:void 0};class N{constructor(T,L=N.now){this.schedulerActionCtor=T,this.now=L}schedule(T,L=0,F){return new this.schedulerActionCtor(this,T).schedule(F,L)}}N.now=X.now;const D=new class $ extends N{constructor(T,L=N.now){super(T,L),this.actions=[],this._active=!1}flush(T){const{actions:L}=this;if(this._active)return void L.push(T);let F;this._active=!0;do{if(F=T.execute(T.state,T.delay))break}while(T=L.shift());if(this._active=!1,F){for(;T=L.shift();)T.unsubscribe();throw F}}}(class a extends E{constructor(T,L){super(T,L),this.scheduler=T,this.work=L,this.pending=!1}schedule(T,L=0){var F;if(this.closed)return this;this.state=T;const K=this.id,q=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(q,K,L)),this.pending=!0,this.delay=L,this.id=null!==(F=this.id)&&void 0!==F?F:this.requestAsyncId(q,this.id,L),this}requestAsyncId(T,L,F=0){return Y.setInterval(T.flush.bind(T,this),F)}recycleAsyncId(T,L,F=0){if(null!=F&&this.delay===F&&!1===this.pending)return L;null!=L&&Y.clearInterval(L)}execute(T,L){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(T,L);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(T,L){let K,F=!1;try{this.work(T)}catch(q){F=!0,K=q||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:T,scheduler:L}=this,{actions:F}=L;this.work=this.state=this.scheduler=null,this.pending=!1,(0,V.o)(F,this),null!=T&&(this.id=this.recycleAsyncId(L,T,null)),this.delay=null,super.unsubscribe()}}});var H=v(9974),B=v(4360);function U(j,T=D){return(0,H.N)((L,F)=>{let K=null,q=null,lt=null;const ut=()=>{if(K){K.unsubscribe(),K=null;const k=q;q=null,F.next(k)}};function bt(){const k=lt+j,z=T.now();if(z<k)return K=this.schedule(void 0,k-z),void F.add(K);ut()}L.subscribe((0,B._)(F,k=>{q=k,lt=T.now(),K||(K=T.schedule(bt,j),F.add(K))},()=>{ut(),F.complete()},void 0,()=>{q=K=null}))})}},5262:(vt,J,v)=>{v.d(J,{Bu:()=>_t,Q_:()=>P,_G:()=>Zt,w6:()=>Wt});var o=v(177),E=v(3953),Y=v(6860),V=v(1413),a=v(8359),$=(v(4402),v(7673),v(7336)),D=v(8141),Q=v(9584),H=v(5964),B=v(6354),U=v(6697),T=v(4085),L=v(4572),F=v(8793),K=v(1985),lt=v(9172),ut=v(6977);const k=new Set;let z,it=(()=>{var p;class e{constructor(c,b){this._platform=c,this._nonce=b,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kt}matchMedia(c){return(this._platform.WEBKIT||this._platform.BLINK)&&function st(p,e){if(!k.has(p))try{z||(z=document.createElement("style"),e&&z.setAttribute("nonce",e),z.setAttribute("type","text/css"),document.head.appendChild(z)),z.sheet&&(z.sheet.insertRule(`@media ${p} {body{ }}`,0),k.add(p))}catch(s){console.error(s)}}(c,this._nonce),this._matchMedia(c)}}return(p=e).\u0275fac=function(c){return new(c||p)(E.KVO(Y.OD),E.KVO(E.BIS,8))},p.\u0275prov=E.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),e})();function kt(p){return{matches:"all"===p||""===p,media:p,addListener:()=>{},removeListener:()=>{}}}let yt=(()=>{var p;class e{constructor(c,b){this._mediaMatcher=c,this._zone=b,this._queries=new Map,this._destroySubject=new V.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(c){return O((0,T.FG)(c)).some(x=>this._registerQuery(x).mql.matches)}observe(c){const x=O((0,T.FG)(c)).map(C=>this._registerQuery(C).observable);let A=(0,L.z)(x);return A=(0,F.x)(A.pipe((0,U.s)(1)),A.pipe(function q(p){return(0,H.p)((e,s)=>p<=s)}(1),(0,Q.B)(0))),A.pipe((0,B.T)(C=>{const G={matches:!1,breakpoints:{}};return C.forEach(({matches:ht,query:Ot})=>{G.matches=G.matches||ht,G.breakpoints[Ot]=ht}),G}))}_registerQuery(c){if(this._queries.has(c))return this._queries.get(c);const b=this._mediaMatcher.matchMedia(c),A={observable:new K.c(C=>{const G=ht=>this._zone.run(()=>C.next(ht));return b.addListener(G),()=>{b.removeListener(G)}}).pipe((0,lt.Z)(b),(0,B.T)(({matches:C})=>({query:c,matches:C})),(0,ut.Q)(this._destroySubject)),mql:b};return this._queries.set(c,A),A}}return(p=e).\u0275fac=function(c){return new(c||p)(E.KVO(it),E.KVO(E.SKi))},p.\u0275prov=E.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),e})();function O(p){return p.map(e=>e.split(",")).reduce((e,s)=>e.concat(s)).map(e=>e.trim())}class dt{constructor(e,s){this._letterKeyStream=new V.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new V.B,this.selectedItem=this._selectedItem;const c="number"==typeof(null==s?void 0:s.debounceInterval)?s.debounceInterval:200;null!=s&&s.skipPredicate&&(this._skipPredicateFn=s.skipPredicate),this.setItems(e),this._setupKeyHandler(c)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){const s=e.keyCode;e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(s>=$.A&&s<=$.Z||s>=$.f2&&s<=$.bn)&&this._letterKeyStream.next(String.fromCharCode(s))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe((0,D.M)(s=>this._pressedLetters.push(s)),(0,Q.B)(e),(0,H.p)(()=>this._pressedLetters.length>0),(0,B.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(s=>{for(let x=1;x<this._items.length+1;x++){var c,b;const C=this._items[(this._selectedItemIndex+x)%this._items.length];if((null===(c=this._skipPredicateFn)||void 0===c||!c.call(this,C))&&0===(null===(b=C.getLabel)||void 0===b?void 0:b.call(C).toLocaleUpperCase().trim().indexOf(s))){this._selectedItem.next(C);break}}this._pressedLetters=[]})}}class at{constructor(e,s){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=a.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=c=>c.disabled,this.tabOut=new V.B,this.change=new V.B,e instanceof E.rOR?this._itemChangesSubscription=e.changes.subscribe(c=>this._itemsChanged(c.toArray())):(0,E.Hps)(e)&&(this._effectRef=(0,E.QZP)(()=>this._itemsChanged(e()),{injector:s}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();const s=this._getItemsArray();return this._typeahead=new dt(s,{debounceInterval:"number"==typeof e?e:void 0,skipPredicate:c=>this._skipPredicateFn(c)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(c=>{this.setActiveItem(c)}),this}cancelTypeahead(){var e;return null===(e=this._typeahead)||void 0===e||e.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,s=10){return this._pageUpAndDown={enabled:e,delta:s},this}setActiveItem(e){const s=this._activeItem;this.updateActiveItem(e),this._activeItem!==s&&this.change.next(this._activeItemIndex)}onKeydown(e){var s;const c=e.keyCode,x=["altKey","ctrlKey","metaKey","shiftKey"].every(C=>!e[C]||this._allowedModifierKeys.indexOf(C)>-1);switch(c){case $.wn:return void this.tabOut.next();case $.n6:if(this._vertical&&x){this.setNextItemActive();break}return;case $.i7:if(this._vertical&&x){this.setPreviousItemActive();break}return;case $.LE:if(this._horizontal&&x){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case $.UQ:if(this._horizontal&&x){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case $.yZ:if(this._homeAndEnd&&x){this.setFirstItemActive();break}return;case $.Kp:if(this._homeAndEnd&&x){this.setLastItemActive();break}return;case $.w_:if(this._pageUpAndDown.enabled&&x){const C=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(C>0?C:0,1);break}return;case $.dB:if(this._pageUpAndDown.enabled&&x){const C=this._activeItemIndex+this._pageUpAndDown.delta,G=this._getItemsArray().length;this._setActiveItemByIndex(C<G?C:G-1,-1);break}return;default:var A;return void((x||(0,$.rp)(e,"shiftKey"))&&(null===(A=this._typeahead)||void 0===A||A.handleKey(e)))}null===(s=this._typeahead)||void 0===s||s.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){var s;const c=this._getItemsArray(),b="number"==typeof e?e:c.indexOf(e),x=c[b];this._activeItem=null==x?null:x,this._activeItemIndex=b,null===(s=this._typeahead)||void 0===s||s.setCurrentSelectedItemIndex(b)}destroy(){var e,s,c;this._typeaheadSubscription.unsubscribe(),null===(e=this._itemChangesSubscription)||void 0===e||e.unsubscribe(),null===(s=this._effectRef)||void 0===s||s.destroy(),null===(c=this._typeahead)||void 0===c||c.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const s=this._getItemsArray();for(let c=1;c<=s.length;c++){const b=(this._activeItemIndex+e*c+s.length)%s.length;if(!this._skipPredicateFn(s[b]))return void this.setActiveItem(b)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,s){const c=this._getItemsArray();if(c[e]){for(;this._skipPredicateFn(c[e]);)if(!c[e+=s])return;this.setActiveItem(e)}}_getItemsArray(){return(0,E.Hps)(this._items)?this._items():this._items instanceof E.rOR?this._items.toArray():this._items}_itemsChanged(e){var s;if(null===(s=this._typeahead)||void 0===s||s.setItems(e),this._activeItem){const b=e.indexOf(this._activeItem);var c;b>-1&&b!==this._activeItemIndex&&(this._activeItemIndex=b,null===(c=this._typeahead)||void 0===c||c.setCurrentSelectedItemIndex(b))}}}class _t extends at{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function Zt(p){return 0===p.buttons||0===p.detail}function Wt(p){const e=p.touches&&p.touches[0]||p.changedTouches&&p.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}var r=function(p){return p[p.NONE=0]="NONE",p[p.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",p[p.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",p}(r||{});const l="cdk-high-contrast-black-on-white",f="cdk-high-contrast-white-on-black",I="cdk-high-contrast-active";let P=(()=>{var p;class e{constructor(c,b){this._platform=c,this._document=b,this._breakpointSubscription=(0,E.WQX)(yt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return r.NONE;const c=this._document.createElement("div");c.style.backgroundColor="rgb(1,2,3)",c.style.position="absolute",this._document.body.appendChild(c);const b=this._document.defaultView||window,x=b&&b.getComputedStyle?b.getComputedStyle(c):null,A=(x&&x.backgroundColor||"").replace(/ /g,"");switch(c.remove(),A){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return r.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return r.BLACK_ON_WHITE}return r.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const c=this._document.body.classList;c.remove(I,l,f),this._hasCheckedHighContrastMode=!0;const b=this.getHighContrastMode();b===r.BLACK_ON_WHITE?c.add(I,l):b===r.WHITE_ON_BLACK&&c.add(I,f)}}}return(p=e).\u0275fac=function(c){return new(c||p)(E.KVO(Y.OD),E.KVO(o.qQ))},p.\u0275prov=E.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),e})()},4085:(vt,J,v)=>{v.d(J,{FG:()=>a,OE:()=>Y,he:()=>E,i8:()=>N});var o=v(3953);function E(D){return null!=D&&"false"!=`${D}`}function Y(D,Q=0){return function V(D){return!isNaN(parseFloat(D))&&!isNaN(Number(D))}(D)?Number(D):2===arguments.length?Q:0}function a(D){return Array.isArray(D)?D:[D]}function N(D){return D instanceof o.aKT?D.nativeElement:D}},7336:(vt,J,v)=>{v.d(J,{A:()=>W,A$:()=>$,FX:()=>X,Fm:()=>a,Ge:()=>Ct,Kp:()=>T,LE:()=>q,UQ:()=>F,W3:()=>N,Z:()=>It,bn:()=>g,dB:()=>j,eg:()=>ce,f2:()=>it,i7:()=>K,n6:()=>lt,rp:()=>le,t6:()=>B,w_:()=>U,wn:()=>Y,yZ:()=>L});const Y=9,a=13,X=16,N=17,$=18,B=32,U=33,j=34,T=35,L=36,F=37,K=38,q=39,lt=40,it=48,g=57,W=65,It=90,Ct=91,ce=224;function le(Ut,...se){return se.length?se.some(de=>Ut[de]):Ut.altKey||Ut.shiftKey||Ut.ctrlKey||Ut.metaKey}},6860:(vt,J,v)=>{v.d(J,{BQ:()=>H,Fb:()=>ut,OD:()=>V,v8:()=>bt,vc:()=>lt});var o=v(3953),E=v(177);let Y;try{Y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Y=!1}let D,V=(()=>{var k;class z{constructor(st){this._platformId=st,this.isBrowser=this._platformId?(0,E.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(k=z).\u0275fac=function(st){return new(st||k)(o.KVO(o.Agw))},k.\u0275prov=o.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),z})();function H(k){return function Q(){if(null==D&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>D=!0}))}finally{D=D||!1}return D}()?k:!!k.capture}function lt(){let k=typeof document<"u"&&document?document.activeElement:null;for(;k&&k.shadowRoot;){const z=k.shadowRoot.activeElement;if(z===k)break;k=z}return k}function ut(k){return k.composedPath?k.composedPath()[0]:k.target}function bt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8834:(vt,J,v)=>{v.d(J,{Hl:()=>M});var o=v(3953),E=v(8820);let M=(()=>{var u;class _{}return(u=_).\u0275fac=function(y){return new(y||u)},u.\u0275mod=o.$C({type:u}),u.\u0275inj=o.G2t({imports:[E.yE,E.pZ,E.yE]}),_})()},8820:(vt,J,v)=>{v.d(J,{$E:()=>Bt,yE:()=>Z,O5:()=>Pt,pZ:()=>jt,ug:()=>Et});var o=v(3953),E=v(5262),Y=v(177);let Q=(()=>{var n;class i{}return(n=i).\u0275fac=function(l){return new(l||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({}),i})();var B=v(6860),U=v(4085);const O=new o.nKC("mat-sanity-checks",{providedIn:"root",factory:function yt(){return!0}});let Z=(()=>{var n;class i{constructor(l,f,I){this._sanityChecks=f,this._document=I,this._hasDoneGlobalChecks=!1,l._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(l){return!(0,B.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[l])}}return(n=i).\u0275fac=function(l){return new(l||n)(o.KVO(E.Q_),o.KVO(O,8),o.KVO(Y.qQ))},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[Q,Q]}),i})();var rt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(rt||{});class Lt{constructor(i,r,l,f=!1){this._renderer=i,this.element=r,this.config=l,this._animationForciblyDisabledThroughCss=f,this.state=rt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Tt=(0,B.BQ)({passive:!0,capture:!0});class Rt{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const r=(0,B.Fb)(i);var l;r&&(null===(l=this._events.get(i.type))||void 0===l||l.forEach((f,I)=>{(I===r||I.contains(r))&&f.forEach(P=>P.handleEvent(i))}))}}addHandler(i,r,l,f){const I=this._events.get(r);if(I){const P=I.get(l);P?P.add(f):I.set(l,new Set([f]))}else this._events.set(r,new Map([[l,new Set([f])]])),i.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,Tt)})}removeHandler(i,r,l){const f=this._events.get(i);if(!f)return;const I=f.get(r);I&&(I.delete(l),0===I.size&&f.delete(r),0===f.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,Tt)))}}const Dt={enterDuration:225,exitDuration:150},It=(0,B.BQ)({passive:!0,capture:!0}),Ct=["mousedown","touchstart"],St=["mouseup","mouseleave","touchend","touchcancel"];class Et{constructor(i,r,l,f){this._target=i,this._ngZone=r,this._platform=f,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,f.isBrowser&&(this._containerElement=(0,U.i8)(l))}fadeInRipple(i,r,l={}){const f=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),I={...Dt,...l.animation};l.centered&&(i=f.left+f.width/2,r=f.top+f.height/2);const P=l.radius||function Ft(n,i,r){const l=Math.max(Math.abs(n-r.left),Math.abs(n-r.right)),f=Math.max(Math.abs(i-r.top),Math.abs(i-r.bottom));return Math.sqrt(l*l+f*f)}(i,r,f),mt=i-f.left,p=r-f.top,e=I.enterDuration,s=document.createElement("div");s.classList.add("mat-ripple-element"),s.style.left=mt-P+"px",s.style.top=p-P+"px",s.style.height=2*P+"px",s.style.width=2*P+"px",null!=l.color&&(s.style.backgroundColor=l.color),s.style.transitionDuration=`${e}ms`,this._containerElement.appendChild(s);const c=window.getComputedStyle(s),x=c.transitionDuration,A="none"===c.transitionProperty||"0s"===x||"0s, 0s"===x||0===f.width&&0===f.height,C=new Lt(this,s,l,A);s.style.transform="scale3d(1, 1, 1)",C.state=rt.FADING_IN,l.persistent||(this._mostRecentTransientRipple=C);let G=null;return!A&&(e||I.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ht=()=>{G&&(G.fallbackTimer=null),clearTimeout(re),this._finishRippleTransition(C)},Ot=()=>this._destroyRipple(C),re=setTimeout(Ot,e+100);s.addEventListener("transitionend",ht),s.addEventListener("transitioncancel",Ot),G={onTransitionEnd:ht,onTransitionCancel:Ot,fallbackTimer:re}}),this._activeRipples.set(C,G),(A||!e)&&this._finishRippleTransition(C),C}fadeOutRipple(i){if(i.state===rt.FADING_OUT||i.state===rt.HIDDEN)return;const r=i.element,l={...Dt,...i.config.animation};r.style.transitionDuration=`${l.exitDuration}ms`,r.style.opacity="0",i.state=rt.FADING_OUT,(i._animationForciblyDisabledThroughCss||!l.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const r=(0,U.i8)(i);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,Ct.forEach(l=>{Et._eventManager.addHandler(this._ngZone,l,r,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{St.forEach(r=>{this._triggerElement.addEventListener(r,this,It)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===rt.FADING_IN?this._startFadeOutTransition(i):i.state===rt.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){const r=i===this._mostRecentTransientRipple,{persistent:l}=i.config;i.state=rt.VISIBLE,!l&&(!r||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){var r;const l=null!==(r=this._activeRipples.get(i))&&void 0!==r?r:null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=rt.HIDDEN,null!==l&&(i.element.removeEventListener("transitionend",l.onTransitionEnd),i.element.removeEventListener("transitioncancel",l.onTransitionCancel),null!==l.fallbackTimer&&clearTimeout(l.fallbackTimer)),i.element.remove()}_onMousedown(i){const r=(0,E._G)(i),l=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!l&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!(0,E.w6)(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=i.changedTouches;if(r)for(let l=0;l<r.length;l++)this.fadeInRipple(r[l].clientX,r[l].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(i.state===rt.VISIBLE||i.config.terminateOnPointerUp&&i.state===rt.FADING_IN)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(Ct.forEach(r=>Et._eventManager.removeHandler(r,i,this)),this._pointerUpEventsRegistered&&(St.forEach(r=>i.removeEventListener(r,this,It)),this._pointerUpEventsRegistered=!1))}}Et._eventManager=new Rt;const Bt=new o.nKC("mat-ripple-global-options");let jt=(()=>{var n;class i{}return(n=i).\u0275fac=function(l){return new(l||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[Z,Z]}),i})(),Pt=(()=>{var n;class i{}return(n=i).\u0275fac=function(l){return new(l||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[Z]}),i})()},2054:(vt,J,v)=>{v.d(J,{Fg:()=>qt});var o=v(3953),V=(v(4085),v(6860),v(8820));v(8359),v(6365),v(8750),v(983),v(3794),v(6648),v(1413),v(1985),v(6354),v(5964),v(9584);let K=(()=>{var d;class m{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return(d=m).\u0275fac=function(t){return new(t||d)},d.\u0275prov=o.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),m})(),ut=(()=>{var d;class m{}return(d=m).\u0275fac=function(t){return new(t||d)},d.\u0275mod=o.$C({type:d}),d.\u0275inj=o.G2t({providers:[K]}),m})();var bt=v(177);let z=(()=>{var d;class m{}return(d=m).\u0275fac=function(t){return new(t||d)},d.\u0275mod=o.$C({type:d}),d.\u0275inj=o.G2t({imports:[V.yE,V.yE]}),m})();v(5262),v(4402),v(7673),v(7336),v(4341),v(6977);let qt=(()=>{var d;class m{}return(d=m).\u0275fac=function(t){return new(t||d)},d.\u0275mod=o.$C({type:d}),d.\u0275inj=o.G2t({imports:[ut,bt.MD,V.yE,V.pZ,V.O5,z]}),m})()},5911:(vt,J,v)=>{v.d(J,{s5:()=>$});var o=v(3953),E=v(8820);let $=(()=>{var D;class Q{}return(D=Q).\u0275fac=function(B){return new(B||D)},D.\u0275mod=o.$C({type:D}),D.\u0275inj=o.G2t({imports:[E.yE,E.yE]}),Q})()}}]);